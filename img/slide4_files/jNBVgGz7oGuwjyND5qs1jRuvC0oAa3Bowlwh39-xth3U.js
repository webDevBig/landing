;/*FB_PKG_DELIM*/

__d("MAWCatQuery.graphql",["cr:11203"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:11203")}),null);
__d("MAWCatQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23999698219677129"}),null);
__d("MAWCatQuery.instagram.graphql",["MAWCatQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"SecureMessageOverWACATGraphResult",kind:"LinkedField",name:"secure_message_over_wa_cat_query",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_serialized_cat",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"expiration_time_in_seconds",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWCatQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWCatQuery",selections:a},params:{id:b("MAWCatQuery_instagramRelayOperation"),metadata:{},name:"MAWCatQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MAWCatQuery",["MAWCatQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h!==void 0?h:h=b("MAWCatQuery.graphql");c=a;g["default"]=c}),98);
__d("MWDeleteAllDBs",["MAWEncyptionIndexedDbV2","MAWIndexedDBDeletion","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum","asyncToGeneratorRuntime","cr:4434","cr:6883"],(function(a,b,c,d,e,f,g){"use strict";function h(){d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE,"full_due_to_ear")}function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){b("cr:6883")&&(yield b("cr:6883").deleteIndexedDB(a)),b("cr:4434")&&(yield b("cr:4434").deleteEBIDB()),yield d("MAWIndexedDBDeletion").deleteMAWPersistence(),yield d("MAWEncyptionIndexedDbV2").deleteEncryptionDB(),h()});return i.apply(this,arguments)}g["default"]=a}),98);
__d("MAWCryptoAuthToken",["FBLogger","MAWCatQuery","RelayHooks"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a==null||a.secure_message_over_wa_cat_query==null||a.secure_message_over_wa_cat_query.encrypted_serialized_cat==null||a.secure_message_over_wa_cat_query.expiration_time_in_seconds==null?{error:"Crypto Auth Token was null or incomplete"}:{success:{encrypted_serialized_cat:a.secure_message_over_wa_cat_query.encrypted_serialized_cat,expiration_time_in_seconds:a.secure_message_over_wa_cat_query.expiration_time_in_seconds}}}function a(a){return d("RelayHooks").fetchQuery(a,c("MAWCatQuery"),{}).toPromise().then(h).then(function(a){if(a.error!==null&&a.error!==void 0)throw c("FBLogger")("mpf_web_foundations").mustfixThrow("[MAWCryptoAuthToken] Error while fetching CAT from GraphQL: %s",a.error);return a.success})}g.fetchFreshCAT=a}),98);
__d("MAWEARDecryptionError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.name="MawEARError";c.message=b;return c}return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("MAWEncryptionErrorHandler",["FBLogger","LSPlatformErrorChannel","MAWEARDecryptionError","MAWEARKeychainDecryptionError","MAWSetupWorker","MWDeleteAllDBs","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(){c("promiseDone")(c("MWDeleteAllDBs")("bridge"),function(a){},function(a){c("FBLogger")("mpf_web_foundations").catching(a).mustfix("fail to delete dbs")})}function a(a){c("promiseDone")(d("MAWSetupWorker").killSharedWorkerOrTerminateWebWorkerTmp("EARDecryptionError"),function(a){h()},function(a){c("FBLogger")("mpf_web_foundations").catching(a).mustfix("fail to stop worker"),h()}),c("LSPlatformErrorChannel").emit(new(c("MAWEARDecryptionError"))("MAW DB Decryption Error in "+a+" table"))}function b(a){c("promiseDone")(d("MAWSetupWorker").killSharedWorkerOrTerminateWebWorkerTmp("MAWEARKeychainDecryptionError")),c("LSPlatformErrorChannel").emit(new(c("MAWEARKeychainDecryptionError"))(a))}g.deleteAllDbs=a;g.crashUiAskUserToReload=b}),98);
__d("WAChatState",[],(function(a,b,c,d,e,f){"use strict";a="typing";b="recording_audio";c="idle";d={TYPING:a,RECORDING_AUDIO:b};e={IDLE:c};f.TYPING=a;f.RECORDING_AUDIO=b;f.IDLE=c;f.ACTIVE_CHAT_STATE_TYPE=d;f.IDLE_CHAT_STATE_TYPE=e}),66);
__d("MAWBridgeReceivedChatStateHandler",["I64","MAWMiActOnMiThreadReadyForJid","Promise","ServerTime","WAChatState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c.threadJid,"MAWBridgeReceivedChatStateHandler",function(a,e){var f=(i||(i=d("I64"))).of_string(c.senderId),g=i.of_float(3e3+d("ServerTime").getMillis());if(c.state===d("WAChatState").TYPING)return a.typing_indicator.upsert([e,f],{expirationTimestampMs:g,senderId:f,threadKey:e}).then(function(){});else if(c.state===d("WAChatState").IDLE)return a.typing_indicator["delete"](e,f).then(function(){});else return(h||(h=b("Promise"))).resolve()})}g.call=a}),98);
__d("MAWBridgeDeleteGroupInviteHandler",["MAWMiActOnMiThreadReadyForJid","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c.threadJid,"MAWBridgeDeleteGroupInviteHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.group_invites).getKeyRange(c)));return(h||(h=b("Promise"))).all(c.map(function(b){return a.group_invites["delete"](b.threadKey,b.inviterId,b.inviteeId)})).then(function(){})});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeDeleteMessageRangesV2Handler",["I64","MAWMiActOnMiThreadReadyForJid"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeDeleteMessageRangesV2Handler",function(a,c){return a.messages_ranges_v2__generated["delete"](c,(h||(h=d("I64"))).of_float(b.minTimestampMs),b.minMsgId)})}g.call=a}),98);
__d("MAWBridgeDeleteMessagesHandler",["MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c.threadJid,"MAWBridgeDeleteMessagesHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){for(var e of c.messages)yield a.messages["delete"](b,d("MAWTimeUtils").toTimestamp(e.ts),e.msgId)});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeDeleteReactionHandler",["I64","MAWMiActOnMiThreadReadyForJid"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.chatJid,"MAWBridgeDeleteReactionHandler",function(a,c){return a.reactions["delete"](c,b.messageId,(h||(h=d("I64"))).of_string(b.actorId))})}g.call=a}),98);
__d("MAWBridgeEditMsgHistoryAddedHandler",["I64","LSMessageSendStatus","MAWChatJid","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,f){return(i||(i=b("Promise"))).all(f.map(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var f=(yield d("MAWChatJid").toThreadKey(a.tables,b.threadJid));b={messageContent:b.msgContent.content,originalMessagePk:b.originalMsgId,pk:b.editMsgHistoryId,sendStatus:b.sendStatus!=null?(h||(h=d("I64"))).of_int32(b.sendStatus):(h||(h=d("I64"))).of_int32(c("LSMessageSendStatus").SERVER_RECEIVED),serverAdjustedEditTsMs:(h||(h=d("I64"))).of_int32(b.editTs),threadKey:f};return e.edit_message_history.put(b)});return function(a){return f.apply(this,arguments)}}())).then(function(){})}g.call=a}),98);
__d("MAWBridgeGroupInfoUpdatedHandler",["MAWMiActOnMiThreadReadyForJid","ReQL","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,e.chatJid,"MAWBridgeGroupInfoUpdatedHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var f;f=(f=e.threadName)!=null?f:void 0;a=a.threads;b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(b)));if(b==null)return;var g=c("gkx")("33036")?{needsAdminApprovalForNewParticipant:e.memberAddMode!=="all_member_add"}:{};yield a.put(babelHelpers["extends"]({},b,g,{threadName:f}))});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeGroupInviteLoadedHandler",["fbt","I64","LSMessagingThreadTypeUtil","MAWMiActOnMiThreadReadyForJid","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=a.threads,f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e).getKeyRange(c)));if(f==null)return;var g=d("LSMessagingThreadTypeUtil").isGroup(f.threadType);if(!g)return;g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.group_invites).getKeyRange(c)));if(g==null)return;c=(i||(i=d("I64"))).equal((i||(i=d("I64"))).of_string(b.actorId),g.inviterId)?null:yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.contacts,["name"]).getKeyRange(g.inviterId));if(c==null)return;b=h._("__JHASH__UJFQkCMRFkv__JHASH__",[h._param("Inviter Name",c.name)]).toString();a=f.folderName==="inbox"?h._("__JHASH__4F6x7gUU1-S__JHASH__").toString():f.additionalThreadContext;yield e.put(babelHelpers["extends"]({},f,{additionalThreadContext:a,snippet:b}))});return k.apply(this,arguments)}function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeGroupInviteLoadedHandler",function(a,c){return j(a,b,c)})}g.callWithoutWaitingForAnything=j;g.call=a}),226);
__d("LSContactUserBlockAction",[],(function(a,b,c,d,e,f){a=Object.freeze({MN_UNBLOCK:0,MN_BLOCK:1,FB_UNBLOCK:2,FB_BLOCK:3});f["default"]=a}),66);
__d("MAWBlockUtils",["I64","LSContactUserBlockAction","LSIntEnum","LSThreadBitOffset","ReQL","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useCallback,m=[0,31,35,55,56,58,24,25,19,85],n=[0,31,35,55,56,58,24,25,19,85,8,22],o=[35,19,85,56,24,25];function a(){var a=(h||(h=c("useReStore")))();return l(function(e,f){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(e)));if(b==null)return;var g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b.threadKey).filter(function(a){return(i||(i=d("I64"))).equal(a.threadType,(j||(j=d("LSIntEnum"))).ofNumber(15))})));if(g==null)return;b=(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactUserBlockAction").MN_BLOCK))?d("LSThreadBitOffset").clear(m,g.capabilities,g.capabilities2,g.capabilities3,g.capabilities4):(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactUserBlockAction").FB_BLOCK))?d("LSThreadBitOffset").clear(n,g.capabilities,g.capabilities2,g.capabilities3,g.capabilities4):d("LSThreadBitOffset").set(o,g.capabilities,g.capabilities2,g.capabilities3,g.capabilities4);var h=b[0],k=b[1];yield a.runInTransaction(function(a){var b=babelHelpers["extends"]({},g,{capabilities:h,capabilities2:k});return a.threads.put(b)},"readwrite")})())},[a])}g.clearedMnBlockCapabilities=m;g.clearedFbBlockCapabilities=n;g.useChangeThreadBlockCapabilities=a}),98);
__d("MAWMessageRequestUtil",["I64","LSContactBitOffset","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e){if(a==="pending"||a==="other")return!0;var f=d("LSContactBitOffset").hasWithDefault(64,e,!0);return a==="inbox"&&(h||(h=d("I64"))).equal(e.contactViewerRelationship,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").NOT_CONTACT))&&!f?b:!1}function k(a){return a==="pending"||a==="other"}function a(a){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?k(a.folderName):!1}function l(a,b){return b!=null?j(a.folderName,!(h||(h=d("I64"))).equal(a.lastActivityTimestampMs,h.zero),b[1]):!1}function b(a,b){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?l(a,b):!1}e=[8,18,19,34,24,25,122];f=[21,48];g.isMessageRequestV2=j;g.isOneOnOneMessageRequest=a;g.isOneOnOneMessageRequestV2=b;g.disabledThreadCapabilitiesForIncomingRequest=e;g.enabledThreadCapabilitiesForIncomingRequest=f}),98);
__d("clearedMAWMnRestrictCapabilities",[],(function(a,b,c,d,e,f){"use strict";a=[0,31,35,55,56,58,24,25,35,19];b=a;f["default"]=b}),66);
__d("MAWUpdateLSThreadCapabilities",["fbt","I64","LSBitOffset","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWBlockUtils","MAWCurrentUser","MAWMessageRequestUtil","Promise","ReQL","asyncToGeneratorRuntime","clearedMAWMnRestrictCapabilities"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=d("MAWCurrentUser").getID(),m=(k||(k=d("I64"))).of_string(l);function a(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(c)).then(function(c){if(c==null)return(i||(i=b("Promise"))).resolve();var e=d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(27),c.capabilities);c=babelHelpers["extends"]({},c,{capabilities:e});return a.threads.put(c)}).then(function(){})}function e(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(c)).then(function(c){if(c==null)return(i||(i=b("Promise"))).resolve();var e=d("LSBitOffset").clear((j||(j=d("LSIntEnum"))).ofNumber(27),c.capabilities);c=babelHelpers["extends"]({},c,{capabilities:e});return a.threads.put(c)}).then(function(){})}function f(a,e){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e)).then(function(c){if(c==null)return(i||(i=b("Promise"))).resolve([void 0,void 0]);var f=d("ReQL").firstAsync(d("LSMessagingThreadTypeUtil").isOneToOne(c.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.participants).getKeyRange(e),d("ReQL").fromTableAscending(a.contacts)).filter(function(a){a=a[1];return!(k||(k=d("I64"))).equal(a.id,m)}).map(function(a){a=a[1];return a}):d("ReQL").empty());return(i||(i=b("Promise"))).all([i.resolve(c),f])}).then(function(e){var f=e[0];if(f==null)return(i||(i=b("Promise"))).resolve();e=e[1];if(e==null)return(i||(i=b("Promise"))).resolve();var g=(k||(k=d("I64"))).equal(e.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").MESSAGE_BLOCKED)),h=k.equal(e.blockedByViewerStatus,j.ofNumber(c("LSContactBlockedByViewerStatus").FULLY_BLOCKED));e=d("LSContactBitOffset").has(66,e);h=h?d("LSThreadBitOffset").clear(d("MAWBlockUtils").clearedFbBlockCapabilities,f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4):g?d("LSThreadBitOffset").clear(d("MAWBlockUtils").clearedMnBlockCapabilities,f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4):e?d("LSThreadBitOffset").clear(c("clearedMAWMnRestrictCapabilities"),f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4):[f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4];g=h[0];e=h[1];var l=h[2];h=h[3];return a.threads.put(babelHelpers["extends"]({},f,{capabilities:g,capabilities2:e,capabilities3:l,capabilities4:h})).then(function(){})})}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){a=a.threads;c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(c)));if(c==null)return(i||(i=b("Promise"))).resolve();var e=d("LSThreadBitOffset").set.apply(d("LSThreadBitOffset"),[d("MAWMessageRequestUtil").disabledThreadCapabilitiesForIncomingRequest].concat(d("LSThreadBitOffset").clear(d("MAWMessageRequestUtil").enabledThreadCapabilitiesForIncomingRequest,c.capabilities,c.capabilities2,c.capabilities3,c.capabilities4))),f=e[0],g=e[1],h=e[2];e=e[3];yield a.put(babelHelpers["extends"]({},c,{additionalThreadContext:void 0,capabilities:f,capabilities2:g,capabilities3:h,capabilities4:e}))});return o.apply(this,arguments)}function p(a,b,c){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b)));if(b==null)return;c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.contacts,["name"]).getKeyRange(c)));if(c==null)return;c=h._("__JHASH__uQTwTbCP0iW__JHASH__",[h._param("Inviter Name",c.name)]).toString();var e=d("LSThreadBitOffset").set([105],b.capabilities,b.capabilities2,b.capabilities3,b.capabilities4),f=e[0],g=e[1],i=e[2];e=e[3];yield a.threads.put(babelHelpers["extends"]({},b,{capabilities:f,capabilities2:g,capabilities3:i,capabilities4:e,snippet:c}))});return q.apply(this,arguments)}function r(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(c)));if(e==null)return;c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.group_invites).getKeyRange(c)));var f=d("LSThreadBitOffset").clear([105],e.capabilities,e.capabilities2,e.capabilities3,e.capabilities4),g=f[0],h=f[1],i=f[2];f=f[3];yield a.threads.put(babelHelpers["extends"]({},e,{capabilities:g,capabilities2:h,capabilities3:i,capabilities4:f,snippet:void 0}));yield c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield a.group_invites["delete"](b.threadKey,b.inviterId,b.inviteeId)});return function(a){return c.apply(this,arguments)}}())});return s.apply(this,arguments)}g.enableAddMembersTxn=a;g.disableAddMembersTxn=e;g.disableBlockerCapabilitiesTxn=f;g.updateNonMessageRequestThreadTxn=n;g.setGroupInviteTxn=p;g.clearGroupInviteTxn=r}),226);
__d("MAWBridgeGroupInviteUpdateHandler",["I64","MAWMiActOnMiThreadReadyForJid","MAWUpdateLSThreadCapabilities","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c.threadJid,"MAWBridgeGroupInviteUpdateHandler",function(a,e){var f=(i||(i=d("I64"))).of_string(c.inviterId);return(h||(h=b("Promise"))).all([d("MAWUpdateLSThreadCapabilities").setGroupInviteTxn(a,e,f)]).then(function(){})})}g.call=a}),98);
__d("MAWBridgeHandleCOPDigest",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){return(g||(g=b("Promise"))).resolve()}f.call=a}),66);
__d("MAWBridgeMediaExpiredHandler",["MAWMiActOnMiThreadReadyForJid"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeMediaExpiredHandler.bs",function(a,c){return a.attachments["delete"](c,b.msgId,String(b.mediaId))})}g.call=a}),98);
__d("LSInsertNewMessageRangeStoredProcedure",["LSInsertNewMessageRange","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.newMinTs;d[2]=b.newMaxTs;d[3]=b.newMinMid;d[4]=b.newMaxMid;d[5]=b.lowerOverlap;d[6]=b.upperOverlap;d[7]=b.hasMoreBefore;d[8]=b.hasMoreAfter;d[9]=b.requestedMessageId;return c("LSInsertNewMessageRange").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWBridgeMsgRangeLoadedHandler",["I64","LSFactory","LSInsertNewMessageRangeStoredProcedure","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","Promise","WALogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["No messages found for thread "," with message id ",""]);j=function(){return a};return a}function a(a,e){if(e.rangeExtensionType==null){d("WALogger").ERROR(j(),e.threadJid,e.offsetMsgId);return(i||(i=b("Promise"))).resolve()}return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,e.threadJid,"MAWBridgeMsgRangeLoadedHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var f,g,i,j,k,l;f=((f=e.rangeExtensionType)==null?void 0:f.minMsgTs)!=null?(h||(h=d("I64"))).of_float(e.rangeExtensionType.minMsgTs):d("MAWTimeUtils").MIN_TIMESTAMP_MS;g=((g=e.rangeExtensionType)==null?void 0:g.maxMsgTs)!=null?(h||(h=d("I64"))).of_float(e.rangeExtensionType.maxMsgTs):d("MAWTimeUtils").MAX_TIMESTAMP_MS;i=(i=(i=e.rangeExtensionType)==null?void 0:i.minMsgId)!=null?i:"";j=(j=(j=e.rangeExtensionType)==null?void 0:j.maxMsgId)!=null?j:"";k=(k=(k=e.rangeExtensionType)==null?void 0:k.hasMoreBefore)!=null?k:!1;l=(l=(l=e.rangeExtensionType)==null?void 0:l.hasMoreAfter)!=null?l:!1;var m=e.offsetMsgId;yield c("LSInsertNewMessageRangeStoredProcedure")(c("LSFactory")(a),{hasMoreAfter:l,hasMoreBefore:k,lowerOverlap:f,newMaxMid:j,newMaxTs:g,newMinMid:i,newMinTs:f,requestedMessageId:m,threadKey:b,upperOverlap:g})});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWLocalizationEphemeralSettingSetAdminMsg",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_YOU_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.SEND_BASED_PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET}g.isEphemeralSettingSetAdminMsg=a}),98);
__d("MAWAdminMsgCTA",["fbt","I64","MAWLocalizationEphemeralSettingSetAdminMsg","MAWLocalizationType","MAWTimeUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=h._("__JHASH__iw7A0LnsmaW__JHASH__").toString(),l=h._("__JHASH__jODYJ2eW1Pa__JHASH__").toString(),m=h._("__JHASH__xAOSvpC7vLN__JHASH__").toString(),n=h._("__JHASH__P5k2go6lj2P__JHASH__").toString();function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.admin_message_ctas.index("ctaId"))));return a!=null?(j||(j=d("I64"))).add(a.ctaId,(j||(j=d("I64"))).one):(j||(j=d("I64"))).zero});return p.apply(this,arguments)}function q(a,b,c){b=[b,c];return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.admin_message_ctas).bounds({gte:b,lte:b}))}function r(a){if(a==null)return{showAdChoiceIcon:!1};if(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(a))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:k};switch(a){case d("MAWLocalizationType").CUTOVER_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").CUTOVER_IGD_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").E2EE_THREAD_DESCRIPTION:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:l};case d("MAWLocalizationType").CUTOVER_ROLLBACK_ADMIN_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:m};case d("MAWLocalizationType").DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:n};default:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:void 0}}}function s(a){if(a==null)return;if(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(a))return"admin_msg_armadillo_ephemeral_change_duration";switch(a){case d("MAWLocalizationType").CUTOVER_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").CUTOVER_IGD_THREAD_ADMIN_MESSAGE:return"admin_msg_thread_level_cutover";case d("MAWLocalizationType").E2EE_THREAD_DESCRIPTION:return"admin_msg_e2ee_thread";case d("MAWLocalizationType").CUTOVER_ROLLBACK_ADMIN_MESSAGE:return"admin_msg_cutover_rollback";case d("MAWLocalizationType").DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:return"admin_msg_dual_thread_cutover"}}function t(a,b,c,d,e){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f){yield a.admin_message_ctas.add({actionUrl:f.actionUrl,adClientToken:f.adClientToken,adHelpUrl:f.adHelpUrl,adminMessageNicknameParticipantId:f.adminMessageNicknameParticipantId,adPreferenceUrl:f.adPreferenceUrl,ctaId:b,messageId:e.msgId,showAdChoiceIcon:f.showAdChoiceIcon,targetId:f.targetId,targetTitle:f.targetTitle,threadKey:c,timestampMs:d("MAWTimeUtils").toTimestamp(e.ts),title:f.title})});return u.apply(this,arguments)}function v(a,b,c){return w.apply(this,arguments)}function w(){w=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d){var e=(yield (i||(i=b("Promise"))).all([q(a,c,d.msgId),o(a)])),f=e[0];e=e[1];if(f!=null)return{ctaId:f.ctaId,ctaType:s(d.adminType),title:f.title};else{f=r(d.adminType);yield t(a,e,c,d,f);return{ctaId:e,ctaType:s(d.adminType),title:f.title}}});return w.apply(this,arguments)}function a(a,c,e){var f=e.adminType;return f!=null&&(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(f)||f===d("MAWLocalizationType").CUTOVER_THREAD_ADMIN_MESSAGE||f===d("MAWLocalizationType").CUTOVER_IGD_THREAD_ADMIN_MESSAGE||f===d("MAWLocalizationType").E2EE_THREAD_DESCRIPTION||f===d("MAWLocalizationType").CUTOVER_ROLLBACK_ADMIN_MESSAGE||f===d("MAWLocalizationType").DUAL_THREAD_CUTOVER_ADMIN_MESSAGE)?v(a,c,e):(i||(i=b("Promise"))).resolve()}g.getAdminMsgCtaStep=a}),226);
__d("MAWBumpMessageMsgReplySnippet",["getMAWLocalizedBumpMsgReplySnippet"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.isAuthorMe,d=a.recipientName,e=a.replySenderIsMe,f=a.replySenderIsRecipient;a=a.senderName;var g="participantBumpedParticipantMessage";b&&e?g="currentUserBumpedOwnMessage":b?g="currentUserBumpedMessage":e?g="participantBumpedCurrentUserMessage":f&&(g="participantBumpedOwnMessage");return c("getMAWLocalizedBumpMsgReplySnippet")(g,a,d)}g.buildBumpMessageReplySnippet=a}),98);
__d("MAWMsgReplyStatus",["LSIntEnum","LSReplyMessageStatus","MAWMsgType"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){switch(a){case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.REVOKED:return c("LSReplyMessageStatus").DELETED;case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.XMA:case d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:return c("LSReplyMessageStatus").VALID;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:return c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE;case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:return c("LSReplyMessageStatus").UNKNOWN;case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return c("LSReplyMessageStatus").EXPIRED;default:return void 0}}function a(a){a=i(a.replyStatusType);if(a!=null)return(h||(h=d("LSIntEnum"))).ofNumber(a)}g.getReplyMessageStatus=i;g.getLSReplyMessageStatus=a}),98);
__d("MAWMsgReplySnippet",["fbt","I64","LSIntEnum","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWBumpMessageMsgReplySnippet","MAWMsgReplyStatus","MAWMsgType","ODS","err"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function l(a){var b=a.isAuthorMe,e=a.isBumpMsg;e=e===void 0?!1:e;var f=a.isDeletedMsg,g=a.isIGXMAStoryShare;g=g===void 0?!1:g;var k=a.isNoteReply;k=k===void 0?!1:k;var l=a.isPostPrivateReply;l=l===void 0?!1:l;var m=a.isStoryHighlightShare;m=m===void 0?!1:m;var n=a.isStoryMention;n=n===void 0?!1:n;var o=a.isStoryReaction;o=o===void 0?!1:o;var p=a.isStoryReply;p=p===void 0?!1:p;var q=a.isStoryShare;q=q===void 0?!1:q;var r=a.recipientName,s=a.replyAttachmentType,t=a.replySenderIsMe;t=t===void 0?!1:t;var u=a.replySenderIsRecipient;u=u===void 0?!1:u;var v=a.senderName;a=a.storyShareAuthor;switch(!0){case e:return d("MAWBumpMessageMsgReplySnippet").buildBumpMessageReplySnippet({isAuthorMe:b,recipientName:r,replySenderIsMe:t,replySenderIsRecipient:u,senderName:v});case m:return a!=null?h._("__JHASH__3A-F80NGMR1__JHASH__",[h._param("username",a)]):h._("__JHASH__btyC9aNJMDF__JHASH__");case g&&s!=null&&(i||(i=d("I64"))).equal(s,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").FEED_POST)):return a!=null?h._("__JHASH__xnZ-ffIPZnP__JHASH__",[h._param("username",a)]):h._("__JHASH__nEqZlivBoJj__JHASH__");case b&&f:return h._("__JHASH__FzueDOoURT8__JHASH__");case b&&q:return h._("__JHASH__d4DLCdwDC03__JHASH__");case b&&o:return h._("__JHASH__yaEVWahdF8q__JHASH__");case b&&n:return r!=null?h._("__JHASH__ZcIFbzn42DR__JHASH__",[h._param("name",r)]):h._("__JHASH__M3uJqhYYEHf__JHASH__");case n:return h._("__JHASH__dgpS1OhnF7B__JHASH__");case b&&l:return r!=null?h._("__JHASH__VKBGNzy_Yqs__JHASH__",[h._param("name",r)]):h._("__JHASH__n0YtGhrNuCJ__JHASH__");case l:return h._("__JHASH__i08IJ6pj_jc__JHASH__",[h._param("name",v)]);case!b&&k:return h._("__JHASH__6yn4tcYSSq3__JHASH__",[h._param("name",v)]);case b&&k:return h._("__JHASH__XYG_9W-CuAE__JHASH__");case b&&t:return h._("__JHASH__GiGYAtipVIl__JHASH__");case b&&p:return r!=null?h._("__JHASH__ZkkDtvZx-as__JHASH__",[h._param("name",r)]):h._("__JHASH__GEUovmERkjj__JHASH__");case b:return r!=null?h._("__JHASH__eQLjVyXwwuH__JHASH__",[h._param("other_name",r)]):h._("__JHASH__NYU_gsfRGpq__JHASH__");case f:return h._("__JHASH__30kvLEU_B_p__JHASH__",[h._param("name",v)]);case q:return h._("__JHASH__JQwHPEO2e9j__JHASH__",[h._param("user",v)]);case o:return h._("__JHASH__BS0JbOB2Hdc__JHASH__");case u:return h._("__JHASH__RWi7lW394uo__JHASH__",[h._param("other",v)]);case t&&p:return h._("__JHASH__zc6GoZLyKDZ__JHASH__",[h._param("name",v)]);case t:return h._("__JHASH__uU6-xunUPnp__JHASH__",[h._param("other_name",v)]);default:return r!=null?h._("__JHASH__iOHMd6RP1E7__JHASH__",[h._param("other",v),h._param("other_name",r)]):h._("__JHASH__JL2f9yie2zt__JHASH__",[h._param("other",v)])}}function a(a){var b=a.isAuthorMe,e=a.isIGXMAStoryShare,f=a.isNoteReply;f=f===void 0?!1:f;var g=a.isPostPrivateReply;g=g===void 0?!1:g;var h=a.isStoryHighlightShare;h=h===void 0?!1:h;var i=a.isStoryMention;i=i===void 0?!1:i;var j=a.isStoryReaction,m=a.isStoryReply,n=a.isStoryShare;n=n===void 0?!1:n;var o=a.replySenderIsMe,p=a.replySourceId,q=a.replyStatusType,r=a.replyToUserId,s=a.sender,t=a.storyShareAuthor;a=a.type_;a=a===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE;if(p==null&&!n&&!i&&!h&&!f)return;if(r==null||s==null)throw c("err")("Error getting reply snippet without replyToUserId or sender");(k||(k=d("ODS"))).bumpEntityKey(3185,"armadillo_reply","creating_reply_snippet");return(p=l({isAuthorMe:b,isBumpMsg:a,isDeletedMsg:d("MAWMsgReplyStatus").getReplyMessageStatus(q)===c("LSReplyMessageStatus").DELETED,isIGXMAStoryShare:e,isNoteReply:f,isPostPrivateReply:g,isStoryHighlightShare:h,isStoryMention:i,isStoryReaction:j,isStoryReply:m,isStoryShare:n,recipientName:"$PARTICIPANT_FIRST_NAME("+r+")",replySenderIsMe:o,replySenderIsRecipient:s===r,senderName:"$PARTICIPANT_FIRST_NAME("+s+")",storyShareAuthor:t}))==null?void 0:p.toString()}g.buildLocalizedReplySnippet=l;g.getReplySnippet=a}),226);
__d("MAWBridgeBuildAdminMsg",["MAWAdminMsg","MAWAdminMsgNormalized","MAWLocalizationType","MAWSubscribeToContactNames","MAWThreadCustomizationUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a==null?void 0:a.replace(/\$/g,"$$$$")}function a(a,b,c){c===void 0&&(c=0);a=d("MAWAdminMsgNormalized").deconstructContactIdsFromAdminContent(b,a);var e=a.contactIds;a=a.contents;var f=d("MAWThreadCustomizationUtils").nicknameOnlyForFirstParticipantChecking(b),g=d("MAWThreadCustomizationUtils").skipNicknameCheck(b);if(c===1){var i=b===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP?d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME:d("MAWSubscribeToContactNames").ContactNameMode.FULL_NAME;return d("MAWAdminMsg").buildLocalizedString(a.map(h),e.map(function(a,b){return f&&b>0||g?i===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$CONTACT_FIRST_NAME("+a+")":"$CONTACT_FULL_NAME("+a+")":i===d("MAWSubscribeToContactNames").ContactNameMode.FIRST_NAME?"$PARTICIPANT_FIRST_NAME("+a+")":"$PARTICIPANT_FULL_NAME("+a+")"}),b)}return d("MAWAdminMsg").buildLocalizedString(a,e,b)}g.buildAdminMsgText=a}),98);
__d("MAWMsgReply",["EntMessageReplyType","I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","MAWMsg","cr:2472"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){return a.replySourceId!=null}function a(a){a=a.replyToUserId;return a==null?void 0:(h||(h=d("I64"))).of_string(a)}function e(a){var b=a.isForwarded,e=a.isStoryReply,f=a.isStoryShare;a=j(a);if(b)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD);if(f!=null&&f)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE);if(a)if(e!=null&&e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY);else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE)}function f(a){var b=j(a),e=a.isStoryReply;a=a.isStoryShare;if(a!=null&&a)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE);if(b)if(e!=null&&e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY);else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE)}function k(a){if(a.replySourceId!=null)return a.replySourceId}function l(a){if(a.replySourceTimestampMs!=null)return(h||(h=d("I64"))).of_float(a.replySourceTimestampMs)}function m(a){if(a.replySourceId!=null)return a.replyMessageText}function n(a){if(a.replySourceId!=null)return a.replyMentionedJids}function o(a){return a.type_===d("MAWMsg").bumpExistingMessage?(i||(i=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP):j(a)?(i||(i=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").REGULAR):void 0}function p(a){return a.replySourceId==null?!1:a.replyMediaUrlMimeType!=null}function q(a){return a.replyStatusType==="XMA"&&a.replyMessageText!=null}function r(a){if(p(a)&&!q(a))return a.replyMediaUrlMimeType}function s(a){if(p(a))return a.replyMediaPreviewHeight!=null?(h||(h=d("I64"))).of_int32(a.replyMediaPreviewHeight):void 0}function t(a){if(p(a))return a.replyMediaPreviewWidth!=null?(h||(h=d("I64"))).of_int32(a.replyMediaPreviewWidth):void 0}function u(a){var e=a.replyMessageText;e=e!=null?b("cr:2472")==null?e:b("cr:2472").unvault(e):"";e=e==="\ud83d\udc4d"&&a.replyStatusType==="Sticker";var f=p(a),g=a.replyStatusType;if(f){if(g==null)return;switch(g){case"Gif":if(e)return;else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF);case"Ptt":if(e)return;else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER);case"Sticker":if(!e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER);break;case"Video":if(e)return;else return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO);case"Image":case"XMA":if(e)return;if(a.isIGXMAPostShare===!0||a.isIGXMAStoryShare===!0||a.isStoryHighlightShare===!0||a.isPostPrivateReply===!0)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").FEED_POST);if(q(a))return;return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO);case"DocumentFile":if(e)return;return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER);default:}}if(g!=null&&g==="Sticker"&&e)return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER)}function v(a){var b=a.replyMediaId,c=a.replyXMAId;if(p(a)&&b!=null)return c!=null?void 0:(h||(h=d("I64"))).of_int32(b);if(b!=null||c==null)return;if(c!=null&&q(a))return;return(h||(h=d("I64"))).of_int32(c)}function w(a){var b=a.replyPlaintextHash;if(p(a)&&b!=null)return""+b}function x(a){var b=a.isStoryReply,c=a.replyMessageText,e=a.replyStatusType,f=u(a);a=v(a);if(e!=null&&e==="XMA"&&f==null){if(a!=null)return;if(c==null)return(h||(h=d("I64"))).zero}if(a!=null||!(b!=null&&b))return;return(h||(h=d("I64"))).zero}g.getReplyUserId=a;g.getReplySourceTypeV2=e;g.getReplySourceType=f;g.getReplySourceId=k;g.getReplyTimestampMs=l;g.getReplyMessageText=m;g.getReplyMentionedJids=n;g.getReplyType=o;g.getReplyMediaMimeType=r;g.getReplyMediaHeight=s;g.getReplyMediaWidth=t;g.getReplyAttachmentType=u;g.getReplyAttachmentId=v;g.getReplyAttachmentPlaintextHash=w;g.getReplyMediaExpirationTimestampMs=x}),98);
__d("MAWBridgeBuildMsg",["fbt","I64","MAWBridgeBuildAdminMsg","MAWBridgeBuildMsgMentions","MAWJids","MAWMsgReply","MAWMsgType","MAWVault","Promise"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function k(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.filter(Boolean).reduce(function(a,b){return[].concat(a,b)},[])}function l(a){return a!=null?d("MAWVault").unvault(a):void 0}function m(a){return a!=null?d("MAWVault").vault(a):void 0}function n(a){return babelHelpers["extends"]({},a,{replyMessageText:m(a.replyMessageText),text:m(a.text)})}function a(a){a=a.ephemeralDurationInSec;return a!=null?(j||(j=d("I64"))).of_int32(a):void 0}function c(a,c){var e=d("MAWMsgReply").getReplyMessageText(a),f=a.adminContent,g=a.adminType,j=a.adminVersion,m=a.content,o=a.isAdminMessage,p=m;o&&f!=null&&g!=null&&(p=d("MAWBridgeBuildAdminMsg").buildAdminMsgText(f,g,j));if(a.type_===d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE)if(a.replySourceId==null)p="";else{p=(o=c)!=null?o:h._("__JHASH__W6kPEK81i0G__JHASH__").toString()}f=k(a.mentionedJids,d("MAWMsgReply").getReplyMentionedJids(a));return f.length>0?(i||(i=b("Promise"))).resolve(d("MAWBridgeBuildMsgMentions").buildMsgTextWithMentions(l(m),f,l(e))).then(n):(i||(i=b("Promise"))).resolve({replyMessageText:e,text:p})}function e(a,c,e){var f=c==null?void 0:c.text;c=k(e,c==null?void 0:(e=c.mentionIds)==null?void 0:e.split(",").map(d("MAWJids").toUserJid));return c.length>0?(i||(i=b("Promise"))).resolve(d("MAWBridgeBuildMsgMentions").buildMsgTextWithMentions(l(a),c,l(f))).then(n):(i||(i=b("Promise"))).resolve({replyMessageText:f,text:a})}g.getEphemeralDurationInSec=a;g.buildMessage=c;g.buildOptimisticMessage=e}),226);
__d("LSTransportKey",[],(function(a,b,c,d,e,f){a=Object.freeze({ADVANCED_CRYPTO:"AdvancedCrypto",CARRIER_MESSAGING:"CarrierMessaging",FB_BROKER:"FBBroker",FB_LEGACY_BROKER:"FBLegacyBroker",TAM:"TAM",WHATS_APP:"WhatsApp",INSTAMADILLO:"Instamadillo",ENCRYPTED_BACKUPS:"EncryptedBackups",CLIENT_CONTACTS_PLACEHOLDER:""});f["default"]=a}),66);
__d("MAWBridgeMsgUtils",["LSTransportKey"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=Object.keys(c("LSTransportKey")).find(function(b){return c("LSTransportKey")[b]===a});return b?c("LSTransportKey")[b]:"WhatsApp"}g.convertStringToLSTransportKeyType=a}),98);
__d("MAWUpdateMsg",["I64","LSAuthorityLevel","LSIntEnum","LSMessageUnsendabilityStatus","MAWAckLevel","MAWBridgeBuildMsg","MAWBridgeMsg","MAWBridgeMsgUtils","MAWMiActOnMiThreadReadyForJid","MAWMsg","MAWMsgReply","MAWMsgReplyStatus","MAWTimeUtils","MWPBumpEntityKey","ReQL","asyncToGeneratorRuntime","justknobx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c,e,f,g){return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c,"MAWUpdateMsg",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=a.messages;b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(b,e,f)));b!=null&&(yield a.put(babelHelpers["extends"]({},b,g)))});return function(b,c){return a.apply(this,arguments)}}())});return function(b){return a.apply(this,arguments)}}(),"readwrite")}function e(a,b,c,d,e){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var j,k;j=d("MAWTimeUtils").toTimestamp(b.type_===d("MAWMsg").unsent?(j=b.originalTs)!=null?j:b.ts:b.ts);var l=b.type_===d("MAWMsg").unsent,m=(yield d("MAWBridgeBuildMsg").buildMessage(b,g));k=(k=d("MAWBridgeMsgUtils").convertStringToLSTransportKeyType(b.transportKey))!=null?k:"WhatsApp";var n=c("qex")._("735")===!0?e.primarySortKey:(h||(h=d("I64"))).of_float(b.sortOrderMs);if(c("justknobx")._("2418")){var o=b.sortOrderMs-(h||(h=d("I64"))).to_float(e.primarySortKey),p;Math.abs(o)<1e3?p="less_then_one_second":Math.abs(o)<3e3?p="less_then_three_seconds":Math.abs(o)<5e3?p="less_then_five_seconds":Math.abs(o)<1e4?p="less_then_ten_seconds":Math.abs(o)<6e4?p="less_then_one_minute":Math.abs(o)<6e5?p="less_then_ten_minutes":Math.abs(o)<36e5?p="less_then_one_hour":p="more_then_one_hour";o<0&&(p="negative_"+p);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.update_msg","optimistic_timestamp_diff_"+p)}o=babelHelpers["extends"]({},e,m,{adminMsgCtaId:f==null?void 0:f.ctaId,adminMsgCtaTitle:f==null?void 0:f.title,adminMsgCtaType:f==null?void 0:f.ctaType,authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:l||!b.isAuthorMe?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageUnsendabilityStatus").DENY_FOR_NON_SENDER):void 0,displayedContentTypes:d("MAWMsg").getDisplayedContentTypes(b.type_,b.isForwarded,b.isExpiredXmaMsg,b.replySourceId!=null,b.unsupportedType),editCount:b.editCount!=null?(h||(h=d("I64"))).of_int32(b.editCount):(h||(h=d("I64"))).zero,ephemeralDurationInSec:d("MAWBridgeBuildMsg").getEphemeralDurationInSec(b),hotEmojiSize:d("MAWBridgeMsg").getSpecialTextSize(b),isUnsent:b.type_===d("MAWMsg").unsent,messageId:b.msgId,primarySortKey:n,replyAttachmentId:d("MAWMsgReply").getReplyAttachmentId(b),replyAttachmentPlaintextHash:d("MAWMsgReply").getReplyAttachmentPlaintextHash(b),replyAttachmentType:d("MAWMsgReply").getReplyAttachmentType(b),replyMediaExpirationTimestampMs:d("MAWMsgReply").getReplyMediaExpirationTimestampMs(b),replyMediaPreviewHeight:d("MAWMsgReply").getReplyMediaHeight(b),replyMediaPreviewWidth:d("MAWMsgReply").getReplyMediaWidth(b),replyMediaUrlMimeType:d("MAWMsgReply").getReplyMediaMimeType(b),replySnippet:g,replySourceId:d("MAWMsgReply").getReplySourceId(b),replySourceType:d("MAWMsgReply").getReplySourceType(b),replySourceTypeV2:d("MAWMsgReply").getReplySourceTypeV2(b),replyStatus:d("MAWMsgReplyStatus").getLSReplyMessageStatus(b),replyToUserId:d("MAWMsgReply").getReplyUserId(b),sendStatus:d("MAWAckLevel").levelToMessagingSendStatus(b.ack),sendStatusV2:d("MAWAckLevel").levelToMessagingSendStatusV2(b.ack),timestampMs:j,transportKey:k},c("qex")._("1438")===!0?{replySourceTimestampMs:d("MAWMsgReply").getReplyTimestampMs(b)}:{});e!=null?yield a.messages.upsert([e.threadKey,e.timestampMs,e.messageId],o):yield a.messages.put(o)});return j.apply(this,arguments)}g.mutateThreadText=a;g.call=e}),98);
__d("sendToSentQPLUtils",[],(function(a,b,c,d,e,f){"use strict";var g={};function a(a){return g[a]}function b(a,b){g[a]=b}f.getS2sKeyFromOfflineMessageId=a;f.setS2sKeyForOfflineMessageId=b}),66);
__d("MAWBridgeMsgUpdatedHandler",["I64","LSIntEnum","MAWAckLevel","MAWAdminMsgCTA","MAWMiActOnMiThreadReadyForJid","MAWMsgReplySnippet","MAWUpdateMsg","MWChatInteraction","QPLUserFlow","ReQL","asyncToGeneratorRuntime","qpl","sendToSentQPLUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){var e=d("MWChatInteraction").get(d("MWChatInteraction").s2sKey(a));a=d("sendToSentQPLUtils").getS2sKeyFromOfflineMessageId(a);if(e!=null){var f=d("MAWAckLevel").levelToMessagingSendStatusV2(b.ack);(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(2))?d("MWChatInteraction").addMarkerPoint(e,"received_successful_server_ack"):(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(4))&&d("MWChatInteraction").addMarkerPoint(e,"received_failure_server_ack")}if(a!=null){f=d("MAWAckLevel").levelToMessagingSendStatusV2(b.ack);(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(2))?c("QPLUserFlow").endSuccess(c("qpl")._(25313175,"1551"),{instanceKey:a}):(h||(h=d("I64"))).equal(f,(i||(i=d("LSIntEnum"))).ofNumber(4))&&c("QPLUserFlow").endFailure(c("qpl")._(25313175,"1551"),"error_from_server",{instanceKey:a})}}function a(a,c){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c.chatJid,"MAWBridgeMsgUpdatedHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("messageId")).getKeyRange(c.msgId)));if(e==null)return;var f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b,c.msgId)));f=[e.offlineThreadingId,f==null?void 0:f.offlineAttachmentId];f.forEach(function(a){a!=null&&j(a,c)});f=(yield d("MAWAdminMsgCTA").getAdminMsgCtaStep(a,b,c));b=(yield d("MAWMsgReplySnippet").getReplySnippet(c));return d("MAWUpdateMsg").call(a,c,e,f,b)});return function(b,c){return a.apply(this,arguments)}}())}g.logServerAckToS2S=j;g.call=a}),98);
__d("LSClearMessagePlaceholderRangeStoredProcedure",["LSClearMessagePlaceholderRange","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.messageId;d[2]=b.maxTimestampMs;return c("LSClearMessagePlaceholderRange").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWBridgeMsgsLoadedHandler",["I64","LSClearMessagePlaceholderRangeStoredProcedure","LSFactory","LSInsertNewMessageRangeStoredProcedure","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.chatJid,"MAWBridgeMsgsLoadedHandler",function(a,e){return c("LSClearMessagePlaceholderRangeStoredProcedure")(c("LSFactory")(a),{maxTimestampMs:d("MAWTimeUtils").MAX_TIMESTAMP_MS,messageId:"",threadKey:e}).then(function(){if(c("gkx")("23927")){var f,g,i,j,k,l,m,n;f=(f=(f=b.rangeExtensionType)==null?void 0:f.hasMoreBefore)!=null?f:!1;g=(g=(g=b.rangeExtensionType)==null?void 0:g.hasMoreAfter)!=null?g:!1;i=f&&((i=b.rangeExtensionType)==null?void 0:i.minMsgTs)!=null?(h||(h=d("I64"))).of_float(b.rangeExtensionType.minMsgTs):d("MAWTimeUtils").MIN_TIMESTAMP_MS;j=g&&((j=b.rangeExtensionType)==null?void 0:j.maxMsgTs)!=null?(h||(h=d("I64"))).of_float(b.rangeExtensionType.maxMsgTs):d("MAWTimeUtils").MAX_TIMESTAMP_MS;k=(k=(k=b.rangeExtensionType)==null?void 0:k.minMsgId)!=null?k:"";l=(l=(l=b.rangeExtensionType)==null?void 0:l.maxMsgId)!=null?l:"";m=((m=b.rangeExtensionType)==null?void 0:m.rangeKind)==="before"?i:d("MAWTimeUtils").MIN_TIMESTAMP_MS;n=((n=b.rangeExtensionType)==null?void 0:n.rangeKind)==="after"?j:d("MAWTimeUtils").MAX_TIMESTAMP_MS;return c("LSInsertNewMessageRangeStoredProcedure")(c("LSFactory")(a),{hasMoreAfter:g,hasMoreBefore:f,lowerOverlap:m,newMaxMid:l,newMaxTs:j,newMinMid:k,newMinTs:i,threadKey:e,upperOverlap:n})}else{f=((g=b.rangeExtensionType)==null?void 0:g.minMsgTs)!=null?(h||(h=d("I64"))).of_float(b.rangeExtensionType.minMsgTs):d("MAWTimeUtils").MIN_TIMESTAMP_MS;l=((m=b.rangeExtensionType)==null?void 0:m.maxMsgTs)!=null?(h||(h=d("I64"))).of_float(b.rangeExtensionType.maxMsgTs):d("MAWTimeUtils").MAX_TIMESTAMP_MS;i=(k=(j=b.rangeExtensionType)==null?void 0:j.minMsgId)!=null?k:"";m=(g=(n=b.rangeExtensionType)==null?void 0:n.maxMsgId)!=null?g:"";k=((j=b.rangeExtensionType)==null?void 0:j.rangeKind)==="extensionBefore"?f:d("MAWTimeUtils").MIN_TIMESTAMP_MS;g=((n=b.rangeExtensionType)==null?void 0:n.rangeKind)==="extensionAfter"?l:d("MAWTimeUtils").MAX_TIMESTAMP_MS;j=(n=(j=b.rangeExtensionType)==null?void 0:j.hasMoreBefore)!=null?n:!1;n=(n=(n=b.rangeExtensionType)==null?void 0:n.hasMoreAfter)!=null?n:!1;return c("LSInsertNewMessageRangeStoredProcedure")(c("LSFactory")(a),{hasMoreAfter:n,hasMoreBefore:j,lowerOverlap:k,newMaxMid:m,newMaxTs:l,newMinMid:i,newMinTs:f,threadKey:e,upperOverlap:g})}})})}g.call=a}),98);
__d("MAWEphemeralMessageExpirationStorage",["LSDatabaseSingleton","MAWBridgeDeleteMessagesHandler","Promise","asyncToGeneratorRuntime","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new Map();function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){yield (i||(i=b("Promise"))).all(c.map(function(b){var c=b.ts,e=b.msgId;e={msgId:e,ts:c};c=b.threadJid;b=[e];e={messages:b,threadJid:c};return d("MAWBridgeDeleteMessagesHandler").call(a,e)})),j["delete"](e)});return l.apply(this,arguments)}function m(a,e,f){return c("setTimeout")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var f=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);c("promiseDone")(f.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield k(b,a,e)});return function(a){return c.apply(this,arguments)}}(),"readwrite"))}),f)}function a(a,b,d,e){a=j.get(d);var f;if(a==null)f=[b];else{c("clearTimeout")(a.timeoutId);var g=a.msgs.map(function(a){return a.msgId}).indexOf(b.msgId)===-1;g&&a.msgs.push(b);f=a.msgs}g=m(f,d,e);j.set(d,{expirationTs:d,msgs:f,timeoutId:g})}function e(a){var b=a.msgId;a=j.get(a.countdownTs);if(a==null)return;b=a.msgs.map(function(a){return a.msgId}).indexOf(b);if(b>-1){a.msgs.splice(b,1);return}}g.setMessageForExpiration=a;g.clearMessageFromExpiration=e}),98);
__d("MAWBridgeMsgsStartCountdownHandler",["I64","MAWEphemeralMessageExpirationStorage","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c){return c.msgs.reduce(function(c,e){return c.then(function(){d("MAWEphemeralMessageExpirationStorage").setMessageForExpiration(a,e,e.countdownTs,e.millisecondsUntilCountdownTs);(i||(i=d("I64"))).of_int32(e.millisecondsUntilCountdownTs);return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,e.threadJid,"MAWBridgeMsgsStartCountdownHandler",function(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(c,d("MAWTimeUtils").toTimestamp(e.ts),e.msgId)).then(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){if(c==null)return(h||(h=b("Promise"))).resolve();c=babelHelpers["extends"]({},c,{ephemeralExpirationTs:(i||(i=d("I64"))).of_float(e.countdownTs)});yield a.messages.put(c)});return function(a){return c.apply(this,arguments)}}())})})},(h||(h=b("Promise"))).resolve())}g.call=a}),98);
__d("MAWMedia",["LSIntEnum","MAWDbMedia","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a===d("MAWDbMedia").IMAGE)return b!=null?(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE):(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE);else if(a===d("MAWDbMedia").VIDEO)return b!=null?(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO):(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO);else if(a===d("MAWDbMedia").PTT)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO);else if(a===d("MAWDbMedia").GIF)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE);else if(a===d("MAWDbMedia").STICKER)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER);else if(a===d("MAWDbMedia").DOCUMENT_FILE)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE);return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").NONE)}g.mediaTypeToMessageAttachmentType=a}),98);
__d("MAWBridgeNewMediaHandler",["I64","LSAuthorityLevel","LSIntEnum","MAWMedia","MAWMiActOnMiThreadReadyForJid","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,e,f,g,h){return{attachmentFbid:f,attachmentIndex:(f=a==null?void 0:a.attachmentIndex)!=null?f:(i||(i=d("I64"))).zero,attachmentType:(f=a==null?void 0:a.attachmentType)!=null?f:d("MAWMedia").mediaTypeToMessageAttachmentType(b.mediaType,b.ephemeralMediaViewMode),authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),ephemeralMediaState:b.ephemeralMediaState!=null?(i||(i=d("I64"))).of_int32(b.ephemeralMediaState):a==null?void 0:a.ephemeralMediaState,ephemeralMediaViewMode:b.ephemeralMediaViewMode!=null?(i||(i=d("I64"))).of_int32(b.ephemeralMediaViewMode):a==null?void 0:a.ephemeralMediaViewMode,filename:(f=(f=b.filenames!=null?b.filenames[e]:null)!=null?f:b.defaultFilename)!=null?f:a==null?void 0:a.filename,filesize:b.filesize==null?a==null?void 0:a.filesize:(i||(i=d("I64"))).of_int32(b.filesize),hasMedia:b.hasMedia,hasXma:!1,isSharable:!1,messageId:e,offlineAttachmentId:g,playableDurationMs:b.duration==null?a==null?void 0:a.playableDurationMs:(i||(i=d("I64"))).of_int32(b.duration),previewHeight:b.previewHeight==null?a==null?void 0:a.previewHeight:(i||(i=d("I64"))).of_int32(b.previewHeight),previewHeightLarge:b.previewHeightLarge==null?a==null?void 0:a.previewHeightLarge:(i||(i=d("I64"))).of_int32(b.previewHeightLarge),previewWidth:b.previewWidth==null?a==null?void 0:a.previewWidth:(i||(i=d("I64"))).of_int32(b.previewWidth),previewWidthLarge:b.previewWidthLarge==null?a==null?void 0:a.previewWidthLarge:(i||(i=d("I64"))).of_int32(b.previewWidthLarge),threadKey:h,timestampMs:b.sortOrderMs!=null?(i||(i=d("I64"))).of_float(b.sortOrderMs):(i||(i=d("I64"))).of_float(b.ts*1e3),transportKey:(f=b.transportKey)!=null?f:"WhatsApp"}}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){var f=c.mediaId,g=c.msgIds,i=c.offlineAttachmentId,j=f.toString(),l=(f=i)!=null?f:j;yield (h||(h=b("Promise"))).all(g.map(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var f=a.attachments,g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(f).getKeyRange(e,b)));b=k(g,c,b,j,l,e);return g!=null?f.upsert([g.threadKey,g.messageId,g.attachmentFbid],b):f.add(b)});return function(a){return f.apply(this,arguments)}}()))});return m.apply(this,arguments)}function a(a,b){var c=b.threadJid;return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c,"MAWBridgeNewMediaHandler",function(a,c){return l(a,b,c)})}g.callWithoutWaitingForAnything=l;g.call=a}),98);
__d("LSThreadMediaGalleryGroup",[],(function(a,b,c,d,e,f){a=Object.freeze({PHOTOS_AND_VIDEOS:0,FILES_ONLY:1,LINKS:2});f["default"]=a}),66);
__d("LSUpsertAttachmentRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.db.table(17).fetch([[[a[0],a[1]]]]),function(a){return a["delete"]()})},function(c){return b.db.table(17).add({threadKey:a[0],mediaGroup:a[1],minTimestampMs:a[2],maxTimestampMs:b.i64.cast([2328,1316134911]),hasMoreBefore:a[3],hasMoreAfter:!1,isLoadingBefore:!1,isLoadingAfter:!1})}])},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSUpsertAttachmentRangeStoredProcedure",["LSUpsertAttachmentRange","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.mediaGroup;d[2]=b.newMinTs;d[3]=b.hasMoreBefore;return c("LSUpsertAttachmentRange").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWBridgeNewMediaRangeHandler",["I64","LSFactory","LSIntEnum","LSThreadMediaGalleryGroup","LSUpsertAttachmentRangeStoredProcedure","MAWMiActOnMiThreadReadyForJid","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeNewMediaRangeHandler",function(a,e){var f=c("gkx")("736")?(h||(h=d("I64"))).of_float(b.earliestLoadedMediaTs):(h||(h=d("I64"))).of_int32(b.earliestLoadedMediaTs),g=b.hasMoreBefore;return c("LSUpsertAttachmentRangeStoredProcedure")(c("LSFactory")(a),{hasMoreBefore:g,mediaGroup:(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS),newMinTs:f,threadKey:e})})}function a(a,b){return j(a,b).then(function(){})}g.call=a}),98);
__d("MAWBridgeNewMsgHandler",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMessageUnsendabilityStatus","LSQuickReplyType","MAWAckLevel","MAWAdminMsgCTA","MAWBridgeBuildMsg","MAWBridgeMsg","MAWBridgeMsgUtils","MAWMiActOnMiThreadReadyForJid","MAWMsg","MAWMsgReply","MAWMsgReplySnippet","MAWMsgReplyStatus","MAWTimeUtils","MAWUpdateMsg","Promise","QPLUserFlow","ReQL","asyncToGeneratorRuntime","gkx","qex","qpl","sendToSentQPLUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,c,d,e){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){var h;h=d("MAWTimeUtils").toTimestamp(e.type_===d("MAWMsg").unsent?(h=e.originalTs)!=null?h:e.ts:e.ts);var k=(yield d("MAWBridgeBuildMsg").buildMessage(e,g)),l=d("MAWBridgeMsgUtils").convertStringToLSTransportKeyType(e.transportKey),m;if(e.externalId!=null)m=e.externalId;else{var n=(Date.now()-(i||(i=d("I64"))).to_float(h))/(24*3600*1e3);n=n>365?"> 1 year":n>30?"> 1 month":"recent";c("FBLogger")("messenger_e2ee_web").mustfix("MAWBridgeNewMsgHandler create new msg without externalId. Msg type: %s, msg age: %s",e.type_,n);m=e.msgId}yield a.messages.add(babelHelpers["extends"]({},k,{adminMsgCtaId:f==null?void 0:f.ctaId,adminMsgCtaTitle:f==null?void 0:f.title,adminMsgCtaType:f==null?void 0:f.ctaType,authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:e.type_===d("MAWMsg").unsent||!e.isAuthorMe?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageUnsendabilityStatus").DENY_FOR_NON_SENDER):void 0,displayedContentTypes:d("MAWMsg").getDisplayedContentTypes(e.type_,e.isForwarded,e.isExpiredXmaMsg,e.replySourceId!=null,e.unsupportedType),editCount:(i||(i=d("I64"))).of_int32((n=e.editCount)!=null?n:0),ephemeralDurationInSec:d("MAWBridgeBuildMsg").getEphemeralDurationInSec(e),ephemeralExpirationTs:void 0,forwardScore:i.of_float(e.forwardingScore),hasQuickReplies:!1,hotEmojiSize:d("MAWBridgeMsg").getSpecialTextSize(e),isAdminMessage:e.isAdminMessage,isCollapsed:!1,isForwarded:e.isForwarded,isUnsent:e.type_===d("MAWMsg").unsent,localDataId:void 0,messageId:e.msgId,msUntilExpirationTs:void 0,offlineThreadingId:m,primarySortKey:i.of_float(e.sortOrderMs),quickReplyType:j.ofNumber(c("LSQuickReplyType").NONE),replyAttachmentExtra:void 0,replyAttachmentId:d("MAWMsgReply").getReplyAttachmentId(e),replyAttachmentPlaintextHash:d("MAWMsgReply").getReplyAttachmentPlaintextHash(e),replyAttachmentType:d("MAWMsgReply").getReplyAttachmentType(e),replyCtaId:void 0,replyCtaTitle:void 0,replyMediaExpirationTimestampMs:d("MAWMsgReply").getReplyMediaExpirationTimestampMs(e),replyMediaPreviewHeight:d("MAWMsgReply").getReplyMediaHeight(e),replyMediaPreviewWidth:d("MAWMsgReply").getReplyMediaWidth(e),replyMediaUrl:void 0,replyMediaUrlFallback:void 0,replyMediaUrlMimeType:d("MAWMsgReply").getReplyMediaMimeType(e),replySnippet:g,replySourceId:d("MAWMsgReply").getReplySourceId(e),replySourceTimestampMs:c("qex")._("1438")===!0?d("MAWMsgReply").getReplyTimestampMs(e):void 0,replySourceType:d("MAWMsgReply").getReplySourceType(e),replySourceTypeV2:d("MAWMsgReply").getReplySourceTypeV2(e),replyStatus:d("MAWMsgReplyStatus").getLSReplyMessageStatus(e),replyToUserId:d("MAWMsgReply").getReplyUserId(e),replyType:d("MAWMsgReply").getReplyType(e),secondarySortKey:void 0,senderId:i.of_string(e.sender),sendStatus:d("MAWAckLevel").levelToMessagingSendStatus(e.ack),sendStatusV2:d("MAWAckLevel").levelToMessagingSendStatusV2(e.ack),stickerId:void 0,subscriptErrorMessage:void 0,takedownState:void 0,textHasLinks:!1,threadKey:b,timestampMs:h,transportKey:l,unsentTimestampMs:d("MAWTimeUtils").toTimestamp(e.ts),viewedPluginContext:void 0,viewedPluginKey:void 0,viewFlags:j.ofNumber(0)}))});return l.apply(this,arguments)}function m(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.chatJid,"BridgeNewMsgHandler",function(a,c){return n(a,b,c)})}function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=(yield d("MAWAdminMsgCTA").getAdminMsgCtaStep(a,f,e)),j=(yield d("MAWMsgReplySnippet").getReplySnippet(e)),l=e.offlineMsg,m=c("gkx")("23961");if(l==null&&!m)return k(a,f,e,g,j);var n;l!=null&&(n=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(f,(i||(i=d("I64"))).of_float(l.ts),l.msgId))));if(n==null){l=!1;if(m&&e.externalId!=null){m=e.externalId;n=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("optimistic")).getKeyRange(m)));if(n!=null){(i||(i=d("I64"))).to_int32(n.authorityLevel)===c("LSAuthorityLevel").OPTIMISTIC&&(l=!0,yield d("MAWUpdateMsg").call(a,e,n,g,j));m=(yield r(a,f,m));yield t(a,m,e.msgId,c("LSAuthorityLevel").AUTHORITATIVE);return(h||(h=b("Promise"))).resolve()}}if(!l)return k(a,f,e,g,j)}else{yield d("MAWUpdateMsg").call(a,e,n,g,j);m=[n.offlineThreadingId];m.forEach(function(a){a!=null&&p(a)})}});return o.apply(this,arguments)}function p(a){a=d("sendToSentQPLUtils").getS2sKeyFromOfflineMessageId(a);a!=null&&c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"update_optimistic_message",{instanceKey:a})}function a(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){yield (h||(h=b("Promise"))).all(c.map(function(b){return m(a,b)}))});return q.apply(this,arguments)}function r(a,b,c){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){a=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b,e)));return a.filter(function(a){return(i||(i=d("I64"))).to_int32(a.authorityLevel)===c("LSAuthorityLevel").OPTIMISTIC})});return s.apply(this,arguments)}function t(a,b,c,d){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f){yield (h||(h=b("Promise"))).all(c.map(function(b){var c=babelHelpers["extends"]({},b,{messageId:e});f!=null&&(c.authorityLevel=(j||(j=d("LSIntEnum"))).ofNumber(f));return a.attachments.upsert([b.threadKey,b.messageId,b.attachmentFbid],c)}))});return u.apply(this,arguments)}g.call=m;g.callWithoutWaitingForAnything=n;g.bulkCall=a}),98);
__d("MAWBridgeHandleReceiverFetchXMA",["FBLogger","I64","LSIntEnum","LSXmaContentType","MAWDbMsg","MessagingAttachmentType","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=e.contentRef,k=e.msgId;e=e.xmaId;if(k==null)return;e=String(e);var l=(j||(j=d("I64"))).of_int32(d("MAWDbMsg").getInChatMsgIdFromMsgId(k)),m=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("messageId")).getKeyRange(k)));if(m==null){c("FBLogger")("messenger_e2ee_web").mustfix("message does not exist to handle receiver fetch XMA");return}if(g==null){c("FBLogger")("messenger_e2ee_web").mustfix("contentRef is empty for a MSG_RECEIVER_FETCH XMA");return}var n;try{g=JSON.parse(g);g=g.fetch_params;g!=null&&(n=JSON.stringify(g))}catch(a){c("FBLogger")("messenger_e2ee_web").mustfix("Failed to parse msg.contentRef as XmsgMsgrXmaContentRefDataclass")}yield (h||(h=b("Promise"))).all([a.messages.put(babelHelpers["extends"]({},m,{xmaReceiverFetchParams:n})),a.attachments.add({attachmentFbid:e,attachmentIndex:j.zero,attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),authorityLevel:j.zero,hasMedia:!1,hasXma:!0,isSharable:!0,messageId:k,threadKey:f,timestampMs:l,transportKey:"WhatsApp",xmaContentType:i.ofNumber(c("LSXmaContentType").MSG_RECEIVER_FETCH)})]);return});return k.apply(this,arguments)}g.call=a}),98);
__d("getTargetUrlFromContentRefXmaDataclass",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){try{a=JSON.parse(a);return a.target_url}catch(a){c("FBLogger")("messenger_e2ee_web").mustfix("Error parsing contentRef for target url");return""}}g["default"]=a}),98);
__d("MAWHandleXMAPreviewOptOut",["FBLogger","I64","LSIntEnum","MAWMsg","MAWMsgType","ReQL","WAArmadilloXMA.pb","asyncToGeneratorRuntime","getTargetUrlFromContentRefXmaDataclass","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return c("isStringNullOrEmpty")(a)?b:a+" "+b}function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.msgId;if(e==null){c("FBLogger")("messenger_e2ee_web").mustfix("BridgeXMA msgId is null to handle the opt-out experience for XMAs");return}e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("messageId")).getKeyRange(e)));if(e==null||(h||(h=d("I64"))).equal(e.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(1)))return;var f;if(b.targetType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH&&b.contentRef!=null)f=c("getTargetUrlFromContentRefXmaDataclass")(b.contentRef);else{var g;f=(g=b==null?void 0:(g=b.defaultCTA)==null?void 0:g.actionUrl)!=null?g:b==null?void 0:(g=b.defaultCTA)==null?void 0:g.nativeUrl}if(f!=null){yield a.messages.put(babelHelpers["extends"]({},e,{displayedContentTypes:d("MAWMsg").getDisplayedContentTypes(d("MAWMsgType").MSG_TYPE.TEXT,(g=e.isForwarded)!=null?g:!1,!1,!1),text:(g=j(e.text,f))!=null?g:""}))}else c("FBLogger")("messenger_e2ee_web").mustfix("Failed to get a target URL for XMA, where user opted out of previews. XMA target type=%s",b.targetType),yield a.messages.put(babelHelpers["extends"]({},e,{displayedContentTypes:(i||(i=d("LSIntEnum"))).ofNumber(262144)}))});return k.apply(this,arguments)}g.call=a}),98);
__d("MAWReceiverFetchQPLLogger",["MAWBridgeUIEventQPLLogger","QuickPerformanceLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("qpl")._(973799425,"190"),j="new_xma_message_is_hummingbird",k={NEW_XMA_MESSAGE_RECEIVED:"new_xma_message_received",PREVIEW_FETCH_START:"preview_fetch_start",PREVIEW_FETCH_TASK_COMPLETED:"preview_fetch_task_completed",PREVIEW_LOAD_COMPLETED:"preview_load_completed"},l=new Map();function a(a,b){var e,f=d("MAWBridgeUIEventQPLLogger").getInstanceKey();l.set(a,f);(h||(h=c("QuickPerformanceLogger"))).markerStart(i,f);h.markerPoint(i,k.NEW_XMA_MESSAGE_RECEIVED,{data:{bool:(e={},e[j]=b,e)},instanceKey:f});b||(l["delete"](a),(h||(h=c("QuickPerformanceLogger"))).markerEnd(i,2,f))}function b(a){a=l.get(a);a!=null&&(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,k.PREVIEW_FETCH_START,{instanceKey:a})}function e(a,b,d){var e=l.get(a);l["delete"](a);e!=null&&((h||(h=c("QuickPerformanceLogger"))).markerPoint(i,k.PREVIEW_FETCH_TASK_COMPLETED,{data:{string:{error:d,preview_fetch_task_state:b?"succeeded":"failed"}},instanceKey:e}),h.markerEnd(i,b?2:3,e))}function f(a){a=Number(a);(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{bool:{preview_load_has_results:!0}},{instanceKey:a});h.markerPoint(i,k.PREVIEW_LOAD_COMPLETED,{instanceKey:a})}g.logReceiverFetchXMAReceived=a;g.logFetchStart=b;g.logFetchCompleted=e;g.logLoadCompleted=f}),98);
__d("getXMAPreviewsDisabledSettings",["MessengerWebPrivacySettings","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messaging_privacy_settings)));return a==null?c("MessengerWebPrivacySettings").e2ee_xma_previews_disabled:(a=a==null?void 0:a.e2eeXmaPreviewsDisabled)!=null?a:!1});return h.apply(this,arguments)}g.getXMAPreviewsDisabledSettings=a}),98);
__d("MAWBridgeNewXMAHandler",["I64","LSIntEnum","MAWBridgeHandleReceiverFetchXMA","MAWBridgeUIEventDataValidation","MAWDbMsg","MAWHandleXMAPreviewOptOut","MAWMiActOnMiThreadReadyForJid","MAWReceiverFetchQPLLogger","MNLSXMALayoutType","MNXMAPreviewImageDecorationType","MessagingAttachmentType","Promise","ReQL","WAArmadilloXMA.pb","asyncToGeneratorRuntime","getXMAPreviewsDisabledSettings","isReceiverFetchReceivingEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b){if(a==null)return;a=a[b-1];if(a==null)return;return a.buttonType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_VIDEO_POST_SHARE?"xma_open_native":void 0}function l(a,b){if(a==null)return;a=a[b-1];if(a!=null)return a.title}function m(a){return a===0||a!==3?(i||(i=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SINGLE):(i||(i=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").PORTRAIT)}function n(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").COLLAGE);case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").REEL);case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_MENTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_PHOTO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_HIGHLIGHT_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REPLY:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_REACTION:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_STORY_VIDEO_MENTION:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON);default:return(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").DEFAULT)}}function o(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_FEED_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_SHORT:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH:return!0;default:return!1}}function p(a,b,c){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=String(e.xmaId),p=e.msgId;if(p==null)return;var q=(j||(j=d("I64"))).of_int32(d("MAWDbMsg").getInChatMsgIdFromMsgId(p)),r=e.targetType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH,s=(yield d("getXMAPreviewsDisabledSettings").getXMAPreviewsDisabledSettings(a)),t=c("isReceiverFetchReceivingEnabled")();r&&d("MAWReceiverFetchQPLLogger").logReceiverFetchXMAReceived(p,t);if(t&&s&&o(e.targetType))return d("MAWHandleXMAPreviewOptOut").call(a,e);s=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.attachment_ctas)));if(r&&t)return d("MAWBridgeHandleReceiverFetchXMA").call(a,e,f);r=s!=null?(j||(j=d("I64"))).add(s.ctaId,(j||(j=d("I64"))).one):(j||(j=d("I64"))).one;t=e.defaultCTA;if(t!=null){s=t.actionUrl;var u=t.nativeUrl,v="xma_web_url";switch(e.targetType){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:v="xma_rtc_audio";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:v="xma_rtc_video";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:v="xma_rtc_missed_audio";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:v="xma_rtc_missed_video";break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_SINGLE_IMAGE_POST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_MULTIPOST_SHARE:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.IG_CLIPS_SHARE:v="igd_web_post_share";break}var w=e.targetId!=null?d("MAWBridgeUIEventDataValidation").stringToI64Opt(e.targetId):void 0;yield a.attachment_ctas.add({actionContentBlob:void 0,actionUrl:s!=null?s:u,attachmentFbid:g,attachmentIndex:(j||(j=d("I64"))).zero,ctaId:r,enableExtensions:!1,extensionHeightType:void 0,messageId:p,nativeUrl:u!=null?u:s,platformToken:void 0,targetId:w,threadKey:f,title:(u=t.title)!=null?u:"",type_:v,urlWebviewType:void 0})}s=t==null?void 0:r;var x=r,y=[];w=e.ctas;if(w!=null){u=w.map(function(b,c){c=(j||(j=d("I64"))).add(x,j.of_int32(c+1));y.push(c);var e=b.actionUrl,h=b.nativeUrl;return a.attachment_ctas.add({actionContentBlob:void 0,actionUrl:e!=null?e:h,attachmentFbid:g,attachmentIndex:j.zero,ctaId:c,enableExtensions:!1,extensionHeightType:void 0,messageId:p,nativeUrl:h!=null?h:e,platformToken:void 0,targetId:void 0,threadKey:f,title:(c=b.title)!=null?c:"Tap to view status update",type_:"xma_web_url",urlWebviewType:void 0})});yield (h||(h=b("Promise"))).all(u)}var z;switch(e.targetType){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.FB_STORY_SHARE:z={height:(j||(j=d("I64"))).of_int32(108),width:(j||(j=d("I64"))).of_int32(72),xmaContentType:"xma_montage_share"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_AUDIO_CALL:z={xmaContentType:"xma_rtc_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_VIDEO_CALL:z={xmaContentType:"xma_rtc_video"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_AUDIO_CALL:z={xmaContentType:"xma_rtc_missed_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_MISSED_VIDEO_CALL:z={xmaContentType:"xma_rtc_missed_video"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_AUDIO_CALL:z={xmaContentType:"xma_rtc_missed_group_audio"};break;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.RTC_GROUP_VIDEO_CALL:z={xmaContentType:"xma_rtc_missed_group_video"};break;default:z={height:e.previewHeight!=null?(j||(j=d("I64"))).of_int32(e.previewHeight):void 0,width:e.previewWidth!=null?(j||(j=d("I64"))).of_int32(e.previewWidth):void 0,xmaContentType:"xma_web_url"};break}yield a.attachments.add({accessibilitySummaryText:void 0,actionUrl:void 0,attachmentCta1Id:y.length>0?y[0]:void 0,attachmentCta2Id:y.length>1?y[1]:void 0,attachmentCta3Id:y.length>2?y[2]:void 0,attachmentFbid:g,attachmentIndex:j.zero,attachmentLoggingType:void 0,attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),attributionAppIcon:void 0,attributionAppIconFallback:void 0,attributionAppIconUrlExpirationTimestampMs:void 0,attributionAppId:void 0,attributionAppName:void 0,authorityLevel:j.zero,avatarCount:void 0,avatarViewAccessibilityLabel:void 0,avatarViewSize:void 0,avatarViewTitleList:void 0,avatarViewUrlExpirationTimestampList:void 0,avatarViewUrlFallbackList:void 0,avatarViewUrlList:void 0,captionBodyText:void 0,cta1Title:l(e.ctas,1),cta1Type:k(e.ctas,1),cta2Title:l(e.ctas,2),cta2Type:k(e.ctas,2),cta3Title:l(e.ctas,3),cta3Type:k(e.ctas,3),dashManifest:void 0,decryptionKey:void 0,defaultCtaId:s,defaultCtaTitle:(v=e.defaultCTA)==null?void 0:v.title,defaultCtaType:z.xmaContentType,descriptionText:void 0,ephemeralMediaState:void 0,faviconUrl:void 0,faviconUrlExpirationTimestampMs:void 0,faviconUrlFallback:void 0,filename:void 0,filesize:e.filesize!=null?(j||(j=d("I64"))).of_int32(e.filesize):void 0,gatingTitle:e.overlayTitle,gatingType:e.overlayIconGlyph!=null?String(e.overlayIconGlyph):void 0,hasMedia:!1,hasXma:!0,headerImageUrl:void 0,headerImageUrlExpirationTimestampMs:void 0,headerImageUrlFallback:void 0,headerImageUrlMimeType:void 0,headerTitle:e.headerTitle,imageUrl:void 0,imageUrlExpirationTimestampMs:void 0,imageUrlFallback:void 0,imageUrlMimeType:void 0,isBorderless:void 0,isPreviewImage:void 0,isSharable:!0,listItemAccessibilityText1:void 0,listItemAccessibilityText2:void 0,listItemAccessibilityText3:void 0,listItemContactUrlExpirationTimestampList1:void 0,listItemContactUrlExpirationTimestampList2:void 0,listItemContactUrlExpirationTimestampList3:void 0,listItemContactUrlFallbackList1:void 0,listItemContactUrlFallbackList2:void 0,listItemContactUrlFallbackList3:void 0,listItemContactUrlList1:void 0,listItemContactUrlList2:void 0,listItemContactUrlList3:void 0,listItemId1:void 0,listItemId2:void 0,listItemId3:void 0,listItemProfilePictureUrl1:void 0,listItemProfilePictureUrl2:void 0,listItemProfilePictureUrl3:void 0,listItemProfilePictureUrlExpirationTimestamp1:void 0,listItemProfilePictureUrlExpirationTimestamp2:void 0,listItemProfilePictureUrlExpirationTimestamp3:void 0,listItemProfilePictureUrlFallback1:void 0,listItemProfilePictureUrlFallback2:void 0,listItemProfilePictureUrlFallback3:void 0,listItemProgressBarFilledPercentage1:void 0,listItemProgressBarFilledPercentage2:void 0,listItemProgressBarFilledPercentage3:void 0,listItemsDescriptionSubtitleText:void 0,listItemsDescriptionText:void 0,listItemsId:void 0,listItemsSecondaryDescriptionText:void 0,listItemTitleText1:void 0,listItemTitleText2:void 0,listItemTitleText3:void 0,localPlayableUrl:void 0,maxSubtitleNumOfLines:e.maxSubtitleNumOfLines!=null?(j||(j=d("I64"))).of_int32(e.maxSubtitleNumOfLines):void 0,maxTitleNumOfLines:e.maxTitleNumOfLines!=null?(j||(j=d("I64"))).of_int32(e.maxTitleNumOfLines):void 0,messageId:p,miniPreview:void 0,offlineAttachmentId:(t=e.offlineAttachmentId)!=null?t:g,originalFileHash:void 0,originalPageSenderId:void 0,playableDurationMs:void 0,playableUrl:void 0,playableUrlExpirationTimestampMs:void 0,playableUrlFallback:void 0,playableUrlMimeType:void 0,preheaderText:void 0,previewHeight:z.height,previewHeightLarge:e.previewHeightLarge!=null?(j||(j=d("I64"))).of_int32(e.previewHeightLarge):void 0,previewImageDecorationType:n(e.targetType),previewUrl:void 0,previewUrlExpirationTimestampMs:void 0,previewUrlFallback:void 0,previewUrlLarge:void 0,previewUrlMimeType:void 0,previewWidth:z.width,previewWidthLarge:e.previewWidthLarge!=null?(j||(j=d("I64"))).of_int32(e.previewWidthLarge):void 0,samplingFrequencyHz:void 0,shouldAutoplayVideo:void 0,shouldHighlightHeaderTitleInTitle:void 0,shouldRespectServerPreviewSize:void 0,sourceText:void 0,subtitleIconUrl:void 0,subtitleText:e.subtitleText,targetId:void 0,threadKey:f,timestampMs:q,titleText:e.titleText,transportKey:"WhatsApp",viewerSeenTimestampMs:void 0,waveformData:void 0,xmaLayoutType:e.xmaLayoutType!=null?m(e.xmaLayoutType):void 0,xmasTemplateType:e.xmaLayoutType!=null?m(e.xmaLayoutType):void 0})});return q.apply(this,arguments)}function r(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeNewXMAHandler",function(a,c){return p(a,b,c)})}function a(a,b){return r(a,b)}g.callWithoutWaitingForAnything=p;g.call=a}),98);
__d("LSCoreClientFolderType",[],(function(a,b,c,d,e,f){a=Object.freeze({INBOX:0,PENDING:1,OTHER:2,SPAM:3,ARCHIVED:4,HIDDEN:5,MARKETPLACE:12,RESTRICTED:15,INTEROP:19});f["default"]=a}),66);
__d("LSCreateE2EEMetadataThread",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("wa_jid",a[0]),d[0].set("offline_thread_key",a[1]),d[0].set("thread_type",a[2]),d[0].set("folder_type",a[3]),d[0].set("bump_timestamp_ms",a[4]),d[0].set("tam_thread_subtype",c.i64.cast([0,0])),d[1]=d[0].get("offline_thread_key"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,388]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSCreateE2EEMetadataThreadStoredProcedure",["LSCreateE2EEMetadataThread","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.waJid;d[1]=b.offlineThreadKey;d[2]=b.threadType;d[3]=b.folderType;d[4]=b.bumpTimestampMs;return c("LSCreateE2EEMetadataThread").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWBridgeFireAndForget",["MAWBridge","MAWWaitForBackendSetup"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return d("MAWWaitForBackendSetup").runAfterBackendSetup(function(){d("MAWBridge").getBridge().fireAndForget(a,b,c,e)},b)}g.fireAndForget=a}),98);
__d("LSCreateOfflineThreadingIDStoredProcedure",["LSCreateOfflineThreadingID","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.timestampMs;return c("LSCreateOfflineThreadingID").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWCreateOptimisticThread",["I64","LSAuthorityLevel","LSCreateOfflineThreadingIDStoredProcedure","LSFactory","LSIntEnum","LSMailboxType","LSRtcCallState","ReQL","WAJids","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield c("LSCreateOfflineThreadingIDStoredProcedure")(c("LSFactory")(a),{timestampMs:(h||(h=d("I64"))).of_float(Date.now())}));b=b[0];var e={authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),folderName:"inbox",lastReadWatermarkTimestampMs:h.of_float(0),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),ongoingCallState:i.ofNumber(c("LSRtcCallState").NO_ONGOING_CALL),parentThreadKey:h.zero,threadKey:b,threadType:i.ofNumber(15)};yield a.threads.put(e);return b});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(h||(h=d("I64"))).of_string(d("WAJids").threadIdForChatJid(b));return(a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table.index("jid")).getKeyRange(b))))==null?void 0:a.serverThreadKey});return m.apply(this,arguments)}function a(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(h||(h=d("I64"))).of_string(d("WAJids").threadIdForChatJid(b));b=(yield l(a,b));if(b!=null)return b;b=(yield j(a));yield a.mi_act_mapping_table.add({clientThreadPk:h.of_float(c),jid:e,serverThreadKey:b});return b});return n.apply(this,arguments)}g.createOptimisticThread=j;g.getThreadKey=l;g.getOrCreateOptimisticThreadKey=a}),98);
__d("MAWFolderUtils",["LSCoreClientFolderType","LSIntEnum","MAWFolderTypes","MessagingFolderTag"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){switch(a){case d("MAWFolderTypes").PENDING:return c("MessagingFolderTag").PENDING;case d("MAWFolderTypes").OTHER:return c("MessagingFolderTag").OTHER;case d("MAWFolderTypes").SPAM:return c("MessagingFolderTag").SPAM;case d("MAWFolderTypes").ARCHIVED:return c("MessagingFolderTag").UNKNOWN;default:return c("MessagingFolderTag").INBOX}}function b(a){switch(a){case d("MAWFolderTypes").PENDING:return(h||(h=d("LSIntEnum"))).ofNumber(-101);case d("MAWFolderTypes").OTHER:return(h||(h=d("LSIntEnum"))).ofNumber(-102);case d("MAWFolderTypes").SPAM:return(h||(h=d("LSIntEnum"))).ofNumber(-103);case d("MAWFolderTypes").ARCHIVED:return(h||(h=d("LSIntEnum"))).ofNumber(-110);default:return(h||(h=d("LSIntEnum"))).ofNumber(-100)}}function e(a){switch(a){case d("MAWFolderTypes").INBOX:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").INBOX);case d("MAWFolderTypes").PENDING:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").PENDING);case d("MAWFolderTypes").OTHER:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").OTHER);case d("MAWFolderTypes").SPAM:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").SPAM);case d("MAWFolderTypes").ARCHIVED:return(h||(h=d("LSIntEnum"))).ofNumber(c("LSCoreClientFolderType").ARCHIVED)}}function f(a){switch(a){case(h||(h=d("LSIntEnum"))).ofNumber(-1):return(h||(h=d("LSIntEnum"))).ofNumber(-101);case(h||(h=d("LSIntEnum"))).ofNumber(-2):return(h||(h=d("LSIntEnum"))).ofNumber(-102);case(h||(h=d("LSIntEnum"))).ofNumber(-3):return(h||(h=d("LSIntEnum"))).ofNumber(-103);case(h||(h=d("LSIntEnum"))).ofNumber(-10):return(h||(h=d("LSIntEnum"))).ofNumber(-110);default:return(h||(h=d("LSIntEnum"))).ofNumber(-100)}}g.getMessagingFolderTag=a;g.getClientSystemFolder=b;g.systemFolderToLSCoreClientFolder=e;g.systemFolderToClientSystemFolder=f}),98);
__d("MAWThreadDefaults",["fbt","I64","LSBitOffset","LSIntEnum","qex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function k(){if(c("qex")._("327")===!0)return!0;else return c("qex")._("121")===!0}function a(a){if(k())return d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(42),a);else return a}function b(a){return d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(4),a)}e=d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(18),d("LSBitOffset").set(j.ofNumber(56),d("LSBitOffset").set(j.ofNumber(14),d("LSBitOffset").set(j.ofNumber(23),d("LSBitOffset").set(j.ofNumber(8),d("LSBitOffset").set(j.ofNumber(15),d("LSBitOffset").set(j.ofNumber(2),d("LSBitOffset").empty)))))));f=a(b(d("LSBitOffset").set(j.ofNumber(7),d("LSBitOffset").set(j.ofNumber(6),d("LSBitOffset").set(j.ofNumber(9),d("LSBitOffset").set(j.ofNumber(10),d("LSBitOffset").set(j.ofNumber(19),d("LSBitOffset").set(j.ofNumber(35),d("LSBitOffset").set(j.ofNumber(43),e)))))))));a=d("LSBitOffset").set(j.ofNumber(17),d("LSBitOffset").set(j.ofNumber(60),d("LSBitOffset").set(j.ofNumber(16),d("LSBitOffset").set(j.ofNumber(26),d("LSBitOffset").set(j.ofNumber(28),d("LSBitOffset").clear(j.ofNumber(27),f))))));b=d("LSBitOffset").set((i||(i=d("I64"))).sub(j.ofNumber(103),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(85),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(109),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(74),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(65),i.of_string("64")),d("LSBitOffset").set(i.sub(j.ofNumber(64),i.of_string("64")),d("LSBitOffset").empty))))));e=h._("__JHASH__9ZFn8zMzjpf__JHASH__").toString();g.defaultThreadCapabilities=f;g.defaultGroupThreadCapabilities=a;g.defaultThreadCapabilities_2=b;g.nullstateDescriptionText1=e;g.defaultThreadCapabilities_3=d("LSBitOffset").empty;g.defaultThreadCapabilities_4=d("LSBitOffset").empty}),226);
__d("MAWBridgeOccamadilloVerifyThreadExistsHandler",["FBLogger","I64","LSAuthorityLevel","LSCoreClientFolderType","LSCreateE2EEMetadataThreadStoredProcedure","LSFactory","LSIntEnum","LSThreadBitOffset","MAWBridgeFireAndForget","MAWCreateOptimisticThread","MAWFolderUtils","MAWMiActGetThreadLifecycleState","MAWMiActOnActThreadReadyQueue","MAWMiActOnMiThreadReadyQueue","MAWMiActThreadLifecycleState","MAWThreadDefaults","MAWTimeUtils","Promise","WAJids","WALoggerDeferred","WATagsLogger","WATimeUtils","asyncToGeneratorRuntime","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] 1. Let MI server know about WA thread for JID: "," and state: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] 3. Thread loading is fully complete for threadKey: ",", JID: ",", and state: ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] 2. Handle new authoritative thread for threadKey: ",", JID: ",", and state: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] 1. Let MI server know about WA thread for JID: "," and state: ",""]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] 5. Authoritative thread not found for chatId: ",""]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Thread is missing in Occamadillo verify thread exists"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["Duplicated thread creation for ",""]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Duplicated thread creation.\n      threadKey: ","\n      bumpTimestampMs: ",""]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Creating e2ee metadata optimistic thread.\n  threadKey: ","\n  bumpTimestampMs: ",",\n  description: ",""]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Detected 0 for last activity timestamp from MI for thread: ",", using local state timestamp: ",""]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] no folder type was supplied to Occamadillo verify thread exists handler"]);u=function(){return a};return a}var v=new Set();function w(a){return(i||(i=d("I64"))).of_string(d("WAJids").threadIdForChatJid(a))}function x(a){a=d("MAWFolderUtils").systemFolderToLSCoreClientFolder(a);a==null&&(c("promiseDone")(d("WALoggerDeferred").WARN(u())),a=(i||(i=d("I64"))).of_int32(c("LSCoreClientFolderType").INBOX));return a}function y(a,b){return b==null?d("MAWCreateOptimisticThread").createOptimisticThread(a):(i||(i=d("I64"))).of_string(b)}function z(a){a=d("MAWTimeUtils").millisTimeToTimestamp(a);return(i||(i=d("I64"))).equal(a,(i||(i=d("I64"))).zero)?d("MAWTimeUtils").millisTimeToTimestamp(d("WATimeUtils").millisTime()):a}var A=new Set();function B(a,b){return C.apply(this,arguments)}function C(){C=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=c("LSFactory")(a),f=z(b.lastActivityTs),g=(yield y(a,b.clientThreadKey)),h=(i||(i=d("I64"))).of_int32(b.chatId),k=x(b.folder),l=w(b.jid),m=b.isGroup?(j||(j=d("LSIntEnum"))).ofNumber(16):(j||(j=d("LSIntEnum"))).ofNumber(15);yield a.mi_act_mapping_table.put({clientThreadPk:h,jid:l,serverThreadKey:g});a=i.to_string(g);h=(h=b.description)!=null?h:"unknown";c("promiseDone")(d("WALoggerDeferred").LOG(s(),a,i.to_string(f),h));v.has(a)?c("promiseDone")(d("WALoggerDeferred").WARN(r(),a,(i||(i=d("I64"))).to_string(f))):v.add(a);A.has(b.jid)&&d("WATagsLogger").TAGS(["occamadillo","call_create_sproc"]).LOG(q(),b.jid);A.add(b.jid);return c("LSCreateE2EEMetadataThreadStoredProcedure")(e,{bumpTimestampMs:f,folderType:k,offlineThreadKey:g,threadType:m,waJid:l})});return C.apply(this,arguments)}function D(a,b,e){a=a;(i||(i=d("I64"))).equal(a,(i||(i=d("I64"))).zero)&&(c("promiseDone")(d("WALoggerDeferred").WARN(t(),(i||(i=d("I64"))).to_string(e),i.to_string(b))),a=b);return a}var E=[105,17,25,24];function F(a,b){var e=E.filter(function(b){return d("LSThreadBitOffset").has(b,a)});if(c("gkx")("23998")){var f=61,g=d("LSThreadBitOffset").has(f,a);g&&e.push(f)}return d("LSThreadBitOffset").set(e,b?d("MAWThreadDefaults").defaultGroupThreadCapabilities:d("MAWThreadDefaults").defaultThreadCapabilities,d("MAWThreadDefaults").defaultThreadCapabilities_2,d("MAWThreadDefaults").defaultThreadCapabilities_3,d("MAWThreadDefaults").defaultThreadCapabilities_4)}function G(a,b,c){return H.apply(this,arguments)}function H(){H=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=(yield a.threads.get(e));if(g==null){c("promiseDone")(d("WALoggerDeferred").ERROR(p()));return(h||(h=b("Promise"))).resolve()}var j=f.clientThreadKey!=null?(i||(i=d("I64"))).of_string(f.clientThreadKey):g.clientThreadKey,k=D(g.lastActivityTimestampMs,d("MAWTimeUtils").millisTimeToTimestamp(f.lastActivityTs),e),l=d("MAWTimeUtils").millisTimeToTimestamp(f.lastReadTs);f=F(g,f.isGroup);return a.threads.upsert([e],babelHelpers["extends"]({},g,{capabilities:f[0],capabilities2:f[1],capabilities3:f[2],capabilities4:f[3],clientThreadKey:j,lastActivityTimestampMs:k,lastReadWatermarkTimestampMs:l}))});return H.apply(this,arguments)}function I(a,b,c){return J.apply(this,arguments)}function J(){J=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e){yield a.mi_act_mapping_table.put({clientThreadPk:(i||(i=d("I64"))).of_int32(e.chatId),jid:w(e.jid),serverThreadKey:c}),yield (h||(h=b("Promise"))).all([G(a,c,e),K(a,c,e)])});return J.apply(this,arguments)}function K(a,b,c){return L.apply(this,arguments)}function L(){L=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){if(c.clientThreadKey!=null){c=(i||(i=d("I64"))).of_string(c.clientThreadKey);(i||(i=d("I64"))).equal(b,c)||(yield a.threads["delete"](c))}});return L.apply(this,arguments)}function M(a,b,c){return N.apply(this,arguments)}function N(){N=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=(yield a.threads.get(e));g!=null&&(i||(i=d("I64"))).to_int32(g.authorityLevel)===c("LSAuthorityLevel").AUTHORITATIVE&&(yield (h||(h=b("Promise"))).all([G(a,e,f),K(a,e,f)]));g==null&&c("promiseDone")(d("WALoggerDeferred").LOG(o(),f.chatId))});return N.apply(this,arguments)}function O(a,b){return P.apply(this,arguments)}function P(){P=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e,f=(i||(i=d("I64"))).of_string(d("WAJids").threadIdForChatJid(b.jid));f=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByJidOrThreadKey(a,f,b.authoritativeThreadKey,"MAWBridgeOccamadilloVerifyThreadExistsHandler"));e=(e=b.description)!=null?e:"unknown";switch(f.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_CHAT_ID:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:c("promiseDone")(d("WALoggerDeferred").LOG(n(),b.jid,f.type));return B(a,b);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:var g=(i||(i=d("I64"))).to_string(f.serverThreadKey);c("promiseDone")(d("WALoggerDeferred").LOG(m(),g,b.jid,f.type));return I(a,f.serverThreadKey,b);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:g=(i||(i=d("I64"))).to_string(f.serverThreadKey);c("promiseDone")(d("WALoggerDeferred").LOG(l(),g,b.jid,f.type));return M(a,f.serverThreadKey,b);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:c("promiseDone")(d("WALoggerDeferred").LOG(k(),b.jid,f.type));return B(a,b);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[Occamadillo] Unimplemented VerifyThreadExists state: %s for JID: %s, from %s",f.type,b.jid,e);default:f.type;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[Occamadillo] Unhandled VerifyThreadExists state: %s for JID: %s, from %s",f.type,b.jid,e)}});return P.apply(this,arguments)}function Q(a,b,c){return R.apply(this,arguments)}function R(){R=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){a=(yield a.threads.get(b));if(a!=null){a={ephemeralExpirationInSec:(i||(i=d("I64"))).to_int32((b=a.disappearingSettingTtl)!=null?b:(i||(i=d("I64"))).zero),ephemeralLastUpdatedOrSetTimestamp:d("WATimeUtils").castMilliSecondsToUnixTime(i.to_float((b=a.disappearingSettingUpdatedTs)!=null?b:(i||(i=d("I64"))).zero))};d("MAWBridgeFireAndForget").fireAndForget("backend","setEphemeralSettingCache",{jid:c,settings:a})}});return R.apply(this,arguments)}function a(a,b){return S.apply(this,arguments)}function S(){S=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield O(a,b);if(b.clientThreadKey!=null){var e=(i||(i=d("I64"))).of_string(b==null?void 0:b.clientThreadKey);c("promiseDone")(d("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady(e,b.chatId,b.jid))}if(b.authoritativeThreadKey!=null){e=(i||(i=d("I64"))).of_string(b.authoritativeThreadKey);c("promiseDone")(d("MAWMiActOnActThreadReadyQueue").processQueueOnActThreadReady(e,b.chatId,b.jid))}e=(e=b.authoritativeThreadKey)!=null?e:b.clientThreadKey;if(e!=null){e=(i||(i=d("I64"))).of_string(e);yield Q(a,e,b.jid);return d("MAWMiActOnMiThreadReadyQueue").processQueueOnMiThreadReady(a,e,b.chatId,b.jid)}return});return S.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeOneToOneMessageRequestLoadedHandler",["fbt","FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWContactRelationshipType","MAWMessageRequestUtil","MAWMiActOnMiThreadReadyForJid","Promise","ReQL","WADbContact"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function a(a,e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,e.threadJid,"MAWBridgeOneToOneMessageRequestLoadedHandler",function(a,f){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(f)).then(function(c){if(c==null)return(k||(k=b("Promise"))).resolve([void 0,void 0,void 0,!1]);var f=d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.contacts).getKeyRange((i||(i=d("I64"))).of_string(e.fbid)));return(k||(k=b("Promise"))).all([k.resolve(c),f,k.resolve(d("LSMessagingThreadTypeUtil").isOneToOne(c.threadType))])}).then(function(e){var f=e[0];if(f==null)return(k||(k=b("Promise"))).resolve();var g=e[1];if(g==null)return(k||(k=b("Promise"))).resolve();e=e[2];if(e===!1||e==null)return(k||(k=b("Promise"))).resolve();e=d("MAWContactRelationshipType").getContactRelationshipType(g);e=f.folderName==="inbox"&&e===d("WADbContact").REVERSED_ONE_WAY_CONTACT&&!(i||(i=d("I64"))).equal(f.lastActivityTimestampMs,(i||(i=d("I64"))).zero);e&&(i||(i=d("I64"))).lt(g.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&(c("FBLogger")("messenger_web_product").mustfix("[MAW] Message Request loaded before contact is fully loaded"),e=!1);if(f.folderName==="pending"||f.folderName==="other"||f.folderName==="spam"||e){g=d("LSThreadBitOffset").clear(d("MAWMessageRequestUtil").disabledThreadCapabilitiesForIncomingRequest,f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4);e=g[0];var l=g[1],m=g[2];g=g[3];var n=void 0;f.folderName==="inbox"&&(n=h._("__JHASH__4F6x7gUU1-S__JHASH__").toString());e=[d("LSThreadBitOffset").set(d("MAWMessageRequestUtil").enabledThreadCapabilitiesForIncomingRequest,e,l,m,g),n]}else e=[[f.capabilities,f.capabilities2,f.capabilities3,f.capabilities4],void 0];l=e[0];m=e[1];g=babelHelpers["extends"]({},f,{additionalThreadContext:m,capabilities:l[0],capabilities2:l[1],capabilities3:l[2],capabilities4:l[3]});return a.threads.put(g).then(function(){})})})}g.call=a}),226);
__d("MAWBridgeParticipantRemovedHandler",["I64","MAWMiActOnMiThreadReadyForJid"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeParticipantRemovedHandler",function(a,c){return a.participants["delete"](c,(h||(h=d("I64"))).of_string(b.userId))})}g.call=a}),98);
__d("MAWBridgeParticipantUpdatedHandler",["fbt","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSGroupParticipantJoinState","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","MAWCurrentUser","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","MAWUpdateLSThreadCapabilities","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=d("MAWCurrentUser").getID(),m=(j||(j=d("I64"))).of_string(l);function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(j||(j=d("I64"))).of_string(b.fbid),g=d("MAWTimeUtils").toTimestamp(b.readWatermarkTs),i=d("MAWTimeUtils").toTimestamp(b.deliveredWatermarkTs),n=d("MAWTimeUtils").toTimestamp(b.lastReadActionTs),o=b.isSuperAdmin?h._("__JHASH__-gVxfbL98KU__JHASH__").toString():void 0,p=(yield a.participants.get(e,f));p!=null?yield a.participants.put({authorityLevel:p.authorityLevel,contactId:f,deliveredWatermarkTimestampMs:i,groupParticipantJoinState:b.isInvited?(k||(k=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED):(k||(k=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:b.isAdmin,isModerator:!1,isSuperAdmin:p.isSuperAdmin,nickname:p.nickname,normalizedSearchTerms:p.normalizedSearchTerms,participantCapabilities:p.participantCapabilities,readActionTimestampMs:n,readWatermarkTimestampMs:g,subscribeSource:o,threadKey:e}):yield a.participants.add({authorityLevel:(j||(j=d("I64"))).zero,contactId:f,deliveredWatermarkTimestampMs:i,groupParticipantJoinState:b.isInvited?(k||(k=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED):(k||(k=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:b.isAdmin,isModerator:!1,isSuperAdmin:b.isSuperAdmin,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:j.zero,readWatermarkTimestampMs:g,subscribeSource:o,threadKey:e});yield d("MAWUpdateLSThreadCapabilities").disableBlockerCapabilitiesTxn(a,e);n=b.isAdmin;(j||(j=d("I64"))).equal(m,f)&&(n?yield d("MAWUpdateLSThreadCapabilities").enableAddMembersTxn(a,e):yield d("MAWUpdateLSThreadCapabilities").disableAddMembersTxn(a,e));p==null&&(yield c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:k.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:k.ofNumber(c("LSContactIdType").FBID),contactType:k.ofNumber(c("LSContactType").USER),contactViewerRelationship:k.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:k.ofNumber(c("LSContactGender").UNKNOWN),id:f,isBlocked:!1,isMemorialized:!1,isSelf:l===b.fbid,workForeignEntityType:k.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)}))});return o.apply(this,arguments)}function a(a,c){return c.fbid.startsWith("shadow_")?(i||(i=b("Promise"))).resolve():d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c.threadJid,"MAWBridgeParticipantUpdatedHandler",function(a,b){return n(a,c,b)})}g.callWithoutWaitingForAnything=n;g.call=a}),226);
__d("MAWBridgeParticipantsUpdatedHandler",["fbt","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSGroupParticipantJoinState","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","MAWCurrentUser","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","MAWUpdateLSThreadCapabilities","Promise","ReQLTable","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=d("MAWCurrentUser").getID(),m=(k||(k=d("I64"))).of_string(l);function a(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){e=e.participants.filter(function(a){return!a.fbid.startsWith("shadow_")});yield (i||(i=b("Promise"))).all(e.map(function(e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,e.threadJid,"MAWBridgeParticipantsUpdatedHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var f=(k||(k=d("I64"))).of_string(e.fbid),g=d("MAWTimeUtils").toTimestamp(e.readWatermarkTs),i=d("MAWTimeUtils").toTimestamp(e.deliveredWatermarkTs),n=d("MAWTimeUtils").toTimestamp(e.lastReadActionTs),o=e.isSuperAdmin?h._("__JHASH__-gVxfbL98KU__JHASH__").toString():void 0,p=!1,q=!1;yield d("ReQLTable").update(a.participants,[b,f],function(a){if(a!=null){q=!0;return{authorityLevel:a.authorityLevel,contactId:f,deliveredWatermarkTimestampMs:(k||(k=d("I64"))).equal(i,(k||(k=d("I64"))).zero)?a.deliveredWatermarkTimestampMs:i,groupParticipantJoinState:e.isInvited?(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED):(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:e.isAdmin,isModerator:!1,isSuperAdmin:a.isSuperAdmin,nickname:a.nickname,normalizedSearchTerms:a.normalizedSearchTerms,participantCapabilities:a.participantCapabilities,readActionTimestampMs:(k||(k=d("I64"))).equal(n,(k||(k=d("I64"))).zero)?a.readActionTimestampMs:n,readWatermarkTimestampMs:(k||(k=d("I64"))).equal(g,(k||(k=d("I64"))).zero)?a.readWatermarkTimestampMs:g,subscribeSource:o,threadKey:b}}else{q=!0;p=!0;return{authorityLevel:(k||(k=d("I64"))).zero,contactId:f,deliveredWatermarkTimestampMs:i,groupParticipantJoinState:e.isInvited?(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").INVITED):(j||(j=d("LSIntEnum"))).ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:e.isAdmin,isModerator:!1,isSuperAdmin:e.isSuperAdmin,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:k.zero,readWatermarkTimestampMs:g,subscribeSource:o,threadKey:b}}});q&&(yield d("MAWUpdateLSThreadCapabilities").disableBlockerCapabilitiesTxn(a,b),(k||(k=d("I64"))).equal(m,f)&&(e.isAdmin?yield d("MAWUpdateLSThreadCapabilities").enableAddMembersTxn(a,b):yield d("MAWUpdateLSThreadCapabilities").disableAddMembersTxn(a,b)));p&&(yield c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:j.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:j.ofNumber(c("LSContactIdType").FBID),contactType:j.ofNumber(c("LSContactType").USER),contactViewerRelationship:j.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:j.ofNumber(c("LSContactGender").UNKNOWN),id:f,isBlocked:!1,isMemorialized:!1,isSelf:l===e.fbid,workForeignEntityType:j.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)}))});return function(b,c){return a.apply(this,arguments)}}())}))});return n.apply(this,arguments)}g.call=a}),226);
__d("MAWBridgeRavenActionMsgForUIHandler",["I64","MAWMiActOnMiThreadReadyForJid","MAWMsg","MAWRavenUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c.threadJid,"MAWBridgeRavenActionMsgForUIHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){a=a.attachments;e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(e,c.ravenMsgId)));if(e==null)return(i||(i=b("Promise"))).resolve();if(e.ephemeralMediaState==null)return(i||(i=b("Promise"))).resolve();var f=(h||(h=d("I64"))).to_int32(e.ephemeralMediaState);if(e.ephemeralMediaViewMode==null)return(i||(i=b("Promise"))).resolve();var g=h.to_int32(e.ephemeralMediaViewMode);f=d("MAWMsg").MAWRavenMsgEphemeralMediaState.cast(f);g=d("MAWMsg").MAWRavenMsgEphemeralType.cast(g);if(f==null||g==null)return(i||(i=b("Promise"))).resolve();f=d("MAWRavenUtils").getNextRavenMessageEphemeralState(f,g);if(f==null)return(i||(i=b("Promise"))).resolve();e.ephemeralMediaState;g=babelHelpers.objectWithoutPropertiesLoose(e,["ephemeralMediaState"]);e=babelHelpers["extends"]({ephemeralMediaState:h.of_int32(f)},g,{transportKey:"WhatsApp"});f=[g.threadKey,g.messageId,g.attachmentFbid];return a.upsert(f,e)});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeReactionUpsertHandler",["I64","LSAuthorityLevel","LSIntEnum","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e,f,g,j){return a.reactions.upsert([e,f,(h||(h=d("I64"))).of_string(b)],{actorId:h.of_string(b),authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),messageId:f,reaction:j,reactionCreationTimestampMs:d("MAWTimeUtils").toTimestamp(g),threadKey:e,timestampMs:d("MAWTimeUtils").toTimestamp(g),transportKey:"WhatsApp"})}function a(a,b,c,d,e,f){return j(a,b,c,d,e,f)}function b(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.chatJid,"MAWBridgeReactionUpsertHandler",function(a,c){return j(a,b.actorId,c,b.messageId,b.ts,b.reaction)})}g.attachmentMutationsOptimisticHandler=a;g.call=b}),98);
__d("MAWBridgeReceivedReceiptHandler",["I64","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=(h||(h=d("I64"))).of_string(b.fbid),f=d("MAWTimeUtils").toTimestamp(b.lastReadWatermarkTs),g=d("MAWTimeUtils").toTimestamp(b.deliveredWatermarkTs);b=d("MAWTimeUtils").toTimestamp(b.lastReadActionTs);c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.participants).getKeyRange(c,e)));c!=null&&(yield a.participants.put({authorityLevel:c.authorityLevel,contactId:c.contactId,deliveredWatermarkTimestampMs:(h||(h=d("I64"))).equal(g,(h||(h=d("I64"))).zero)?c.deliveredWatermarkTimestampMs:g,groupParticipantJoinState:c.groupParticipantJoinState,isAdmin:c.isAdmin,isModerator:c.isModerator,isSuperAdmin:c.isSuperAdmin,nickname:c.nickname,normalizedSearchTerms:c.normalizedSearchTerms,participantCapabilities:c.participantCapabilities,readActionTimestampMs:(h||(h=d("I64"))).equal(b,(h||(h=d("I64"))).zero)?c.readActionTimestampMs:b,readWatermarkTimestampMs:(h||(h=d("I64"))).equal(f,(h||(h=d("I64"))).zero)?c.readWatermarkTimestampMs:f,subscribeSource:c.subscribeSource,threadKey:c.threadKey,threadRoles:(h||(h=d("I64"))).zero}))});return j.apply(this,arguments)}function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.chatJid,"MAWBridgeReceivedReceiptHandler",function(a,c){return i(a,b,c)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("MAWBridgeSyncContacts",["CurrentMessengerUser","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("CurrentMessengerUser").getID();function a(a,e){return e.reduce(function(b,e){var f=(i||(i=d("I64"))).of_string(e);return b.then(function(){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:j.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:j.ofNumber(c("LSContactIdType").FBID),contactType:j.ofNumber(c("LSContactType").USER),contactViewerRelationship:j.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:j.ofNumber(c("LSContactGender").UNKNOWN),id:f,isBlocked:!1,isMemorialized:!1,isSelf:k===e,workForeignEntityType:j.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})}).then(function(){})},(h||(h=b("Promise"))).resolve())}g.call=a}),98);
__d("MAWBumpThread",["ODS","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,d,e,f,g){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g,i){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b)));if(b==null)return(h||(h=d("ODS"))).bumpEntityKey(3185,"armadillo_thread_bump","missing_thread");g=(g=g)!=null?g:b.snippetSenderContactId;yield a.threads.put(babelHelpers["extends"]({},b,{lastActivityTimestampMs:c,lastMessageCtaType:i,lastReadWatermarkTimestampMs:e,snippet:f,snippetSenderContactId:g}))});return i.apply(this,arguments)}g.threadMutation=a}),98);
__d("getMAWLastMessageCtaType",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.snippetType;switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_AUDIO_CALL:return"xma_rtc_missed_audio";case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_AUDIO_CALL:return"xma_rtc_missed_group_audio";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_MISSED_VIDEO_CALL:return"xma_rtc_missed_video";case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_MISSED_VIDEO_CALL:return"xma_rtc_missed_group_video"}}g["default"]=a}),98);
__d("MAWBridgeThreadBumpedHandler",["I64","MAWBridgeBuildThreadSnippet","MAWBumpThread","MAWCalculateBumpTimestampMs","MAWMiActOnMiThreadReadyForJid","ReQL","WALoggerDeferred","asyncToGeneratorRuntime","getMAWLastMessageCtaType","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bumping thread on local device. threadKey: ",", lastActivityTs: ",", lastReadTs: ",", from: ",""]);i=function(){return a};return a}function a(a,e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,e.threadJid,"MAWBridgeThreadBumpedHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(b)));if(f==null)return;var g=d("MAWCalculateBumpTimestampMs").calculateBumpTimestampMs(e.lastActivityTs,e.lastMsgExternalId),j=d("MAWCalculateBumpTimestampMs").calculateBumpTimestampMs(e.lastReadTs,e.lastMsgExternalId);c("promiseDone")(d("WALoggerDeferred").LOG(i(),(h||(h=d("I64"))).to_string(b),h.to_string(g),h.to_string(j),e.description));f=(yield d("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet(e,f.snippet));var k=e.snippetSenderContactId!=null?(h||(h=d("I64"))).of_string(e.snippetSenderContactId):void 0,l=c("getMAWLastMessageCtaType")(e);return d("MAWBumpThread").threadMutation(a,b,g,j,f,k,l)});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("LSBumpE2EEMetadataThread",["LSCancelTaskByQueueName","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("bump_timestamp_ms",a[1]),d[0].set("thread_key",a[0]),d[0].set("bumped_by_local_device_send",a[2]),d[0].set("tam_thread_subtype",c.i64.cast([0,0])),d[0].set("wa_jid",void 0),d[0].set("message_ephemeral_duration_in_sec",c.i64.cast([0,0])),d[0].set("message_product_type",void 0),d[0].set("is_message_deletion",!1),d[1]=d[0].get("thread_key"),d[0],c.storedProcedure(b("LSCancelTaskByQueueName"),c.i64.to_string(d[1]),c.i64.cast([0,389]))},function(e){return d[2]=new c.Map(),d[2].set("bump_timestamp_ms",a[1]),d[2].set("thread_key",a[0]),d[2].set("bumped_by_local_device_send",a[2]),d[2].set("tam_thread_subtype",c.i64.cast([0,0])),d[2].set("wa_jid",void 0),d[2].set("message_ephemeral_duration_in_sec",c.i64.cast([0,0])),d[2].set("message_product_type",void 0),d[2].set("is_message_deletion",!1),d[3]=d[2].get("thread_key"),d[2],d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,389]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSBumpE2EEMetadataThreadStoredProcedure",["LSBumpE2EEMetadataThread","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.serverAuthoritativeTimestampMs;d[2]=b.bumpedByLocalDeviceSend;return c("LSBumpE2EEMetadataThread").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWBridgeThreadBumpedServerHandler",["I64","LSBumpE2EEMetadataThreadStoredProcedure","LSFactory","MAWCalculateBumpTimestampMs","MAWMiActOnMiThreadReadyForJid","WALoggerDeferred","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Bumping thread on server. threadKey: ",", bumpTimestampMs: ",", isLocalDeviceSend: ",", from ",""]);i=function(){return a};return a}function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeThreadBumpedServerHandle",function(a,e){var f=b.lastActivityTs;f=d("MAWCalculateBumpTimestampMs").calculateBumpTimestampMs(f,b.lastMsgExternalId);c("promiseDone")(d("WALoggerDeferred").LOG(i(),(h||(h=d("I64"))).to_string(e),h.to_string(f),b.isCurrentDeviceSendingMsg,b.description));return c("LSBumpE2EEMetadataThreadStoredProcedure")(c("LSFactory")(a),{bumpedByLocalDeviceSend:b.isCurrentDeviceSendingMsg,serverAuthoritativeTimestampMs:f,threadKey:e})})}g.call=a}),98);
__d("MAWBridgeThreadBumpedV2Handler",["DateConsts","FBLogger","I64","LSAuthorityLevel","LSBumpE2EEMetadataThreadStoredProcedure","LSFactory","LSOptimisticMarkThreadReadV2StoredProcedure","MAWBridgeBuildThreadSnippet","MAWMiActOnMiThreadReadyForJid","ODS","Promise","ReQL","WALoggerDeferred","asyncToGeneratorRuntime","getMAWLastMessageCtaType","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Skipping local bump for thread: ",", bumpTimestampMs: ",", DB lastActivityTimestampMs: ",", from ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Bumping thread on local (v2). threadKey: ",", bumpTimestampMs: ",", originalTimestampMs: ",", isMessageAuthorMe: ",", from ",""]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] missing thread for bumping threadKey: ",""]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Bumping thread v2. threadKey: ",", bumpTimestampMs: ",", isMessageAuthorMe: ",", skipServerThreadBump: ",", from ",""]);n=function(){return a};return a}function a(a,e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,e.threadJid,"MAWBridgeThreadBumpedV2Handler",function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f,g){var p,q=e.bumpTimestampMs;p=(p=e.skipServerThreadBump)!=null?p:!1;var r=e.isMessageAuthorMe;c("promiseDone")(d("WALoggerDeferred").LOG(n(),(i||(i=d("I64"))).to_string(g),i.to_string(q),r,p,e.description));var s=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.threads).getKeyRange(g)));if(s==null){c("promiseDone")(d("WALoggerDeferred").WARN(m(),(i||(i=d("I64"))).to_string(g)));return(j||(j=d("ODS"))).bumpEntityKey(3185,"armadillo_thread_bump","missing_thread")}c("justknobx")._("2374")&&c("promiseDone")(o(a,e,s));if((i||(i=d("I64"))).ge(q,s.lastActivityTimestampMs)){c("promiseDone")(d("WALoggerDeferred").LOG(l(),(i||(i=d("I64"))).to_string(g),i.to_string(q),i.to_string(s.lastActivityTimestampMs),r,e.description));var t=e.snippetSenderContactId!=null?(i||(i=d("I64"))).of_string(e.snippetSenderContactId):void 0;t=(t=t)!=null?t:s.snippetSenderContactId;var u=(yield d("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet(e,s.snippet)),v=c("getMAWLastMessageCtaType")(e);v=babelHelpers["extends"]({},s,{lastActivityTimestampMs:q,lastMessageCtaType:v,snippet:u,snippetSenderContactId:t});r&&(v=babelHelpers["extends"]({},v,{lastReadWatermarkTimestampMs:q}));yield f.threads.put(v)}else c("promiseDone")(d("WALoggerDeferred").LOG(k(),(i||(i=d("I64"))).to_string(g),i.to_string(q),i.to_string(s.lastActivityTimestampMs),e.description));if(!p){r&&(yield c("LSOptimisticMarkThreadReadV2StoredProcedure")(c("LSFactory")(f),{readWatermarkTimestampMs:q,threadKey:g}));return c("LSBumpE2EEMetadataThreadStoredProcedure")(c("LSFactory")(f),{bumpedByLocalDeviceSend:r,serverAuthoritativeTimestampMs:q,threadKey:g})}return(h||(h=b("Promise"))).resolve()});return function(a,b){return f.apply(this,arguments)}}())}function o(a,e,f){var g=(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE),k=function(a){a=a.authorityLevel;return(i||(i=d("I64"))).equal(g,a)},l=d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.messages).getKeyRange(f.threadKey).filter(k)).then(function(a){return(i||(i=d("I64"))).to_float((a=a==null?void 0:a.timestampMs)!=null?a:(i||(i=d("I64"))).zero)});a=d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.reactions).getKeyRange(f.threadKey).filter(k).take(20)).then(function(a){return a.reduce(function(a,b){return Math.max(a,(i||(i=d("I64"))).to_float((a=b.reactionCreationTimestampMs)!=null?a:(i||(i=d("I64"))).zero))},0)});return(h||(h=b("Promise"))).all([l,a]).then(function(a){var b=a[0];a=a[1];var g=Math.max(b,a),h=Math.floor((i||(i=d("I64"))).to_float(e.bumpTimestampMs)/d("DateConsts").MS_PER_SEC)*1e3;if(h!==g){c("FBLogger")("messenger_e2ee_web").mustfix("[Occamadillo] BumpTimestampMs does not match latest authoritative activity. threadKey: %s, bumpTimestampMs: %s (sec %s), latestMsgTs: %s, latestReactionTs: %s, thread.desc: %s",(i||(i=d("I64"))).to_string(f.threadKey),i.to_string(e.bumpTimestampMs),h,b,a,e.description);return(j||(j=d("ODS"))).bumpEntityKey(3185,"armadillo_thread_bump","thread_bump_call_unexpected")}else return(j||(j=d("ODS"))).bumpEntityKey(3185,"armadillo_thread_bump","thread_bump_call_expected")})}g.call=a}),98);
__d("MAWBridgeThreadHiddenV2Handler",["LSFactory","LSIntEnum","LSOptimisticRemoveThreadStoredProcedure","LSThreadRemoveType","MAWMiActOnMiThreadReadyForJid"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b,"MAWBridgeThreadHiddenV2Handler",function(a,b){a=c("LSFactory")(a);return c("LSOptimisticRemoveThreadStoredProcedure")(a,{removeType:(h||(h=d("LSIntEnum"))).ofNumber(c("LSThreadRemoveType").DELETE_THREAD),threadKey:b})})}g.call=a}),98);
__d("MAWBridgeThreadTimestampsHandler",["CurrentMessengerUser","I64","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,c){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c.threadJid,"MAWBridgeThreadTimestampsHandler",function(a,e){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e)).then(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(e==null)return(i||(i=b("Promise"))).resolve();e=babelHelpers["extends"]({},e,{lastReadWatermarkTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(c.lastReadWatermarkTs)});yield a.threads.put(e)});return function(a){return e.apply(this,arguments)}}())})}function a(a,c){return j(a,c).then(function(){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c.threadJid,"MAWBridgeThreadTimestampsHandler",function(a,e){var f=(h||(h=d("I64"))).of_string(d("CurrentMessengerUser").getID());return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.participants).getKeyRange(e,f)).then(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b!=null&&(yield a.participants.put({authorityLevel:b.authorityLevel,contactId:b.contactId,deliveredWatermarkTimestampMs:b.deliveredWatermarkTimestampMs,groupParticipantJoinState:b.groupParticipantJoinState,isAdmin:b.isAdmin,isModerator:b.isModerator,isSuperAdmin:b.isSuperAdmin,nickname:b.nickname,normalizedSearchTerms:b.normalizedSearchTerms,participantCapabilities:b.participantCapabilities,readActionTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(c.lastActivityTimestampMs),readWatermarkTimestampMs:d("MAWTimeUtils").millisTimeToTimestamp(c.lastReadWatermarkTs),subscribeSource:b.subscribeSource,threadKey:b.threadKey}))});return function(a){return e.apply(this,arguments)}}())})})}g.call=a}),98);
__d("MAWBridgeThreadUpdatedHandler",["I64","LSBitOffset","MAWBridgeBuildThreadSnippet","MAWBridgeUIEventDataValidation","MAWFolderUtils","MAWMiActOnMiThreadReadyForJid","ReQL","asyncToGeneratorRuntime","getMAWLastMessageCtaType"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){return b!=null&&b==="viewer_not_subscribed"?d("LSBitOffset").clear((h||(h=d("I64"))).sub(h.of_int32(28),h.of_string("64")),a):a}function j(a,b){var c=b.folder!=null?d("MAWFolderUtils").getMessagingFolderTag(b.folder):a.folderName;return(b=b.cannotReplyReason)!=null?b:c==="inbox"?void 0:a.cannotReplyReason}function k(a,b,c){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e)));if(e==null)return;var f=(yield d("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet(b,e.snippet)),g=j(e,b),k=c("getMAWLastMessageCtaType")(b);yield a.threads.put(babelHelpers["extends"]({},e,{cannotReplyReason:g,capabilities2:i(e.capabilities2,g),folderName:e.folderName,lastMessageCtaType:k,muteExpireTimeMs:b.muteExpireTimeMs==null?e.muteExpireTimeMs:(h||(h=d("I64"))).of_float(b.muteExpireTimeMs),parentThreadKey:e.parentThreadKey,snippet:f,snippetSenderContactId:b.snippetSenderContactId==null?e.snippetSenderContactId:d("MAWBridgeUIEventDataValidation").stringToI64Opt(b.snippetSenderContactId)}))});return l.apply(this,arguments)}function a(a,b){var c=b.threadJid;return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,c,"MAWBridgeThreadUpdatedHandler",function(a,c){return k(a,b,c)})}g.callWithoutWaitingForAnything=k;g.call=a}),98);
__d("MAWBridgeUIEventQueueQPLLogger",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("QPLUserFlow").start(c("qpl")._(1056849266,"1765"),{annotations:{string_array:{events:b}},instanceKey:a})}function b(a){c("QPLUserFlow").endSuccess(c("qpl")._(1056849266,"1765"),{instanceKey:a})}function d(a,b){c("QPLUserFlow").endFailure(c("qpl")._(1056849266,"1765"),"MAWBridgeUIEventHandlerFailure",{annotations:{string:{failedEventTag:b}},instanceKey:a})}g.start=a;g.endSuccess=b;g.endFailure=d}),98);
__d("MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){return(g||(g=b("Promise"))).resolve()}f.call=a}),66);
__d("LSEncryptedBackupsClientRestoreState",[],(function(a,b,c,d,e,f){a=Object.freeze({RESTORE_IN_PROGRESS:1,RESTORE_COMPLETE:2});f["default"]=a}),66);
__d("MAWEncryptedBackupsUpdateGlobalRestoreStatus",["WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Thread with thread id "," is not currently being tracked, but restore seems to be in progress"]);h=function(){return a};return a}var i=new Set(),j=new Set();function k(a){if(a==="restore")return i;else return j}function a(a,b){b=k(b);b.add(a)}function b(a,b){b=k(b);b.has(a)?b["delete"](a):d("WALogger").WARN(h(),a)}function c(a){a=k(a);return a.size}g.addThreadIdToStatusArray=a;g.removeThreadIdFromStatusArray=b;g.getCurrentGlobalRestoreStatusArrayLength=c}),98);
__d("MAWBridgeUpdateClientRestoreStatus",["I64","LSEncryptedBackupsClientRestoreState","LSIntEnum","MAWEncryptedBackupsUpdateGlobalRestoreStatus","MAWJobDefinitions","MAWMIC","MAWUpdateClientRestoreStatusOperationType","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,c){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.encrypted_backups_client_restore_status).filter(function(a){return a.threadId===c})).then(function(c){if(c!=null)return a.encrypted_backups_client_restore_status["delete"](c.threadId).then(function(){});else return(j||(j=b("Promise"))).resolve()})}function l(a,e,f,g){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.encrypted_backups_client_restore_status).filter(function(a){return a.threadId===e})).then(function(k){if(k!=null)return a.encrypted_backups_client_restore_status.put({lastUpdated:(h||(h=d("I64"))).of_float(Date.now()),restoreStatus:(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsClientRestoreState").RESTORE_COMPLETE),serverThreadKey:f,threadId:e}).then(function(){if(g!=null)if(!g){d("MAWEncryptedBackupsUpdateGlobalRestoreStatus").removeThreadIdFromStatusArray(d("MAWJobDefinitions").toThreadJidPrimaryId(e),"restore");var a=d("MAWEncryptedBackupsUpdateGlobalRestoreStatus").getCurrentGlobalRestoreStatusArrayLength("restore");a===0&&d("MAWMIC").markEvent("eb_restore_end")}else{d("MAWEncryptedBackupsUpdateGlobalRestoreStatus").removeThreadIdFromStatusArray(d("MAWJobDefinitions").toThreadJidPrimaryId(e),"ebprefetch");a=d("MAWEncryptedBackupsUpdateGlobalRestoreStatus").getCurrentGlobalRestoreStatusArrayLength("ebprefetch");a===0&&d("MAWMIC").markEvent("eb_prefetch_end")}});else return(j||(j=b("Promise"))).resolve()})}function a(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.encrypted_backups_client_restore_status)).then(function(c){return c.reduce(function(b,c){return b.then(function(){return k(a,c.threadId)})},(j||(j=b("Promise"))).resolve())})}function m(a,c){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.mi_act_mapping_table)).then(function(a){a=a.find(function(a){return(h||(h=d("I64"))).to_string(a.jid)===c});return a==null?(j||(j=b("Promise"))).resolve(void 0):(j||(j=b("Promise"))).resolve((h||(h=d("I64"))).to_string(a.serverThreadKey))})}function e(a,e){var f=e.threadId;return m(a,f).then(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var g=e.action;yield g===d("MAWUpdateClientRestoreStatusOperationType").upsertClientRestoreStatus?a.encrypted_backups_client_restore_status.put({lastUpdated:(h||(h=d("I64"))).of_float(Date.now()),restoreStatus:(i||(i=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsClientRestoreState").RESTORE_IN_PROGRESS),serverThreadKey:b,threadId:f}):l(a,e.threadId,b,e.ebPrefetch)});return function(a){return g.apply(this,arguments)}}())}g.truncateClientRestoreStatusTable=a;g.findServerThreadKey=m;g.call=e}),98);
__d("LSUpdateE2EEMetadataParticipants",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,394]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateE2EEMetadataParticipantsStoredProcedure",["LSUpdateE2EEMetadataParticipants","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;return c("LSUpdateE2EEMetadataParticipants").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWBridgeUpdateE2EEMetadataParticipantsHandler",["LSFactory","LSUpdateE2EEMetadataParticipantsStoredProcedure","MAWMiActOnMiThreadReadyForJid"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeThreadsLoadedHandler",function(a,b){return c("LSUpdateE2EEMetadataParticipantsStoredProcedure")(c("LSFactory")(a),{threadKey:b})})}g.call=a}),98);
__d("MAWBridgeUpdateMessageRangeHandler",["I64","LSClearMessagePlaceholderRangeStoredProcedure","LSFactory","LSInsertNewMessageRangeStoredProcedure","MAWMiActOnMiThreadReadyForJid","MAWTimeUtils","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,e.threadJid,"MAWBridgeUpdateMessageRangeHandler",function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var f;yield c("LSClearMessagePlaceholderRangeStoredProcedure")(c("LSFactory")(a),{maxTimestampMs:d("MAWTimeUtils").MAX_TIMESTAMP_MS,messageId:"",threadKey:b});var g=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.messages_ranges_v2__generated).getKeyRange(b)));g!=null&&(yield a.messages_ranges_v2__generated["delete"](g.threadKey,g.minTimestampMs,g.minMessageId));var i=e.hasMoreAfter,j=e.hasMoreBefore,k=e.maxMsgId,l=e.minMsgId,m=j&&e.minMsgTs!=null?(h||(h=d("I64"))).of_float(e.minMsgTs):(g==null?void 0:g.minTimestampMs)||d("MAWTimeUtils").MIN_TIMESTAMP_MS,n=(g==null?void 0:g.minTimestampMs)!=null&&(h||(h=d("I64"))).lt(g==null?void 0:g.minTimestampMs,m),o=i&&e.maxMsgTs!=null?(h||(h=d("I64"))).of_float(e.maxMsgTs):d("MAWTimeUtils").MAX_TIMESTAMP_MS,p=d("MAWTimeUtils").MIN_TIMESTAMP_MS;f=(f=o)!=null?f:d("MAWTimeUtils").MAX_TIMESTAMP_MS;return c("LSInsertNewMessageRangeStoredProcedure")(c("LSFactory")(a),{hasMoreAfter:i,hasMoreBefore:n?(g==null?void 0:g.hasMoreBefore)||!0:j,lowerOverlap:p,newMaxMid:(a=k)!=null?a:"",newMaxTs:o,newMinMid:n?(i=g==null?void 0:g.minMessageId)!=null?i:"":(j=l)!=null?j:"",newMinTs:n?(g==null?void 0:g.minTimestampMs)||d("MAWTimeUtils").MIN_TIMESTAMP_MS:m,threadKey:b,upperOverlap:f})});return function(b,c){return a.apply(this,arguments)}}())}g.call=a}),98);
__d("MAWBridgeUpdateMinMessageHandler",["I64","MAWMiActOnMiThreadReadyForJid","ReQL","ReQLTable","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=(h||(h=d("I64"))).of_float(b.minTimestampMs),f=b.minMessageId;return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeUpdateMinMessageHandler",function(a,g){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages_ranges_v2__generated).getKeyRange(g)).then(function(h){if(h==null)return;var i=b.hasMoreBefore,j=i!=null?i:h.hasMoreBefore;return d("ReQLTable").update(a.messages_ranges_v2__generated,[g,h.minTimestampMs,h.minMessageId],function(a){if(a!=null)return{hasMoreAfter:a.hasMoreAfter,hasMoreBefore:j,isLoadingAfter:a.isLoadingAfter,isLoadingBefore:a.isLoadingBefore,maxMessageId:a.maxMessageId,maxTimestampMs:a.maxTimestampMs,minMessageId:f,minTimestampMs:e,threadKey:a.threadKey};throw c("unrecoverableViolation")("Thread is missing in updating the min message in message range","messenger_e2ee_web")})})})}g.call=a}),98);
__d("MAWBridgeXMAShareExpiredHandler",["MAWMiActOnMiThreadReadyForJid","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,c,d){var e=String(d.xmaId);return a.attachments.get(c,d.msgId,e).then(function(f){if(f==null)return(h||(h=b("Promise"))).resolve();f=[f.defaultCtaId,f.attachmentCta1Id,f.attachmentCta2Id,f.attachmentCta3Id].filter(Boolean);f=f.map(function(b){return a.attachment_ctas["delete"](b)});return(h||(h=b("Promise"))).all(f).then(function(){return a.attachments["delete"](c,d.msgId,e)})})}function a(a,b){return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,b.threadJid,"MAWBridgeXMAShareExpiredHandler",function(a,c){return i(a,c,b)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("MAWBridgeXMAShareTombstonedHandler",["FBLogger","MAWMiActOnMiThreadReadyForJid","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f=String(e.xmaId);return d("MAWMiActOnMiThreadReadyForJid").onMiThreadReadyForJid(a,e.threadJid,"MAWBridgeXMAShareTombstonedHandler",function(a,g){return a.attachments.get(g,e.msgId,f).then(function(i){if(i==null)return(h||(h=b("Promise"))).resolve();i=[i.defaultCtaId,i.attachmentCta1Id,i.attachmentCta2Id,i.attachmentCta3Id].filter(Boolean);i=i.map(function(b){return a.attachment_ctas["delete"](b)});return(h||(h=b("Promise"))).all(i).then(function(){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(g,e.msgId,f)).then(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(d){if(d!=null){d=babelHelpers["extends"]({},d,{attachmentCta1Id:void 0,attachmentCta2Id:void 0,attachmentCta3Id:void 0,cta1Title:void 0,cta1Type:void 0,cta2Title:void 0,cta2Type:void 0,cta3Title:void 0,cta3Type:void 0,defaultCtaId:void 0,defaultCtaTitle:void 0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,previewHeight:void 0,previewHeightLarge:void 0,previewWidth:void 0,previewWidthLarge:void 0,subtitleText:void 0,titleText:void 0});yield a.attachments.put(d)}c("FBLogger")("messenger_e2ee_web").blameToPreviousFrame().mustfix("Trying to tombstone a secure xma attachment but no existing attachment");return(h||(h=b("Promise"))).resolve()});return function(a){return d.apply(this,arguments)}}())})})})}g.call=a}),98);
__d("MAWBridgeUIEventHandler",["FBLogger","JSResourceForInteraction","MAWAbPropsClient","MAWBridgeDeleteGroupInviteHandler","MAWBridgeDeleteMessageRangesV2Handler","MAWBridgeDeleteMessagesHandler","MAWBridgeDeleteReactionHandler","MAWBridgeDropAllSecureThreadsHandler","MAWBridgeEditMsgHistoryAddedHandler","MAWBridgeGroupInfoUpdatedHandler","MAWBridgeGroupInviteLoadedHandler","MAWBridgeGroupInviteUpdateHandler","MAWBridgeHandleCOPDigest","MAWBridgeMediaExpiredHandler","MAWBridgeMsgRangeLoadedHandler","MAWBridgeMsgUpdatedHandler","MAWBridgeMsgsLoadedHandler","MAWBridgeMsgsStartCountdownHandler","MAWBridgeNewMediaHandler","MAWBridgeNewMediaRangeHandler","MAWBridgeNewMsgHandler","MAWBridgeNewXMAHandler","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWBridgeOneToOneMessageRequestLoadedHandler","MAWBridgeParticipantRemovedHandler","MAWBridgeParticipantUpdatedHandler","MAWBridgeParticipantsUpdatedHandler","MAWBridgeRavenActionMsgForUIHandler","MAWBridgeReactionUpsertHandler","MAWBridgeReceivedChatStateHandler","MAWBridgeReceivedReceiptHandler","MAWBridgeSyncContacts","MAWBridgeThreadBumpedHandler","MAWBridgeThreadBumpedServerHandler","MAWBridgeThreadBumpedV2Handler","MAWBridgeThreadHiddenV2Handler","MAWBridgeThreadTimestampsHandler","MAWBridgeThreadUpdatedHandler","MAWBridgeUIEventQPLLogger","MAWBridgeUIEventQueueQPLLogger","MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler","MAWBridgeUpdateClientRestoreStatus","MAWBridgeUpdateE2EEMetadataParticipantsHandler","MAWBridgeUpdateMessageRangeHandler","MAWBridgeUpdateMinMessageHandler","MAWBridgeXMAShareExpiredHandler","MAWBridgeXMAShareTombstonedHandler","MAWEphemeralMessageExpirationStorage","Promise","WAResultOrError","WATagsLogger","WATimeUtils","asyncToGeneratorRuntime","getErrorSafe","isArmadillo","isInstamadilloDYI","promiseDone","recoverableViolation","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Handle UI Events: ",""]);i=function(){return a};return a}var j=(f=c("requireDeferred"))("MAWBridgeDeleteMessagesOfThreadHandler").__setRef("MAWBridgeUIEventHandler"),k=f("MAWBridgeIssuePointQueryHandler").__setRef("MAWBridgeUIEventHandler"),l=f("MAWBridgeStartTraceHandler").__setRef("MAWBridgeUIEventHandler"),m=f("MAWBridgeStartTraceWithTraceIdHandler").__setRef("MAWBridgeUIEventHandler"),n=f("MAWBridgeTraceRecordCheckpointHandler").__setRef("MAWBridgeUIEventHandler"),o=f("MAWBridgeUpdateDyiStatus").__setRef("MAWBridgeUIEventHandler"),p=f("MAWBridgeUpdateTraceHandler").__setRef("MAWBridgeUIEventHandler"),q=f("MAWBridgeUploadMessageByBatchHandler").__setRef("MAWBridgeUIEventHandler"),r=f("MAWBridgeUploadMessageHandler").__setRef("MAWBridgeUIEventHandler");function s(a,e,f){switch(f.tag){case"NewMsg":return d("MAWBridgeNewMsgHandler").call(e,f.value);case"MsgsStartCountdown":return d("MAWBridgeMsgsStartCountdownHandler").call(e,f.value);case"MsgClearCountdown":return(h||(h=b("Promise"))).resolve(d("MAWEphemeralMessageExpirationStorage").clearMessageFromExpiration(f.value));case"DropAllSecureThreads":return d("MAWBridgeDropAllSecureThreadsHandler").call(e);case"VerifyThreadExists":var g=f.value;return d("MAWBridgeOccamadilloVerifyThreadExistsHandler").call(e,g);case"EditMsgHistoryAdded":return d("MAWBridgeEditMsgHistoryAddedHandler").call(a,e,f.value);case"MsgUpdated":return d("MAWBridgeMsgUpdatedHandler").call(e,f.value);case"NewMedia":return d("MAWBridgeNewMediaHandler").call(e,f.value);case"NewMediaRange":return d("MAWBridgeNewMediaRangeHandler").call(e,f.value);case"MediaExpired":return d("MAWBridgeMediaExpiredHandler").call(e,f.value);case"XMAShareExpired":return d("MAWBridgeXMAShareExpiredHandler").call(e,f.value);case"NewXMA":return d("MAWBridgeNewXMAHandler").call(e,f.value);case"XMAShareTombstoned":return d("MAWBridgeXMAShareTombstonedHandler").call(e,f.value);case"ParticipantUpdated":return d("MAWBridgeParticipantUpdatedHandler").call(e,f.value);case"ParticipantRemoved":return d("MAWBridgeParticipantRemovedHandler").call(e,f.value);case"UpdateE2EEMetadataParticipants":return d("MAWBridgeUpdateE2EEMetadataParticipantsHandler").call(e,f.value);case"ReceivedReceipt":return d("MAWBridgeReceivedReceiptHandler").call(e,f.value);case"ThreadUpdated":return d("MAWBridgeThreadUpdatedHandler").call(e,f.value);case"GroupInfoUpdated":return d("MAWBridgeGroupInfoUpdatedHandler").call(e,f.value);case"ThreadBumped":return d("MAWBridgeThreadBumpedHandler").call(e,f.value);case"ThreadBumpedV2":return d("MAWBridgeThreadBumpedV2Handler").call(e,f.value);case"ThreadTimestampsUpdated":return d("MAWBridgeThreadTimestampsHandler").call(e,f.value);case"MsgsLoaded":return d("MAWBridgeMsgsLoadedHandler").call(e,f.value);case"MsgRangeLoaded":return d("MAWBridgeMsgRangeLoadedHandler").call(e,f.value);case"StartTrace":return l.load().then(function(a){return a.call(e,f.value)});case"UpdateTrace":return p.load().then(function(a){return a.call(e,f.value)});case"ThreadHiddenV2":return d("MAWBridgeThreadHiddenV2Handler").call(e,f.value);case"SyncContacts":return d("MAWBridgeSyncContacts").call(e,f.value);case"ReceivedChatState":return d("MAWBridgeReceivedChatStateHandler").call(e,f.value);case"ClockSkewUpdated":return(h||(h=b("Promise"))).resolve(d("WATimeUtils").setClockSkew(f.value));case"ABPropsUpdated":c("FBLogger")("messenger_e2ee_web").warn("[messenger_e2ee_web] ABPropsUpdated has been deprecated. Please use the bridge with ABPropsUpdated");return(h||(h=b("Promise"))).resolve(d("MAWAbPropsClient").rewrite(f.value));case"COPDigestReceived":return d("MAWBridgeHandleCOPDigest").call(e,f.value);case"UpsertReaction":return d("MAWBridgeReactionUpsertHandler").call(e,f.value);case"DeleteReaction":return d("MAWBridgeDeleteReactionHandler").call(e,f.value);case"UploadMessage":return r.load().then(function(a){return a.call(e,f.value)});case"UploadMessageByBatch":return q.load().then(function(a){return a.call(e,f.value)});case"DeleteMessagesOfThread":return j.load().then(function(a){return a.call(e,f.value)});case"UploadAttachment":return c("JSResourceForInteraction")("MAWBridgeUploadAttachmentHandler").__setRef("MAWBridgeUIEventHandler").load().then(function(a){return a.call(e,f.value)});case"ResignAttachmentCDNUrl":return c("JSResourceForInteraction")("MAWBridgeResignAttachmentCDNUrlHandler").__setRef("MAWBridgeUIEventHandler").load().then(function(a){return a.call(e,f.value)});case"DeleteMessages":return d("MAWBridgeDeleteMessagesHandler").call(e,f.value);case"RestoreMessageBatch":return c("JSResourceForInteraction")("MAWBridgeRestoreMessageBatchHandler").__setRef("MAWBridgeUIEventHandler").load().then(function(a){return a.call(e,f.value)});case"OneToOneMessageRequestLoaded":return d("MAWBridgeOneToOneMessageRequestLoadedHandler").call(e,f.value);case"GroupInviteUpdate":return d("MAWBridgeGroupInviteUpdateHandler").call(e,f.value);case"UpdateDyiStatus":return o.load().then(function(a){return a.call(e,f.value)});case"DeleteGroupInvite":return d("MAWBridgeDeleteGroupInviteHandler").call(e,f.value);case"TraceRecordCheckpoint":return n.load().then(function(a){return a.call(e,f.value)});case"DeleteMessageRangesV2":return d("MAWBridgeDeleteMessageRangesV2Handler").call(e,f.value);case"UpdateMinMessage":return d("MAWBridgeUpdateMinMessageHandler").call(e,f.value);case"IssuePointQuery":return k.load().then(function(a){return a.call(e,f.value)});case"ThreadBumpedServer":return d("MAWBridgeThreadBumpedServerHandler").call(e,f.value);case"ParticipantsUpdated":return d("MAWBridgeParticipantsUpdatedHandler").call(e,f.value);case"StartTraceWithTraceId":return m.load().then(function(a){return a.call(e,f.value)});case"UpdateClientRestoreStatus":return d("MAWBridgeUpdateClientRestoreStatus").call(e,f.value);case"NewMsgs":return d("MAWBridgeNewMsgHandler").bulkCall(e,f.value.msgs);case"UnArchivedSelfDeviceChangeAlerts":return d("MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler").call(e,f.value);case"EphemeralSettingsUpdatedForUI":return c("JSResourceForInteraction")("MAWBridgeEphemeralSettingsUpdatedForUIHandler").__setRef("MAWBridgeUIEventHandler").load().then(function(a){return a.call(e,f.value)});case"RavenActionUpdate":return d("MAWBridgeRavenActionMsgForUIHandler").call(e,f.value);case"GroupInviteLoaded":return d("MAWBridgeGroupInviteLoadedHandler").call(e,f.value);case"UpdateMessageRange":return d("MAWBridgeUpdateMessageRangeHandler").call(e,f.value);default:return(h||(h=b("Promise"))).resolve()}}function a(a,b){if(!c("isArmadillo")()&&!c("isInstamadilloDYI")()){c("recoverableViolation")("User is neither part of armadillo QE and dual send QE but somehow loaded this handler","messenger_web_product");return}if(!(b.length===1&&b[0].tag==="TraceRecordCheckpoint")){var e={};e=b.reduce(function(a,b){a[b.tag]=((b=a[b.tag])!=null?b:0)+1;return a},e);d("WATagsLogger").TAGS(["MAWBridgeUIEvent"]).LOG(i(),e)}c("promiseDone")(t(a,b))}function t(a,b){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=(yield a);a=d("MAWBridgeUIEventQPLLogger").getInstanceKey();var g=e.map(function(a){return a.tag}),h="";d("MAWBridgeUIEventQueueQPLLogger").start(a,g);var i;try{i=(yield f.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){for(var g=0;g<e.length;g++){var i=e[g],j=d("MAWBridgeUIEventQPLLogger").getInstanceKey();d("MAWBridgeUIEventQPLLogger").start(j,i);try{yield s(f,b,i),d("MAWBridgeUIEventQPLLogger").endSuccess(j)}catch(b){var a=c("getErrorSafe")(b);h=i.tag;d("MAWBridgeUIEventQPLLogger").endFailure(j,i.tag);c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[MAWBridgeUIEventHandler] Failed to handle UI event: %s",i.tag);return d("WAResultOrError").makeError(a)}}return d("WAResultOrError").makeResult(!0)});return function(b){return a.apply(this,arguments)}}(),"readwrite","background",{events:e,type:"maw_ui_bridge"}))}catch(a){var j=c("getErrorSafe")(a);c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("DbError handling UI events");i=d("WAResultOrError").makeError(j)}!i.success?(d("MAWBridgeUIEventQueueQPLLogger").endFailure(a,h),c("FBLogger")("messenger_e2ee_web").catching(i.error).mustfix("MAWBridgeUIEventHandler] Did not commit UI events to DB: %s",g.toString())):d("MAWBridgeUIEventQueueQPLLogger").endSuccess(a)});return u.apply(this,arguments)}function e(a,b,c){return v.apply(this,arguments)}function v(){v=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=d("MAWBridgeUIEventQPLLogger").getInstanceKey();try{d("MAWBridgeUIEventQPLLogger").start(f,e),yield s(a,b,e),d("MAWBridgeUIEventQPLLogger").endSuccess(f)}catch(b){a=c("getErrorSafe")(b);d("MAWBridgeUIEventQPLLogger").endFailure(f,e.tag);c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("[handleShimEvent] Failed to handle UI event: %s",e.tag);throw b}});return v.apply(this,arguments)}g.handleEvents=a;g.handleShimEvent=e}),98);
__d("toMsgrUserJid",["MAWJids"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MAWJids").toUserJid}),98);
__d("MAWFetchContacts",["I64","LSContactTypeExact","LSIntEnum","MAWContactRelationshipType","ReQL","WAJids","asyncToGeneratorRuntime","requireDeferred","toMsgrUserJid"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWFetchContacts");function k(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield j.load());b=(yield b());var e=new Set(a.map(function(a){return d("WAJids").extractUserId(a)}));return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.table("contacts")).filter(function(a){return e.has((h||(h=d("I64"))).to_string(a.id))})).then(function(a){return new Map(a.map(function(a){return[c("toMsgrUserJid")((h||(h=d("I64"))).to_string(a.id)),a]}))})});return l.apply(this,arguments)}function a(a){return k(a).then(function(a){var b=new Map();a.forEach(function(a,c){b.set(c,d("MAWContactRelationshipType").getContactRelationshipType(a))});return b})}function e(a){return k(a).then(function(a){var b=new Map();a.forEach(function(a,e){a=a.contactTypeExact!=null&&(h||(h=d("I64"))).equal(a.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").MESSENGER_ONLY_NOT_ALLOWED_ON_FB));b.set(e,a)});return b})}g.fetchContacts=k;g.fetchContactsRelationships=a;g.fetchContactsIsMsplit=e}),98);
__d("MAWBridgeInitOfflineQueueSyncCompleteHandler",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessengerLogHistory").__setRef("MAWBridgeInitOfflineQueueSyncCompleteHandler");function a(){h.onReady(function(a){a=a.getInstance("maw_setup");a.debug("Init Offline Queue Sync Complete")})}g.call=a}),98);
__d("MAWSetupBridgeOfflineConsumer",["InteractionTracingMetrics","MAWBridgeInitOfflineQueueSyncCompleteHandler","MAWMIC","MAWOfflineQueueStatus","MAWSharedProtocolQueueConst","MWChatInteraction","WATagsLogger","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats failed: expected: ",", processed: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats end: expected: ",", processed: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats: expected: ",", processed: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats start: ",""]);k=function(){return a};return a}var l=d("WATagsLogger").TAGS(["ServerRPC","OfflineConsumer"]);function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a;return d("MAWBridgeInitOfflineQueueSyncCompleteHandler").call()});return n.apply(this,arguments)}function o(a){d("MAWMIC").addIntAnnotation("offlineQueueSize",a);var b=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);b!=null&&c("InteractionTracingMetrics").addAnnotationInt(b,"offlineQueueSize",a)}function p(a,b){var e=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);e!=null&&c("InteractionTracingMetrics").addSubspan(e,"offline_queue","LONGTASK",a,b,{})}function a(a,b){return function(e){var f=e.chatJidStatus,g=e.status,n=e.timestamp,q=e.totalExpectedCount,r=e.totalProcessedCount;switch(g){case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Initializing:l.LOG(k(),q);o(q);b({tag:"InitOfflineQueueSyncStart",value:q});d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Initializing);d("MAWMIC").markEvent("worker_process_offline_queue_start",n);d("MAWOfflineQueueStatus").resetOfflineQueueState();return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Processing:l.LOG(j(),q,r);b({tag:"InitOfflineQueueConsumerSyncProgress",value:{chatJidStatus:f,processed:r}});d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Processing);return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete:l.LOG(i(),q,r);e.startTime!=null&&p(e.startTime,n);b({tag:"InitOfflineQueueSyncComplete",value:f});c("promiseDone")(m(a));d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete);d("MAWMIC").markEvent("worker_process_offline_queue_end",n);d("MAWOfflineQueueStatus").markOfflineQueueComplete();return;case d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed:l.LOG(h(),q,r);d("MAWMIC").markEvent("worker_process_offline_queue_failed",n);d("MAWMIC").markEvent("worker_process_offline_queue_end",n);b({tag:"InitOfflineQueueSyncComplete",value:void 0});c("promiseDone")(m(a));d("MAWOfflineQueueStatus").markThreadWithOfflineQueueStatus(f,d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Failed);d("MAWOfflineQueueStatus").markOfflineQueueComplete();return}}}g["default"]=a}),98);
__d("MAWSetupBridgeOfflineSnapshot",["InteractionTracingMetrics","MAWMIC","MWChatInteraction","WAOfflineUtils","WATagsLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["WA infra offline connection lost"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats end: "," / ",", messages: "," / ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Progress: "," / ",", messages: "," / ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats start: ",", messages: ",""]);k=function(){return a};return a}var l=d("WATagsLogger").TAGS(["ServerRPC","Offline"]);function m(a){d("MAWMIC").addIntAnnotation("offlineQueueSize",a);var b=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);b!=null&&c("InteractionTracingMetrics").addAnnotationInt(b,"offlineQueueSize",a)}a=function(a){return function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=b.downloaded,e=b.expected,f=b.status;b=b.timestamp;switch(f){case d("WAOfflineUtils").WAClientInfraOfflineProgress.Initializing:l.LOG(k(),e.count,e.message);m(e.count);a({tag:"InitOfflineQueueSyncStart",value:e.count});d("MAWMIC").markEvent("worker_download_offline_queue_start",b);return;case d("WAOfflineUtils").WAClientInfraOfflineProgress.Processing:l.LOG(j(),c.count,e.count,c.message,e.message);a({tag:"InitOfflineQueueSyncProgress",value:c.count});return;case d("WAOfflineUtils").WAClientInfraOfflineProgress.Complete:l.LOG(i(),c.count,e.count,c.message,e.message);d("MAWMIC").addIntAnnotation("offlineQueueDownloadedCount",c.count);a({tag:"InitOfflineQueueSyncProgress",value:e.count});d("MAWMIC").markEvent("worker_download_offline_queue_end",b);return;case d("WAOfflineUtils").WAClientInfraOfflineProgress.Failed:l.LOG(h());d("MAWMIC").markEvent("worker_download_offline_queue_connection_lost",b);return}});return function(a){return c.apply(this,arguments)}}()};e=a;g["default"]=e}),98);
__d("MAWSetupBridge",["LSDatabaseSingleton","LSInitSyncCompleteSubscription","MAWAbPropsClient","MAWBridgeReceivedChatStateHandler","MAWBridgeUIEventHandler","MAWCommonSetupBridge","MAWEncryptionErrorHandler","MAWFetchContacts","MAWGetEphemeralSettings","MAWSetupBridgeOfflineConsumer","MAWSetupBridgeOfflineSnapshot","Promise","Run","Visibility","WAExceededStorageQuota","asyncToGeneratorRuntime","cr:3411","cr:5889","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("ArmadilloCutoverClientFalcoEvent").__setRef("MAWSetupBridge"),k=c("requireDeferred")("MAWBridgeUpdateDYIStatusV2").__setRef("MAWSetupBridge"),l=(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(d("LSInitSyncCompleteSubscription").use).then(function(){return(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton}),m=function(a){j.loadImmediately(function(b){b=b.log;return b(function(){return{armadillo_thread_id:a.armadilloThreadId,domain:a.domain,event:a.event,event_details:a.eventDetails,open_thread_id:a.openThreadId,success:a.success,trace_id:a.traceId}})})};function a(a){var e=a.dispatch,f=a.logout,g=a.reregisterDevice,i=a.rotateCryptoAuthToken,j=a.worker;function n(){j.postMessage({type:"force-flush-data"})}d("Run").onUnload(n);d("Run").onBeforeUnload(n,!1);c("Visibility").addListener(c("Visibility").HIDDEN,function(){j.postMessage({type:"force-flush-logs-only"})});return d("MAWCommonSetupBridge").initBridge({customizeEventHandlers:{abPropsUpdated:function(a){d("MAWAbPropsClient").rewrite(a.abProps)},earDecryptionFailure:function(a){d("MAWEncryptionErrorHandler").deleteAllDbs(a.tableName)},getLSDBEphemeralSetting:function(a){return d("MAWGetEphemeralSettings").getEphemeralSetting(a.chatJid)},getLSDBUsersIsMsplit:function(a){return d("MAWFetchContacts").fetchContactsIsMsplit(a.users)},getLSDBUsersRelationships:function(a){return d("MAWFetchContacts").fetchContactsRelationships(a.users)},logCutoverEvent:m,logout:f,offlineConsumerProgress:function(){return c("MAWSetupBridgeOfflineConsumer")(l,e).apply(void 0,arguments)},offlineSnapshot:c("MAWSetupBridgeOfflineSnapshot")(e),receivedChatState:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield l);yield b.runInTransaction(function(b){return d("MAWBridgeReceivedChatStateHandler").call(b,a)},"readwrite")});function c(b){return a.apply(this,arguments)}return c}(),relayUpdate:function(a){b("cr:5889")==null?void 0:b("cr:5889").handleUpdateFromWorker(a)},reregisterDevice:g,resignCdnUrl:function(){return(h||(h=b("Promise"))).resolve()},rotateCryptoAuthToken:i,storageQuota:function(a){a=a.exceededStorageQuota;d("WAExceededStorageQuota").setExceededStorageQuota(a)},uiUpdate:function(a){a=a.events;e&&a.forEach(function(a){return e(a)});b("cr:3411")==null?void 0:b("cr:3411").recordBridgeUIEvent(a);d("MAWBridgeUIEventHandler").handleEvents(l,a)},updateDYIStatus:function(a){var b=a.qplInstanceKeyE2E,d=a.status;c("promiseDone")(k.load().then(function(a){return a.call({qplInstanceKeyE2E:b,status:d})}))}},worker:j})}g.setupBridge=a}),98);
__d("MAWClientConsistencyRefresh",["ClientConsistencyEventEmitter","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(c("CurrentUser").getAppID()){case 772021112871879:c("ClientConsistencyEventEmitter").emit("hardRefresh",a);break;default:c("ClientConsistencyEventEmitter").emit("softRefresh",a)}}g["default"]=a}),98);
__d("MAWInit",["ExecutionEnvironment","MAWCurrentUser","MAWEBSwitch","MAWGetStorageQplAnnotations","MAWMIC","MWQPLJoinId","QPLUserFlow","QuickPerformanceLogger","UserTimingUtils","WALogger","asyncToGeneratorRuntime","gkx","performanceNow","qpl","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to get storage info"]);k=function(){return a};return a}var l=c("qpl")._(25310776,"6155"),m=!1,n=[],o=[],p=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){var d;d=b.call(this,a)||this;d.error=void 0;d.name="MAWInitError";d.message=a;d.error=c;return d}return a}(babelHelpers.wrapNativeSuper(Error)),q=!1;function r(){if(q)return;q=!0;c("QPLUserFlow").addAnnotations(l,{bool:{armadillo_init_sync_api_improvements:c("gkx")("24025"),is_eb_enabled:c("MAWEBSwitch").isEnabled(),isArmadilloPublicLaunchUser:c("gkx")("23405"),isTlcPublicUser:d("MAWCurrentUser").isTlcPublicUser(),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()}})}var s=!1;function a(){if(s)return;d("MAWMIC").markEvent("maw_init_start");s=!0;c("QPLUserFlow").start(l,babelHelpers["extends"]({annotations:{string:{hostname:window.location.hostname}},cancelOnUnload:!0},d("MWQPLJoinId").allowJoinId?{joinID:d("MWQPLJoinId").MWQPLJoinId}:{},{onFlowTimeout:function(){m=!0,d("MAWMIC").addStringAnnotation("mawInitFailReason","timeout")},timeoutInMs:(h||(h=c("ExecutionEnvironment"))).canUseDOM?6e4:0}));void d("MAWGetStorageQplAnnotations").getStorageQplAnnotations().then(function(a){c("QPLUserFlow").addAnnotations(l,a)})["catch"](function(){d("WALogger").ERROR(k())});r();n.forEach(function(a){return a()});o.forEach(function(a){return a()});n.splice(0,n.length);o.splice(0,o.length)}function t(a,b){if(!s||m){if(!s&&(b==null?void 0:b.allowEarlyLogPoints)){var d=(i||(i=c("QuickPerformanceLogger"))).currentTimestamp();o.push(function(){c("QPLUserFlow").addPoint(l,a,{timestamp:d})})}return}r();c("QPLUserFlow").addPoint(l,a)}function e(a,b,d){if(!s||m){!s&&(d==null?void 0:d.allowEarlyAnnotations)&&n.push(function(){var d;c("QPLUserFlow").addAnnotations(l,{bool:(d={},d[a]=b,d)})});return}c("QPLUserFlow").addAnnotations(l,{bool:(d={},d[a]=b,d)})}function f(a,b,d){if(!s||m){!s&&(d==null?void 0:d.allowEarlyAnnotations)&&n.push(function(){var d;c("QPLUserFlow").addAnnotations(l,{string:(d={},d[a]=b,d)})});return}c("QPLUserFlow").addAnnotations(l,{string:(d={},d[a]=b,d)})}function u(a,b,d){if(!s||m){!s&&(d==null?void 0:d.allowEarlyAnnotations)&&n.push(function(){var d;c("QPLUserFlow").addAnnotations(l,{"int":(d={},d[a]=b,d)})});return}c("QPLUserFlow").addAnnotations(l,{"int":(d={},d[a]=b,d)})}function v(a,b){r(),m=!0,c("QPLUserFlow").addAnnotations(l,{string:{failReason:a}}),c("QPLUserFlow").endFailure(l,"maw_init_fail",{error:b}),q=!1,d("MAWMIC").addStringAnnotation("mawInitFailReason",a),d("MAWMIC").fail("maw_init_failure",b)}function w(a,b){r(),m=!0,c("QPLUserFlow").addAnnotations(l,{string:{cancelReason:a}}),b&&c("QPLUserFlow").markError(l,"maw_init_cancel_with_error",{error:b}),c("QPLUserFlow").endCancel(l),q=!1,d("MAWMIC").addStringAnnotation("mawInitCancelReason",a),d("MAWMIC").cancel("maw_init_cancel",b)}function x(a){if(m)return;r();m=!0;q=!1;d("MAWMIC").addStringAnnotation("mawInitDropReason",a);(i||(i=c("QuickPerformanceLogger"))).markerDrop(l)}function y(){r(),m=!0,c("QPLUserFlow").endSuccess(l),d("MAWMIC").markEvent("maw_init_end"),q=!1}function z(a,b){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(j||(j=c("performanceNow")))(),f=a+"_start",g=a+"_end";t(f);f=(yield b());t(g);c("gkx")("24026")&&d("UserTimingUtils").measureModern(a,{end:(j||(j=c("performanceNow")))(),start:e});return f});return A.apply(this,arguments)}e={addBoolAnnotation:e,addIntAnnotation:u,addStringAnnotation:f,cancel:w,drop:x,endSuccess:y,fail:v,logPoint:t,measurePerformance:z,start:a};g.MAWInitError=p;g.MAWInit=e}),98);
__d("SharedWorkerDevChangeManager",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=!1,i=new Set();function a(a,b){var c=b.storageWorkerResource;b=b.tabResource;if(!h)return!0;if(i.has(a))return!0;if(new URLSearchParams(window.location.search).has("force_shared_worker_updates"))return!1;if(c.version===2&&b.version===2&&c.sandboxOnlyChecksum!=null)return c.sandboxOnlyChecksum===b.sandboxOnlyChecksum;return c.version===2&&c.rsrcBundleUrl==null||b.version===2&&b.getJSModuleBundleResource().url==null?!1:c.rsrcBundleUrl===b.getJSModuleBundleResource().url}function b(a){h&&i.add(a)}g.shouldUseStorageWorkerForDev=a;g.trackCreatedWorker=b}),98);
__d("SharedWorkerEventManager",["FBLogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a.port.addEventListener("message",function(a){var d;if(typeof a.data==="object"&&((d=a.data)==null?void 0:d.type)==="console"&&typeof ((d=a.data)==null?void 0:d.response)==="object"&&((d=a.data)==null?void 0:d.response)!=null){d=a.data.response;a=d.method;d=d.args;if(typeof a!=="string"||!["log","error","info","debug","warn"].includes(a)){c("FBLogger")("worker").mustfix("Unexpected console method: %s",String(a));return}if(!Array.isArray(d)){c("FBLogger")("worker").mustfix('Expected console args "%s" to be an array',JSON.stringify(d));return}b({method:a,args:d})}})}function b(a,b){a.port.addEventListener("message",function(a){var c;if(typeof a.data==="object"&&((c=a.data)==null?void 0:c.type)==="sw-uncaught-error"){a=typeof ((c=a.data)==null?void 0:c.e)==="object"?(c=a.data.e)!=null?c:{}:{};c=a.error;var d=a.lineno,e=a.colno,f=a.filename;a=a.message;b({error:c instanceof Error?c:null,errorObject:{lineno:typeof d==="number"?d:null,colno:typeof e==="number"?e:null,filename:typeof f==="string"?f:null,message:typeof a==="string"?a:null}})}})}function d(a,b,d){a.port.addEventListener("message",function(a){var e;if(typeof a.data==="object"&&((e=a.data)==null?void 0:e.type)==="sw-get-rev"&&typeof a.data.response==="object"){b==null?void 0:b.markPoint("get_worker_rev_ack_received");a=typeof a.data==="object"&&typeof ((e=a.data)==null?void 0:e.response)==="object"?(e=a.data)==null?void 0:e.response:{};e=a==null?void 0:a.workerRevision;a=a==null?void 0:a.spinTime;if(e==null||typeof e!=="number"){b==null?void 0:b.addAnnotations({string:{malformedData:"rev is non-number"}});c("FBLogger")("worker").mustfix("Expected worker rev to be non-null number, but instead received: %s",String(e));return}if(a==null||typeof a!=="number"){b==null?void 0:b.addAnnotations({string:{malformedData:"spin_time is non-number"}});c("FBLogger")("worker").mustfix("Expected worker spin time to be non-null number, but instead received: %s",String(a));return}d({rev:e,spinTime:a})}})}function e(a,b,c){var d=function d(e){var f;if(typeof e.data==="object"&&((f=e.data)==null?void 0:f.type)==="sw-shutdown"&&typeof e.data.response==="object"){var g,h;f=typeof ((f=e.data.response)==null?void 0:f.reason)==="string"?(f=e.data.response)==null?void 0:f.reason:null;g=typeof ((g=e.data.response)==null?void 0:g.workerID)==="string"?(g=e.data.response)==null?void 0:g.workerID:null;e=typeof ((h=e.data.response)==null?void 0:h.isInitialized)==="boolean"?(h=e.data.response)==null?void 0:h.isInitialized:null;b({reason:f,workerID:g,isInitialized:e});(c==null?void 0:c.once)===!0&&a.port.removeEventListener("message",d)}};a.port.addEventListener("message",d);return function(){return a.port.removeEventListener("message",d)}}function f(a,b){a.port.addEventListener("message",function(a){var c;typeof a.data==="object"&&((c=a.data)==null?void 0:c.type)==="sw-uptime-tracking"&&typeof ((c=a.data)==null?void 0:c.response)==="object"&&typeof ((c=a.data)==null?void 0:(c=c.response)==null?void 0:c.trackerID)==="number"&&b({trackerID:a.data.response.trackerID})})}function h(a,b,d){var e=function(a){var e;if(typeof a.data==="object"&&((e=a.data)==null?void 0:e.type)==="execute-worker-ack"&&typeof ((e=a.data)==null?void 0:e.response)==="object"){b==null?void 0:b.markPoint("execute_worker_ack_received");e=typeof a.data==="object"&&typeof ((e=a.data)==null?void 0:e.response)==="object"?(a=(e=a.data)==null?void 0:e.response)!=null?a:{}:{};a=e.workerRevision;var f=e.spinMode,g=e.spinTime,h=e.firstInit;e=e.errorGettingSiteData;if(typeof h!=="boolean"){b==null?void 0:b.addAnnotations({string:{malformedData:"firstInit is non-boolean"}});c("FBLogger")("worker").mustfix("Expected firstInit to be a boolean, but instead received: %s",String(h));return}if(typeof e==="string")return d({err:e,isFirstInit:h});if(typeof a==="number"&&typeof f==="number"&&typeof g==="number")return d({workerRev:a,workerSpinTime:g,workerSpinMode:f,isFirstInit:h});else b==null?void 0:b.addAnnotations({string:{malformedData:"workerRevision, spinMode, and/or spinTime are non-numbers"}}),c("FBLogger")("worker").mustfix("Expected workerRevision, spinMode, and spinTime to be non-null number, but instead received: %s %s %s",String(a),String(f),String(g))}};a.port.addEventListener("message",e);return function(){return a.port.removeEventListener("message",e)}}function i(a,b,d,e){var f=function f(g){var h;if(typeof g.data==="object"&&((h=g.data)==null?void 0:h.type)==="execute-worker-imports"&&typeof ((h=g.data)==null?void 0:h.response)==="object"){(e==null?void 0:e.once)===!0&&a.port.removeEventListener("message",f);b==null?void 0:b.markPoint("bundle_imports_ack");h=typeof g.data==="object"&&typeof ((h=g.data)==null?void 0:h.response)==="object"?(g=(h=g.data)==null?void 0:h.response)!=null?g:{}:{};g=h.err;h=h.attempts;if(g!=null&&typeof g!=="string"){b==null?void 0:b.addAnnotations({string:{malformedData:"err is neither null or a string"}});c("FBLogger")("worker").mustfix("Expected err to be null or a string, but instead receieved: %s",String(g));return}if(h!=null&&typeof h!=="number"){b==null?void 0:b.addAnnotations({string:{malformedData:"attempts is neither null or a number"}});c("FBLogger")("worker").mustfix("Expected attempts to be a number or null, but instead receieved: %s",String(h));return}d({err:g,attempts:h})}};a.port.addEventListener("message",f);return function(){return a.port.removeEventListener("message",f)}}function j(a,b,d){a.port.addEventListener("message",function(a){var e;if(typeof a.data==="object"&&((e=a.data)==null?void 0:e.type)==="ww-hrp-init"){b==null?void 0:b.markPoint("hrp_init_ack_received");e=typeof a.data==="object"&&typeof ((e=a.data)==null?void 0:e.response)==="object"?(a=(e=a.data)==null?void 0:e.response)!=null?a:{}:{};a=e.err;if(a!=null&&typeof a!=="string"){b==null?void 0:b.addAnnotations({string:{malformedData:"err is neither null or a string"}});c("FBLogger")("worker").mustfix("Expected err to be null or a string, but instead receieved: %s",String(a));return}d({err:a})}})}function k(a,b){a.port.addEventListener("message",function(a){var c;if(typeof a.data==="object"&&((c=a.data)==null?void 0:c.type)==="worker-init-mark"&&typeof ((c=a.data)==null?void 0:c.response)==="object"&&typeof ((c=a.data)==null?void 0:(c=c.response)==null?void 0:c.point)==="string"){b((c=a.data)==null?void 0:(a=c.response)==null?void 0:a.point)}})}function l(a,b,c){var d=function d(e){var f;if(typeof e.data==="object"&&((f=e.data)==null?void 0:f.type)==="self-terminate"&&typeof ((f=e.data)==null?void 0:f.response)==="object"&&typeof ((f=e.data)==null?void 0:(f=f.response)==null?void 0:f.from)==="string"){var g;f=(f=e.data)==null?void 0:(f=f.response)==null?void 0:f.from;g=typeof ((g=e.data)==null?void 0:(g=g.response)==null?void 0:g.reason)==="string"?(g=e.data)==null?void 0:(e=g.response)==null?void 0:e.reason:"unknown";(c==null?void 0:c.once)===!0&&a.port.removeEventListener("message",d);b(f,g)}};a.port.addEventListener("message",d);return function(){return a.port.removeEventListener("message",d)}}function m(a,b){b=(b=b)!=null?b:{};var c=b.reason;b=b.upgrade;a.port.postMessage({type:"sw-shutdown",args:[{reason:c,upgrade:b}]})}function n(a){a.port.postMessage({type:"sw-get-rev",args:[]})}function o(a,b){b=(b=b)!=null?b:{};var c=b.jsModuleResource;b=b.isDev;a.port.postMessage({type:"execute-worker",args:[(a=c)!=null?a:{},b]})}function p(a,b){var c=function(a){var c;if(typeof a.data==="object"&&((c=a.data)==null?void 0:c.type)==="connection-ack"&&typeof ((c=a.data)==null?void 0:c.response)==="object"&&typeof ((c=a.data)==null?void 0:(c=c.response)==null?void 0:c.from)==="string"){c=typeof ((c=a.data)==null?void 0:(c=c.response)==null?void 0:c.workerID)==="string"?(c=a.data)==null?void 0:(c=c.response)==null?void 0:c.workerID:void 0;b((a=a.data)==null?void 0:(a=a.response)==null?void 0:a.from,c)}};a.port.addEventListener("message",c);return function(){return a.port.removeEventListener("message",c)}}function q(a,b,d){var e=b.isDev,f=b.hrp;b=b.js_env;d==null?void 0:d.markPoint("hrp_init_sending");a.port.postMessage({type:"ww-hrp-init",hrp:f,is_dev:e,js_env:b,tiered:c("gkx")("2792")});d==null?void 0:d.markPoint("hrp_init_sent")}function r(a,b){b=b.trackerID;a.port.postMessage({type:"sw-uptime-tracking",args:{trackerID:b}})}g.registerLogFowardingListener=a;g.registerUncaughtErrorForwardingListener=b;g.registerGetWorkerRevListener=d;g.registerWorkerShutdownListener=e;g.registerUptimeTrackerListener=f;g.registerExecuteWorkerAckListener=h;g.registerExecuteWorkerImportsListener=i;g.registerHrpInitListener=j;g.registerWorkerInitPointsListener=k;g.registerWorkerSelfTerminationListener=l;g.emitWorkerShutdown=m;g.emitGetRev=n;g.emitExecuteWorker=o;g.registerConnectionAckListener=p;g.emitHrpInit=q;g.emitUptimeTracking=r}),98);
__d("SharedWorkerLockManager",["Deferred","FBLogger","WebStorageLockManager","emptyFunction","pageID","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h="shared_worker_mutex",i=6e4;function j(a){var b;b=(b=window)==null?void 0:(b=b.navigator)==null?void 0:b.locks;if(b!=null)return b;var e=d("WebStorageLockManager").make(c("pageID"));if(e!=null){a==null?void 0:a.addAnnotations({bool:{fallback_lock_manager:!0}});return{request:function(a,b){return e.request(a,b)}}}return null}function k(a,b,d){c("setTimeout")(function(){a.isSettled()||(b==null?void 0:b.markPoint("lock_timeout"),c("FBLogger")("worker").warn("[SharedWorkerLockManager]: lock timed out in %s ms",i),a.resolve(),d==null?void 0:d())},i)}function l(){return self.LockManager!=null&&self.navigator.locks instanceof self.LockManager}function a(a,b){var d=b.workerQPLLogger,e=b.onLockTimeout;b=j(d);d==null?void 0:d.addAnnotations({bool:{native_locks:b!=null?l():null}});if(b==null){c("FBLogger")("worker").warn("Unable to initialize lock manager");a(c("emptyFunction"));return}var f=new(c("Deferred"))();c("promiseDone")(b.request(h,function(){d==null?void 0:d.markPoint("lock_obtained");k(f,d,e);a(function(){d==null?void 0:d.markPoint("lock_released"),f.resolve()});return f.getPromise()}))}g.supportsNativeWebLock=l;g.withWorkerLock=a}),98);
__d("validateSharedWorkerReference",["ConstUriUtils","isRelativeURL","isSameOrigin","memoize"],(function(a,b,c,d,e,f,g){"use strict";var h=c("memoize")(function(){return d("ConstUriUtils").getUri(window.location.href)});function i(a){var b=h(),e=d("ConstUriUtils").getUri(a);e=b!=null&&e!=null?c("isSameOrigin")(e,b):!1;return e||c("isRelativeURL")(a)}function a(a){if(a==null||typeof a!=="object")return null;var b=a.rev,c=a.spin_time,d=a.url,e=a.version,f=a.rsrcBundleUrl;a=a.sandboxOnlyChecksum;return typeof b!=="number"||typeof c!=="number"||e!=null&&e!==1&&e!==2||!Number.isInteger(b)||!Number.isInteger(c)||typeof d!=="string"||!i(d)||f!=null&&typeof f!=="string"||a!=null&&typeof a!=="string"?null:{rev:b,spin_time:c,url:d,version:(b=e)!=null?b:1,rsrcBundleUrl:f,sandboxOnlyChecksum:a}}g["default"]=a}),98);
__d("SharedWorkerStorageManager",["Deferred","FBLogger","Promise","WebAsyncStorage","validateSharedWorkerReference"],(function(a,b,c,d,e,f,g){"use strict";var h,i="__swbundle__",j={};function k(a){return""+i+a}function l(a){var b=new(c("Deferred"))();c("WebAsyncStorage").removeItem(k(a),function(c){if(c)return b.reject(c);j[a]=null;b.resolve()});return b.getPromise()}function m(a,b){var d=new(c("Deferred"))();c("WebAsyncStorage").setItem(k(a),b,function(c){if(c!=null)return d.reject(c);j[a]=b;d.resolve()});return d.getPromise()}function n(a){var b=new(c("Deferred"))();c("WebAsyncStorage").getItem(k(a),function(c,d){if(c)return b.reject(c);j[a]=d;b.resolve(d)});return b.getPromise()}function a(){return j}function d(a){return n(a).then(function(a){a=c("validateSharedWorkerReference")(a);return a==null?null:a})}function e(a){return l(a)}function f(a,d){var e=c("validateSharedWorkerReference")(d);if(e==null){c("FBLogger")("worker").mustfix('Failed to save worker reference for bundle "%s". Invalid reference: %s',a,JSON.stringify(d));return(h||(h=b("Promise"))).resolve()}return m(a,e)}g.SHARED_WORKER_STORAGE_KEY_BASE=i;g.getDebugState=a;g.getSharedWorkerReference=d;g.removeSharedWorkerReference=e;g.saveSharedWorkerReference=f}),98);
__d("SharedWorkerUptimeTracker",["FBLogger","ODS","SharedWorkerEventManager","clearInterval","performanceNow","setInterval","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=1e4,k=45e3,l=new Map();function m(a){return Math.floor(((i||(i=c("performanceNow")))()-a)/1e3)}function n(a,b){var e=0,f={};d("SharedWorkerEventManager").registerUptimeTrackerListener(a,function(a){a=a.trackerID;var c=f[a];if(c==null)return;(h||(h=d("ODS"))).bumpFraction(6653,"shared_worker_infra","worker_uptime."+b,1,0);h.bumpEntityKey(6653,"shared_worker_infra","worker_uptime_elapsed_time_to_response_sec."+m(c.createdMs)+"."+b);delete f[a]});return c("setInterval")(function(){var g=e++;c("setTimeout")(function(){var a=f[g];if(a==null)return;delete f[g]},k);f[g]={createdMs:(i||(i=c("performanceNow")))()};(h||(h=d("ODS"))).bumpFraction(6653,"shared_worker_infra","worker_uptime."+b,0,1);d("SharedWorkerEventManager").emitUptimeTracking(a,{trackerID:g})},j)}function a(a,b){if(l.has(b)){c("FBLogger")("worker").mustfix('Uptime tracking for worker "%s" already started.',b);return}l.set(b,{intervalID:n(a,b)})}function b(a){var b=l.get(a);b!=null&&(c("clearInterval")(b.intervalID),l["delete"](a))}g.startUptimeTracking=a;g.stopUptimeTracking=b}),98);
__d("XCometFBMultiSiteWebWorkerV2HasteResponseControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/static_resources/webworker/rsrc/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("WebWorkerV2DynamicData",["Promise","XCometFBMultiSiteWebWorkerV2HasteResponseControllerRouteBuilder","cometAsyncFetchShared","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();function a(a){var b=a.name,c=i.get(b);c==null&&(c=j(a),i.set(b,c));return c}function j(a){var d=a.name,e=a.v2HasteResponsePreloader;if(e==null)return k(d);var f=null;a=new(h||(h=b("Promise")))(function(a,b){e.onLoaded(function(b){b=b.data;f=b;a(b)}).onError(b)});return h.race([a,new h(function(a,b){window.setTimeout(function(){f==null?c("promiseDone")(k(d),a,b):a(f)},1e4)})])}function k(a){return c("cometAsyncFetchShared")(c("XCometFBMultiSiteWebWorkerV2HasteResponseControllerRouteBuilder").buildUri({worker_module:a}).toString(),{data:{},getFullPayload:!0,method:"POST",skipSRState:!0}).then(function(b){if(b!=null&&typeof b==="object"&&Object.prototype.hasOwnProperty.call(b,"hrp")&&typeof b.hrp==="object")return b;throw c("err")("Unexpected data from WorkerInitResourceDeliveryController for worker %s",a)})}g.readDynamicDataForWorker=a}),98);
__d("buildSharedWorkerInitQPLLogger",["QPLUserFlow","SiteData","pageID","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(931595918,"2062"),i=0;function a(a){var b=!1,d=!1,e=i++;function f(f){var g=f.version,i=f.workerName,j=f.callReason;f=f.supportsIDB;if(b||d)return;b=!0;g={"int":{version:g,clientRev:c("SiteData").client_revision},bool:{isDev:!1,supportsIDB:f},string:{workerName:i,hostname:window.location.hostname,callReason:j,pageID:c("pageID")}};c("QPLUserFlow").start(h,{onFlowTimeout:function(){c("QPLUserFlow").addAnnotations(h,{bool:{setupTimeout:!0}},{instanceKey:e}),d=!0},cancelOnUnload:!0,annotations:g,timeoutInMs:6e4,instanceKey:e});a==null?void 0:a({type:"start",data:{annotations:g}})}function g(f,g){if(!b||d)return;f=f+"_start";c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function j(f,g){if(!b||d)return;f=f+"_end";c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function k(f,g){if(!b||d)return;c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function l(f){if(!b||d)return;c("QPLUserFlow").endSuccess(h,{annotations:f,instanceKey:e});a==null?void 0:a({type:"end",data:{annotations:f}});d=!0}function m(f,g){if(!b||d)return;c("QPLUserFlow").endFailure(h,f,{annotations:g,instanceKey:e});a==null?void 0:a({type:"end",data:{errorName:f,annotations:g}});d=!0}function n(f){if(!b||d)return;c("QPLUserFlow").addAnnotations(h,f,{instanceKey:e});a==null?void 0:a({type:"annotate",data:{annotations:f}})}return{start:f,endFailure:m,addAnnotations:n,endSuccess:l,markEventStart:g,markEventEnd:j,markPoint:k}}g["default"]=a}),98);
__d("buildSharedWorkerTerminateQPLLogger",["QPLUserFlow","SiteData","pageID","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(931600201,"1438"),i=0;function a(a){var b=!1,d=!1,e=i++;function f(f){var g=f.workerName;f=f.callReason;if(b||d)return;b=!0;g={"int":{clientRev:c("SiteData").client_revision},bool:{isDev:!1},string:{workerName:g,hostname:window.location.hostname,callReason:f,pageID:c("pageID")}};c("QPLUserFlow").start(h,{onFlowTimeout:function(){c("QPLUserFlow").addAnnotations(h,{bool:{setupTimeout:!0}},{instanceKey:e}),d=!0},cancelOnUnload:!0,annotations:g,timeoutInMs:3e4,instanceKey:e});a==null?void 0:a({type:"start",data:{annotations:g}})}function g(f,g){if(!b||d)return;f=f+"_start";c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function j(f,g){if(!b||d)return;f=f+"_end";c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function k(f,g){if(!b||d)return;c("QPLUserFlow").addPoint(h,f,{data:g,instanceKey:e});a==null?void 0:a({type:"point",data:{annotations:g,event:f}})}function l(f){if(!b||d)return;c("QPLUserFlow").endSuccess(h,{annotations:f,instanceKey:e});a==null?void 0:a({type:"end",data:{annotations:f}});d=!0}function m(f,g){if(!b||d)return;c("QPLUserFlow").endFailure(h,f,{annotations:g,instanceKey:e});a==null?void 0:a({type:"end",data:{errorName:f,annotations:g}});d=!0}function n(f){if(!b||d)return;c("QPLUserFlow").addAnnotations(h,f,{instanceKey:e});a==null?void 0:a({type:"annotate",data:{annotations:f}})}return{start:f,endFailure:m,addAnnotations:n,endSuccess:l,markEventStart:g,markEventEnd:j,markPoint:k}}g["default"]=a}),98);
__d("checkForIndexedDbSupported",[],(function(a,b,c,d,e,f){"use strict";function a(){return!window.indexedDB?!1:!0}f["default"]=a}),66);
__d("XCometFBMultiSiteSharedWorkerStaticInitScriptControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/static_resources/sharedworker/init_script/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("getSharedWorkerHash",["uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("uuidv4")()}g["default"]=a}),98);
__d("createSharedWorkerBundleUrl",["XCometFBMultiSiteSharedWorkerStaticInitScriptControllerRouteBuilder","getSharedWorkerHash","getWorkerInitScriptSPINParams","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a;return c("nullthrows")((a=c("XCometFBMultiSiteSharedWorkerStaticInitScriptControllerRouteBuilder").buildUri({hash:c("getSharedWorkerHash")()}).addQueryParams(c("getWorkerInitScriptSPINParams")()))==null?void 0:a.toString())}g["default"]=a}),98);
__d("XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/static_resources/webworker/init_script/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("supportsModuleWorker",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(a){if(h!=null)return h;if(h!=null)return h;if(c("UserAgent").isEngine("Blink")){h=a?c("UserAgent").isEngine("Blink > 83"):c("UserAgent").isEngine("Blink > 80.1");return h}if(c("UserAgent").isBrowser("Safari")){h=c("UserAgent").isBrowser("Safari > 14.9");return h}if(c("UserAgent").isBrowser("Firefox")){h=c("UserAgent").isBrowser("Firefox > 113");return h}if(c("UserAgent").isEngine("WebKit")){h=c("UserAgent").isEngine("WebKit > 606");return h}if(c("UserAgent").isBrowser("IE")){h=!1;return h}var b={get type(){h=!0}};try{a?new SharedWorker("blob://",b):new Worker("blob://",b)}finally{h=(a=h)!=null?a:!1;return h}}g["default"]=a}),98);
__d("createSharedWorkerV2BundleUrl",["XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder","getSharedWorkerHash","getWorkerInitScriptSPINParams","nullthrows","supportsModuleWorker"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("supportsModuleWorker")(!0),b=c("getWorkerInitScriptSPINParams")();b.set("hash",c("getSharedWorkerHash")());return c("nullthrows")((a=c("XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder").buildUri({worker_type:a?"MODULE":"CLASSIC"}))==null?void 0:(a=a.addQueryParams(b))==null?void 0:a.toString())}g["default"]=a}),98);
__d("handleWorkerWriteError",["FBLogger","WebStorageCleanupReason"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a instanceof Error){c("FBLogger")("worker").catching(a).mustfix("Error occured checking in shared worker reference");return}if(a==="writes disabled"){var b;c("FBLogger")("worker").warn("Writes to WebAsyncStorage is disabled. Unable to save shared worker reference. Reason: %s",(b=d("WebStorageCleanupReason").getLastCleanupReason())!=null?b:"n/a");return}c("FBLogger")("worker").mustfix("Error occured checking in shared worker reference: %s",JSON.stringify(a))}g["default"]=a}),98);
__d("SharedWorkerInitFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4266");b=d("FalcoLoggerInternal").create("shared_worker_init",a);e=b;g["default"]=e}),98);
__d("logSharedWorkerInitStep",["SharedWorkerInitFalcoEvent","SiteData","gkx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("uuidv4")();function a(a,b,d,e){if(!c("gkx")("21115"))return;c("SharedWorkerInitFalcoEvent").log(function(){return{client_id:h,bundle_name:a,client_rev:String(c("SiteData").client_revision),local_shared_worker_ref:b!=null?{bundle_url:b.url,rev:String(b.rev),spin_time:String(b.spin_time)}:null,new_shared_worker_ref:d!=null?{bundle_url:d}:null,init_step:e}})}g["default"]=a}),98);
__d("SharedWorkerBundleResource",["BootloaderPreloader","Deferred","FBLogger","ODS","Promise","SharedWorkerDevChangeManager","SharedWorkerEventManager","SharedWorkerLockManager","SharedWorkerStatusLock","SharedWorkerStorageManager","SharedWorkerUptimeTracker","SiteData","StaticSiteData","TrustedTypesWebWorkerScriptURLPolicy","WebStorage","WebWorkerV2DynamicData","buildSharedWorkerInitQPLLogger","buildSharedWorkerTerminateQPLLogger","checkForIndexedDbSupported","createSharedWorkerBundleUrl","createSharedWorkerV2BundleUrl","err","getErrorSafe","gkx","handleWorkerWriteError","justknobx","logSharedWorkerInitStep","promiseDone","regeneratorRuntime","supportsModuleWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=function(b){babelHelpers.inheritsLoose(a,b);function a(a){var c;c=b.call(this)||this;c.name="SelfTerminationError";c.message="Worker self terminated with the reason: "+a;return c}return a}(babelHelpers.wrapNativeSuper(Error));function l(a){d("SharedWorkerEventManager").registerLogFowardingListener(a,function(a){var b,c=a.args;a=a.method;(b=console)[a].apply(b,c)}),d("SharedWorkerEventManager").registerUncaughtErrorForwardingListener(a,function(a){var b=a.error;a=a.errorObject;b!=null?c("FBLogger")("worker").catching(b).mustfix("Shared Worker uncaught error."):c("FBLogger")("worker").mustfix("Shared Worker uncaught error with no Error object. %s:%d:%d:%s",a.message,a.lineno,a.colno,a.filename)})}function m(a,b,e,f,g){g==null?void 0:g.markEventStart("shared_worker_construct");var h=new SharedWorker(c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(a),b);g==null?void 0:g.markEventEnd("shared_worker_construct");h.addEventListener("error",function(a){var b;g==null?void 0:g.addAnnotations({string_array:{onErrorHandler:[(b=JSON.stringify(a==null?void 0:a.message))!=null?b:"undefined",String(a==null?void 0:a.lineno),String(a==null?void 0:a.colno),String(a==null?void 0:a.filename)]}})});var i=new Set();d("SharedWorkerEventManager").registerWorkerSelfTerminationListener(h,function(a){(j||(j=d("ODS"))).bumpEntityKey(6653,"shared_worker_infra","worker_self_termination."+a+"."+b)},{once:!0});var k=0;d("SharedWorkerEventManager").registerConnectionAckListener(h,function(a,b){k++;if(i.has("worker_connection_established")){g==null?void 0:g.addAnnotations({"int":{connectionAckNum:k}});return}i.add("worker_connection_established");g==null?void 0:g.addAnnotations({string:{connectedFrom:a,workerID:b}});g==null?void 0:g.markPoint("worker_connection_established")});d("SharedWorkerEventManager").registerWorkerInitPointsListener(h,function(a){if(i.has(a))return;i.add(a);g==null?void 0:g.markPoint("worker_init_point_"+a)});h.port.start();d("SharedWorkerEventManager").registerExecuteWorkerImportsListener(h,g,function(a){var b=a.err;a=a.attempts;g==null?void 0:g.addAnnotations({string:{importsError:b},"int":{importAttempts:a}});b==null?g==null?void 0:g.markPoint("bundle_imports_success"):g==null?void 0:g.markPoint("bundle_imports_failure")});var l=new(c("Deferred"))();f==null?void 0:f.push(l);d("SharedWorkerEventManager").registerExecuteWorkerAckListener(h,g,function(a){var b=a.workerSpinTime,d=a.err,e=a.isFirstInit,f=a.workerRev;a=a.workerSpinMode;g==null?void 0:g.markEventEnd("execute_worker");g==null?void 0:g.addAnnotations({"int":{runningWorkerRev:f,runningWorkerSpinTime:b,runningWorkerSpinMode:a},string:{executeWorkerErr:d},bool:{isFirstInit:e}});if(d!=null||b==null||f==null){l.reject(c("err")((a=d)!=null?a:"no worker rev or spin time"))}else l.resolve({rev:f,spinTime:b})});g==null?void 0:g.markEventStart("execute_worker");d("SharedWorkerEventManager").emitExecuteWorker(h,{jsModuleResource:e,isDev:!1});return l.getPromise().then(function(a){var b=a.rev;a=a.spinTime;return{worker:h,rev:b,spinTime:a}})}function n(a,b,e,f,g){var h=c("supportsModuleWorker")(!0);a=c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(a);var i;h?(g==null?void 0:g.markEventStart("shared_worker_construct"),i=new SharedWorker(a,{name:b,type:"module"}),g==null?void 0:g.markEventEnd("shared_worker_construct")):(g==null?void 0:g.markEventStart("shared_worker_construct"),i=new SharedWorker(a,b),g==null?void 0:g.markEventEnd("shared_worker_construct"));i.addEventListener("error",function(a){var d,e;d=c("getErrorSafe")((d=a instanceof ErrorEvent&&(a==null?void 0:a.error))!=null?d:a);c("FBLogger")("worker").catching(d).warn("Worker %s onerror: %s type",b,String(a.type));g==null?void 0:g.addAnnotations({string_array:{onErrorHandler:[(e=JSON.stringify((e=d==null?void 0:d.message)!=null?e:a==null?void 0:a.message))!=null?e:"undefined",String((e=a==null?void 0:a.lineno)!=null?e:d==null?void 0:d.lineno),String((e=a==null?void 0:a.colno)!=null?e:d==null?void 0:d.colno),String((e=a==null?void 0:a.filename)!=null?e:d==null?void 0:d.filename)]}})});var l=new(c("Deferred"))();f==null?void 0:f.push(l);d("SharedWorkerEventManager").registerWorkerSelfTerminationListener(i,function(a,c){(j||(j=d("ODS"))).bumpEntityKey(6653,"shared_worker_infra","worker_self_termination."+a+"."+b),l.reject(new k(c))},{once:!0});d("SharedWorkerEventManager").registerConnectionAckListener(i,function(a,b){g==null?void 0:g.addAnnotations({string:{connectedFrom:a,workerID:b}}),g==null?void 0:g.markPoint("worker_connection_established")});var m=new Set();d("SharedWorkerEventManager").registerWorkerInitPointsListener(i,function(a){if(m.has(a))return;m.add(a);g==null?void 0:g.markPoint("worker_init_point_"+a)});i.port.start();var n=new(c("Deferred"))();f==null?void 0:f.push(n);d("SharedWorkerEventManager").registerHrpInitListener(i,g,function(a){a=a.err;g==null?void 0:g.markEventEnd("hrp_init");a!=null?n.reject(c("err")(a)):n.resolve()});g==null?void 0:g.markPoint("read_dynamic_data");c("promiseDone")(d("WebWorkerV2DynamicData").readDynamicDataForWorker(e).then(function(a){g==null?void 0:g.markEventStart("hrp_init");try{var e=c("justknobx")._("1979");e&&d("BootloaderPreloader").preloadWorkerJSFromHRP(a.hrp);g==null?void 0:g.addAnnotations({bool:{prefetchWorkerScripts:e}})}catch(a){e=c("getErrorSafe")(a);g==null?void 0:g.addAnnotations({string:{hrpInitErr:e.toString()}});c("FBLogger")("worker").catching(a).warn("Failed to preload worker %s JS from HRP",b)}d("SharedWorkerEventManager").emitHrpInit(i,{hrp:a.hrp,js_env:a.js_env,isDev:!1},g)},function(a){a=c("getErrorSafe")(a);g==null?void 0:g.addAnnotations({string:{hrpInitErr:a.toString()}})}));d("SharedWorkerEventManager").registerExecuteWorkerAckListener(i,g,function(a){var b=a.workerSpinTime,d=a.err,e=a.isFirstInit,f=a.workerRev;a=a.workerSpinMode;g==null?void 0:g.markEventEnd("execute_worker");g==null?void 0:g.addAnnotations({"int":{runningWorkerRev:f,runningWorkerSpinTime:b,runningWorkerSpinMode:a},string:{executeWorkerErr:d},bool:{isFirstInit:e}});if(d!=null||f==null||b==null){l.reject(c("err")((a=d)!=null?a:"no worker rev or spin time"))}else l.resolve({rev:f,spinTime:b})});g==null?void 0:g.markEventStart("execute_worker");d("SharedWorkerEventManager").emitExecuteWorker(i);return l.getPromise().then(function(a){var b=a.rev;a=a.spinTime;return{worker:i,rev:b,spinTime:a}})}function o(a,b,e,f,g,h,i){var j=new(c("Deferred"))();h==null?void 0:h.push(j);d("SharedWorkerEventManager").registerGetWorkerRevListener(a,i,function(a){var h=a.rev;a=a.spinTime;c("promiseDone")(d("SharedWorkerStorageManager").saveSharedWorkerReference(e,{url:b,rev:h,spin_time:a,version:g.version,rsrcBundleUrl:g.getJSModuleBundleResource().url,sandboxOnlyChecksum:g.sandboxOnlyChecksum}).then(function(){return d("SharedWorkerStorageManager").getSharedWorkerReference(e)}).then(function(a){c("logSharedWorkerInitStep")(e,a,g.resourceUrlForLogging,"after_worker_reference_save")}),function(){i.markEventEnd("get_worker_rev",{bool:{successfullySavedWorkerRef:!0}}),j.resolve(),f()},function(a){i.markEventEnd("get_worker_rev",{bool:{successfullySavedWorkerRef:!1}}),j.reject(a),c("handleWorkerWriteError")(a),f()})});i.markEventStart("get_worker_rev");d("SharedWorkerEventManager").emitGetRev(a);return j.getPromise()}function p(a,b,e,f,g,h,i,j){var k=new(c("Deferred"))();i==null?void 0:i.push(k);c("promiseDone")(d("SharedWorkerStorageManager").saveSharedWorkerReference(b,{url:a,rev:e,spin_time:f,version:h.version,rsrcBundleUrl:h.getJSModuleBundleResource().url,sandboxOnlyChecksum:h.sandboxOnlyChecksum}),function(){j.markEventEnd("save_worker_rev",{bool:{successfullySavedWorkerRef:!0}}),k.resolve(),g(),c("promiseDone")(d("SharedWorkerStorageManager").getSharedWorkerReference(b).then(function(a){c("logSharedWorkerInitStep")(b,a,h.resourceUrlForLogging,"after_worker_reference_save")}))},function(a){j.markEventEnd("save_worker_rev",{bool:{successfullySavedWorkerRef:!1}}),k.reject(a),c("handleWorkerWriteError")(a),g()});j.markEventStart("save_worker_rev");return k.getPromise()}function q(a,e,f,g,h){l(a),d("SharedWorkerEventManager").registerWorkerShutdownListener(a,function(a){a=a.reason;a==="requested-upgrade"&&(e==null?void 0:e());d("SharedWorkerUptimeTracker").stopUptimeTracking(f)}),d("SharedWorkerDevChangeManager").trackCreatedWorker(f),d("SharedWorkerUptimeTracker").startUptimeTracking(a,f),c("logSharedWorkerInitStep")(f,null,null,"create_worker_end"),g!=null&&c("promiseDone")((i||(i=b("Promise"))).all(g.map(function(a){return a.getPromise()})),function(){h.endSuccess()},function(a){var b=typeof a==="string"?c("err")(a):a;h.endFailure("worker_init_failure",{string:{workerInitFailureReason:a.message}});c("FBLogger")("worker").catching(b).warn("Failed to mark QPL end for shared worker init")})}function r(a,d,e,f,g,h,i){var j;return b("regeneratorRuntime").async(function(k){while(1)switch(k.prev=k.next){case 0:i.addAnnotations({string:{initFlow:"use_existing_ref"}});c("logSharedWorkerInitStep")(a,null,null,"using_existing_worker_ref");if(!(d.version===2)){k.next=8;break}k.next=5;return b("regeneratorRuntime").awrap(n(d.url,a,e.getJSModuleBundleResource(),h,i));case 5:j=k.sent.worker;k.next=11;break;case 8:k.next=10;return b("regeneratorRuntime").awrap(m(d.url,a,e.getJSModuleBundleResource(),h,i));case 10:j=k.sent.worker;case 11:f();q(j,g,a,h,i);return k.abrupt("return",j);case 14:case"end":return k.stop()}},null,this)}function s(){return self.LockManager!=null&&self.navigator.locks instanceof self.LockManager}function t(a){var c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:if(s()){e.next=2;break}return e.abrupt("return",!0);case 2:e.next=4;return b("regeneratorRuntime").awrap(self.navigator.locks.query());case 4:c=e.sent;return e.abrupt("return",c.held.some(function(b){return b.name===d("SharedWorkerStatusLock").getStatusLockName(a)}));case 6:case"end":return e.stop()}},null,this)}function u(a,e,f,g,h,i,j){var k,l,m,n,r,s,u,v,w;return b("regeneratorRuntime").async(function(x){while(1)switch(x.prev=x.next){case 0:j.addAnnotations({string:{initFlow:"upgrade_worker_ref"}});c("logSharedWorkerInitStep")(a,null,null,"upgrading_worker_ref");k=d("SharedWorkerStorageManager").removeSharedWorkerReference(a);x.next=5;return b("regeneratorRuntime").awrap(t(a));case 5:if(!x.sent){x.next=13;break}e.version===2&&c("supportsModuleWorker")(!0)?l=new SharedWorker(e.url,{name:a,type:"module"}):l=new SharedWorker(e.url,a);m=new(c("Deferred"))();i.push(m);d("SharedWorkerEventManager").registerWorkerShutdownListener(l,function(a){var b=a.workerID;a=a.isInitialized;m.resolve();j.markEventEnd("old_worker_shutdown",{string:{oldWorkerID:b},bool:{oldWorkerWasInitialized:a}})},{once:!0});j.markEventStart("old_worker_shutdown");d("SharedWorkerEventManager").emitWorkerShutdown(l,{upgrade:!0});l.port.start();case 13:x.next=15;return b("regeneratorRuntime").awrap(f.createSharedWorker());case 15:n=x.sent;r=n[0];s=n[1];u=s.worker;v=s.rev;w=s.spinTime;x.next=23;return b("regeneratorRuntime").awrap(k);case 23:if(!c("gkx")("286")){x.next=28;break}x.next=26;return b("regeneratorRuntime").awrap(p(r,a,v,w,g,f,i,j));case 26:x.next=30;break;case 28:x.next=30;return b("regeneratorRuntime").awrap(o(u,r,a,g,f,i,j));case 30:q(u,h,a,i,j);return x.abrupt("return",u);case 32:case"end":return x.stop()}},null,this)}function v(a,d,e,f,g,h){var i,j,k,l,m,n;return b("regeneratorRuntime").async(function(r){while(1)switch(r.prev=r.next){case 0:h.addAnnotations({string:{initFlow:"new_worker_ref"}});c("logSharedWorkerInitStep")(a,null,null,"new_worker_ref");r.next=4;return b("regeneratorRuntime").awrap(d.createSharedWorker());case 4:i=r.sent;j=i[0];k=i[1];l=k.worker;m=k.rev;n=k.spinTime;if(!c("gkx")("286")){r.next=15;break}r.next=13;return b("regeneratorRuntime").awrap(p(j,a,m,n,e,d,g,h));case 13:r.next=17;break;case 15:r.next=17;return b("regeneratorRuntime").awrap(o(l,j,a,e,d,g,h));case 17:q(l,f,a,g,h);return r.abrupt("return",l);case 19:case"end":return r.stop()}},null,this)}function w(a,e,f,g,h){var i,j,k,l,m,n;return b("regeneratorRuntime").async(function(o){while(1)switch(o.prev=o.next){case 0:h.markEventStart("create_worker");i=a.name;d("SharedWorkerUptimeTracker").stopUptimeTracking(i);o.t0=h;if(!s()){o.next=10;break}o.next=7;return b("regeneratorRuntime").awrap(t(i));case 7:o.t1=o.sent;o.next=11;break;case 10:o.t1=null;case 11:o.t2=o.t1;o.t3={workerAlreadyRunning:o.t2};o.t4={bool:o.t3};o.t0.addAnnotations.call(o.t0,o.t4);o.next=17;return b("regeneratorRuntime").awrap(d("SharedWorkerStorageManager").getSharedWorkerReference(i));case 17:j=o.sent;h.addAnnotations({"int":{storageWorkerSpinTime:j==null?void 0:j.spin_time,storageWorkerVersion:j==null?void 0:j.version,storageWorkerRev:j==null?void 0:j.rev}});c("logSharedWorkerInitStep")(i,j,a.resourceUrlForLogging,"create_worker_start");if(!(j!=null)){o.next=38;break}if(!(j.rev>=c("SiteData").client_revision&&(a.version===((k=j.version)!=null?k:1)||j.spin_time>=c("SiteData")[c("StaticSiteData").spin_time_key])&&d("SharedWorkerDevChangeManager").shouldUseStorageWorkerForDev(i,{storageWorkerResource:j,tabResource:a}))){o.next=30;break}h.markEventStart("using_storage_reference");o.next=25;return b("regeneratorRuntime").awrap(r(i,j,a,e,f,g,h));case 25:l=o.sent;h.markEventEnd("using_storage_reference");return o.abrupt("return",l);case 30:h.markEventStart("upgrading_worker_reference");o.next=33;return b("regeneratorRuntime").awrap(u(i,j,a,e,f,g,h));case 33:m=o.sent;h.markEventEnd("upgrading_worker_reference");return o.abrupt("return",m);case 36:o.next=44;break;case 38:h.markEventStart("new_worker_reference");o.next=41;return b("regeneratorRuntime").awrap(v(i,a,e,f,g,h));case 41:n=o.sent;h.markEventEnd("new_worker_reference");return o.abrupt("return",n);case 44:case"end":return o.stop()}},null,this)}function x(){if(c("gkx")("21113")&&!c("checkForIndexedDbSupported")()){var a=(h||(h=c("WebStorage"))).getLocalStorage();if(a!=null){var b="afab0ea5-8ede-41bd-9933-dca4eea1e9b4009b1647-9c95-448c-b5f5-bcc6653853c49a83be9e-1e94-40be-a23b-c8ac74114c1e9fad1a9b-d2b3-4cf8-8751-22cc16cd96fde876fbf6-b739-4871-8586-55b51c4332a97606adc6-f4dc-4935-bb80-07e2b12a77533ae5ef90-dbc4-4003-ba54-2450fff94bbce0542942-228e-4f14-a41e-b3eef321a126eb8a6b22-a915-487f-aae7-b1a042f80274116403b4-8cdf-466a-afc7-1fc481fe95bac9585547-5693-4c3a-aba6-c8b5eec23e2cd3c74809-ef4d-4157-bf02-e0693e105906559a86c2-66a4-407c-8c45-126ff24dab57bba15e7d-da70-4d46-bff1-b4deaa9e328788a7ae98-7313-4158-97ee-5f1349d5f3b8b3a889b2-7c53-4443-8be3-9ff617a09503b13d6954-e863-40d6-b831-a24c81eae3a0099c6236-d6af-4c99-a104-61a7afe99d22";a=(h||(h=c("WebStorage"))).setItemGuarded(a,"shw_t",b);a!=null?(j||(j=d("ODS"))).bumpEntityKey(6653,"shared_worker_infra","local_storage_write_fail"):(j||(j=d("ODS"))).bumpEntityKey(6653,"shared_worker_infra","local_storage_write_success")}}}function a(a,e,f){f=(f=f)!=null?f:{};var g=f.onQPLEvent;f=f.reason;var h=a.name,i=[],j=c("buildSharedWorkerInitQPLLogger")(g);j.start({version:1,workerName:h,callReason:f,supportsIDB:c("checkForIndexedDbSupported")()});x();var k=new(c("Deferred"))();i.push(k);var l=new(c("Deferred"))();d("SharedWorkerLockManager").withWorkerLock(function(d){var f;c("promiseDone")(w({name:h,version:1,resourceUrlForLogging:(f=a.url)!=null?f:"",getJSModuleBundleResource:function(){return a},createSharedWorker:function(){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=c("createSharedWorkerBundleUrl")();e.t0=d;e.next=4;return b("regeneratorRuntime").awrap(m(d,h,a,i,j));case 4:e.t1=e.sent;return e.abrupt("return",[e.t0,e.t1]);case 6:case"end":return e.stop()}},null,this)}},d,e,i,j),function(a){j.markEventEnd("create_worker"),k.resolve(),l.resolve(a)},function(a){j.endFailure("worker_init_failure",{string:{workerInitFailureReason:a.message}}),l.reject(a),d()})},{workerQPLLogger:j,onLockTimeout:function(){return l.reject(c("err")("Worker lock timeout"))}});return l.getPromise()}function e(a,e,f){var g=a.name;f=(f=f)!=null?f:{};var h=f.onQPLEvent;f=f.reason;var i=[],j=c("buildSharedWorkerInitQPLLogger")(h);j.start({version:2,workerName:g,callReason:f,supportsIDB:c("checkForIndexedDbSupported")()});x();j.addAnnotations({bool:{usingModuleWorker:c("supportsModuleWorker")(!0)}});var k=new(c("Deferred"))();i.push(k);var l=new(c("Deferred"))();d("SharedWorkerLockManager").withWorkerLock(function(d){c("promiseDone")(w({name:g,version:2,getJSModuleBundleResource:function(){return a},sandboxOnlyChecksum:a.sandboxOnlyChecksum,createSharedWorker:function(){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=c("createSharedWorkerV2BundleUrl")();e.t0=d;e.next=4;return b("regeneratorRuntime").awrap(n(d,g,a,i,j));case 4:e.t1=e.sent;return e.abrupt("return",[e.t0,e.t1]);case 6:case"end":return e.stop()}},null,this)}},d,e,i,j),function(a){j.markEventEnd("create_worker"),k.resolve(),l.resolve(a)},function(a){j.endFailure("worker_init_failure",{string:{workerInitFailureReason:a.message}}),l.reject(a),d()})},{workerQPLLogger:j,onLockTimeout:function(){return l.reject(c("err")("Worker lock timeout"))}});return l.getPromise()}function f(a,b,e){var f=(b=b)!=null?b:a.name,g=new(c("Deferred"))(),h=c("buildSharedWorkerTerminateQPLLogger")();h.start({workerName:f});d("SharedWorkerLockManager").withWorkerLock(function(b){c("promiseDone")(d("SharedWorkerStorageManager").getSharedWorkerReference(f).then(function(b){h.markPoint("read_worker_reference",{"int":{storageWorkerVersion:b==null?void 0:b.version},bool:{storageReferenceExists:b!=null}});if(b!=null){var c;b.version===2?c=n(b.url,f,a,void 0,void 0).then(function(a){a=a.worker;return a}):c=m(b.url,f,a).then(function(a){a=a.worker;return a});return d("SharedWorkerStorageManager").removeSharedWorkerReference(f).then(function(){h.markPoint("removed_worker_reference");return c})}return null}),function(a){try{b(),d("SharedWorkerUptimeTracker").stopUptimeTracking(f),a!=null?(d("SharedWorkerEventManager").registerWorkerShutdownListener(a,function(a){var b=a.workerID;a=a.isInitialized;h.endSuccess({string:{workerID:b},bool:{wasInitialized:a}})},{once:!0}),d("SharedWorkerEventManager").emitWorkerShutdown(a,{reason:e})):h.endSuccess()}finally{g.resolve()}},function(a){c("FBLogger")("worker").catching(c("getErrorSafe")(a)).mustfix("Failed to terminate worker"),h.endFailure("terminate_worker_failure",{string:{workerTerminateFailReason:a.message}}),b()})},{workerQPLLogger:h});return g.getPromise()}function y(a){var c;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(d("SharedWorkerStorageManager").getSharedWorkerReference(a.name));case 2:c=e.sent;return e.abrupt("return",c!=null);case 4:case"end":return e.stop()}},null,this)}g.SelfTerminationError=k;g.createPushSafeSharedWebWorkerAsync=a;g.createPushSafeSharedWebWorkerV2Async=e;g.terminateSharedWorker=f;g.doesSharedWorkerReferenceExist=y}),98);
__d("waitForMAWWorkerCreated",["WAResolvable"],(function(a,b,c,d,e,f,g){"use strict";a=new(d("WAResolvable").Resolvable)();b=a.promise;g.resolvable=a;g.promise=b}),98);
__d("MAWSetupWorker",["CurrentUser","Deferred","IGDWebUtils","MAWClientConsistencyRefresh","MAWCommonSetupWorker","MAWCrossWorkerPortal","MAWInit","MAWLoggerUtils","MAWWebWorkerInstance","MAWWebWorkerSingleton","MAWWorkerWatchdog","MessengerIntent","Promise","SharedWorkerBundleResource","WATagsLogger","asyncToGeneratorRuntime","cr:6600","err","gkx","pageID","promiseDone","setTimeout","shouldUseMAWSharedWorker","waitForMAWWorkerCreated"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker terminating: for ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker doesn't exist, no need to terminate"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker setting up"]);k=function(){return a};return a}var l="testing",m=d("WATagsLogger").TAGS([d("MAWLoggerUtils").Tag.WorkerSetup,d("MAWLoggerUtils").Tag.MAWInit]),n=d("IGDWebUtils").isInstagramWebSupportedApp(Number(c("CurrentUser").getAppID())),o=n?"IGDAWMainWorker":"MAWMainWorker",p=null,q=!1;function r(a){switch(a){case"mawInit":return!0;case"mawReinitSetupMutex":case"mawReinitReregDevice":case"watchdogRestart":case"workerUpgraded":return!1}}function s(e,f,g,h,i,j){var l;j===void 0&&(j=null);if(q)throw c("err")("Worker is permanently killed.");var n=function(){return s(e,f,g,h,"workerUpgraded")};d("MAWInit").MAWInit.logPoint("create_worker_start");(l=j)==null?void 0:l.sharedWorkerRestartAddPoint("create_worker_instance_start");d("MAWWebWorkerSingleton").setOnCloseForWorkerInstance(function(){v("createWorkerIfNone:onClose"),d("MAWInit").MAWInit.addBoolAnnotation("workerUpgraded",!0),c("promiseDone")(n())});d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()||c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!(yield t()))return;yield A()})());d("shouldUseMAWSharedWorker").logExposureForMAWSharedWorker();l=d("MAWWebWorkerSingleton").createWorkerIfNone(i);var r=new(c("Deferred"))();p=r.getPromise();a=l;return a.then(function(a){var h;d("waitForMAWWorkerCreated").resolvable.resolve();d("MAWInit").MAWInit.logPoint("create_worker_end");(h=j)==null?void 0:h.sharedWorkerRestartAddPoint("create_worker_instance_end");if(a===null)throw c("err")("Client is starting bridge without a worker.");m.LOG(k());d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()&&a.addEventListener("message",function(a){var b;typeof a.data==="object"&&((b=a.data)==null?void 0:b.type)==="sw-shutdown"&&typeof a.data.response==="object"&&((b=a.data.response)==null?void 0:b.reason)==="maw-request-refresh"&&(d("MAWWorkerWatchdog").terminateWatchdog(),c("MAWClientConsistencyRefresh")("worker_mismatch"))});d("shouldUseMAWSharedWorker").logExposureForMAWSharedWorker();var i=new(d("MAWCommonSetupWorker").BridgeAdapter)(a,o);r.resolve(i);f(i);return d("MAWInit").MAWInit.measurePerformance("maw_init_worker",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=function(){return d("MAWCommonSetupWorker").initWorker(i,e,n,g)},b;!d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()||c("gkx")("290")?b=(yield i.fullyConnected.then(a)):b=(yield a());d("MessengerIntent").markWorkerReady();return b}))})}function e(a,b,e,f,g,h){h===void 0&&(h=null);if(p){var i;(i=h)==null?void 0:i.sharedWorkerRestartAddPoint("not_needed")}if(!p){i=s(a,b,e,f,g,h);r(g)&&d("MAWWorkerWatchdog").startWatchdog({initPageID:c("pageID"),onConnectToExistingWorker:e,onTerminateWorker:f,onWorkerReconnect:b,vaultMaterials:a});return i}return p}function t(){return d("SharedWorkerBundleResource").doesSharedWorkerReferenceExist(b("cr:6600"))}function u(a,b){var e=a!==l;if(!p){e&&m.LOG(j());return!1}e&&m.LOG(i(),a);c("promiseDone")(p.then(function(a){return a==null?void 0:a.close()}));p=null;d("MAWCrossWorkerPortal").killPortalWhenWorkerTerminating();d("MAWWebWorkerInstance").destroyWorkerInstance();b&&d("MAWWorkerWatchdog").terminateWatchdog();return!0}function v(a){u(a,!1)}function f(){u("terminateWorkerPermanently",!0),q=!0}function w(){return x.apply(this,arguments)}function x(){x=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){u(l,!1)&&(yield z(45e3))});return x.apply(this,arguments)}function y(){return p}function z(a){return new(h||(h=b("Promise")))(function(b){return c("setTimeout")(b,a)})}function A(a){return B.apply(this,arguments)}function B(){B=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a===void 0&&(a=!0),yield d("SharedWorkerBundleResource").terminateSharedWorker(b("cr:6600"),null,a?"maw-request-refresh":void 0)});return B.apply(this,arguments)}function C(a){return D.apply(this,arguments)}function D(){D=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();d("shouldUseMAWSharedWorker").logExposureForMAWSharedWorker();b?yield A(!1):u(a,!0)});return D.apply(this,arguments)}g.getOrSetupWorker=e;g.isSharedWorkerActive=t;g.terminateWorker=v;g.terminateWorkerPermanently=f;g.killWorkerForTest=w;g.waitForWorkerSetupForTest=y;g.killSharedWorker=A;g.killSharedWorkerOrTerminateWebWorkerTmp=C}),98);
__d("MAWSharedWorkerReboot",["MAWSetupWorker","ODS","Promise","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["shared worker reconnection failed - ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Clear the shared worker reference in MAWSharedWorkerReboot"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["starting reconnection to shared worker"]);l=function(){return a};return a}function m(a){(i||(i=d("ODS"))).bumpEntityKey(3185,"armadillo_shared_worker_reboot","shared_worker_reboot_"+a)}function a(a,c,e,f,g){d("WALogger").LOG(l());m("start");g.startSharedWorkerRestart();d("WALogger").LOG(k());d("MAWSetupWorker").terminateWorker("Clear the shared worker reference in MAWSharedWorkerReboot");return new(h||(h=b("Promise")))(function(b,h){return d("MAWSetupWorker").getOrSetupWorker(a,c,e,f,"watchdogRestart").then(function(a){m("success"),g.endSuccessSharedWorkerRestart(),c(a),b()})["catch"](function(a){d("WALogger").ERROR(j(),a.message),m("fail"),g.endFailureSharedWorkerRestart(a.message),h(a)})})}g.rebootSharedWorker=a}),98);
__d("MessengerWaitForEvent",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d){var e,f=d;return new(g||(g=b("Promise")))(function(b){f?e=function(){f.apply(this,arguments)&&b.apply(this,arguments)}:e=b,a==null?void 0:a.addEventListener==null?void 0:a.addEventListener(c,e)})["finally"](function(){a==null?void 0:a.removeEventListener==null?void 0:a.removeEventListener(c,e)})}f.waitForEvent=a}),66);
__d("LocalStorageMutex",["MessengerWaitForEvent","Promise","QPLUserFlow","err","pageID","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=1e3,k=c("qpl")._(1056847375,"584");a=function(){function a(a){var b=this,d=a.mutexKey,e=a.localTakeoverKey,f=a.log,g=a.logError,h=a.getStorage,i=a.setItemGuarded,k=a.mutexTimeoutMs;k=k===void 0?j:k;a=a.mutexTimeoutCallback;this.mutexFilter=function(a){if(a.key!==b.$1)return!1;a=a.newValue||"";return!a.includes(c("pageID"))};this.$1=d;this.$2=e;this.$5=h;this.$6=i;this.$3=f;this.$4=g;this.$7=k;this.$8=a}var e=a.prototype;e.init=function(){c("QPLUserFlow").start(k);this.$3("APPMUTEX - this tab is "+c("pageID"));var a=this.getMutex();if(a===c("pageID")){this.$3("APPMUTEX - WE ALREADY HAVE THE MUTEX LOCK WITHIN INIT");c("QPLUserFlow").endSuccess(k);return(h||(h=b("Promise"))).resolve(!0)}if(a!=null){this.$3("APPMUTEX - initiating localTAKEOVER");return this.localTakeover()}else{this.$3("APPMUTEX - NO1 ELSE IS ALIVE, GET THE MUTEX");a=this.$9(c("pageID"));var d=this.$10(c("pageID"));if(!a.success||!d.success){c("QPLUserFlow").addAnnotations(k,{bool:{setMutexResult:d.success,setTakeoverResult:a.success},string:{setMutexError:d.error,setTakeoverError:a.error}});c("QPLUserFlow").endFailure(k,"fail_to_set_takeover_or_mutex");return(h||(h=b("Promise"))).resolve(!1)}c("QPLUserFlow").endSuccess(k);return(h||(h=b("Promise"))).resolve(!0)}};e.localTakeover=function(){var a,e=this,f=this.$9(c("pageID"));if(!f.success){c("QPLUserFlow").addAnnotations(k,{string:{initTakeoverError:f.error}});c("QPLUserFlow").endFailure(k,"local_takeover_init_takeover_failure");return(h||(h=b("Promise"))).resolve(!1)}var g,i=function(){g!=null&&clearTimeout(g)};f=d("MessengerWaitForEvent").waitForEvent(window,"storage",this.mutexFilter);var l=(a=this.$7)!=null?a:j;return(h||(h=b("Promise"))).race([f,new h(function(a){g=setTimeout(function(){a()},l)}),this.$8?this.$8():new(h||(h=b("Promise")))(function(a){})]).then(function(a){if(a==null){e.$3("AppMutex - Forcefully took the mutex and takeover lock");var b=e.$9(c("pageID")),d=e.$10(c("pageID"));if(!b.success||!d.success){c("QPLUserFlow").addAnnotations(k,{string:{setMutexError:d.error,setTakeoverError:b.error}});c("QPLUserFlow").endFailure(k,"local_takeover_forcefully_takeover_failure");return!1}c("QPLUserFlow").endSuccess(k);return!0}e.$3("APPMUTEX - GOT MUTEX STORAGE EVENT CHANGE FROM ANOTHER TAB");d=e.$11(a.newValue);if(!d&&e.hasTakeoverPermission()){e.$3("APPMUTEX - setting mutex on localtakeover");b=e.$10(c("pageID"));if(!b.success){c("QPLUserFlow").addAnnotations(k,{string:{setMutexError:b.error}});c("QPLUserFlow").endFailure(k,"local_takeover_set_mutex_failure");return!1}c("QPLUserFlow").endSuccess(k);return!0}else{e.hasTakeoverPermission()&&e.$12();c("QPLUserFlow").endFailure(k,"local_takeover_no_takeover_permission");return!1}}).then(function(a){i();return a})["catch"](function(a){i();e.$4("AppMutex - localTakeover error no permission - "+a);c("QPLUserFlow").endFailure(k,"local_takeover_general_failure");return!1})};e.onMutexDeath=function(){var a=this.getMutex();a!=null&&a===c("pageID")&&(this.$3("APPMUTEX - removing mutex on death"),this.$13(),this.hasTakeoverPermission()&&this.$12())};e.takeoverFilter=function(a){if(a.key!==this.$2)return!1;a=a.newValue||"";return!a.includes(c("pageID"))};e.$14=function(){if(!i){var a=this.$5();if(!a)throw c("err")("Could not get localStorage");i=a}return i};e.getMutex=function(){i=this.$14();return i.getItem(this.$1)};e.$10=function(a){i=this.$14();return this.$6(i,this.$1,a)};e.$13=function(){i=this.$14(),i.removeItem(this.$1)};e.getTakeover=function(){i=this.$14();return i.getItem(this.$2)};e.$9=function(a){i=this.$14();return this.$6(i,this.$2,a)};e.$12=function(){i=this.$14(),i.removeItem(this.$2)};e.$11=function(a){return a!=null?a:""};e.hasTakeoverPermission=function(){var a=this.getTakeover();return a!=null&&a===c("pageID")};return a}();g.THIS_TAB=c("pageID");g.LocalStorageMutex=a}),98);
__d("MAWLocalStorage",["LocalStorageWrapper","MWLocalStorageErrorHandler","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["not storage found"]);h=function(){return a};return a}function i(a){d("WALogger").LOG([a])}function j(a){d("WALogger").ERROR([a])}function a(){return d("LocalStorageWrapper").getStorage(i)}function b(){return d("LocalStorageWrapper").isLocalStorageAvailable(i)}function c(a,b,c){return d("LocalStorageWrapper").setItemGuarded(a,b,c,j,d("MWLocalStorageErrorHandler").onQuotaExceeded)}function e(a,b){a==null?d("WALogger").ERROR(h()):a.removeItem(b)}g.getStorage=a;g.isLocalStorageAvailable=b;g.setItemGuarded=c;g.removeItemGuarded=e}),98);
__d("MAWAppMutex",["LocalStorageMutex","MAWLocalStorage","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h="armadillo_msgr_mutex",i="armadillo_msgr_local_takeover",j=null;function a(){j==null&&(j=new(d("LocalStorageMutex").LocalStorageMutex)({getStorage:d("MAWLocalStorage").getStorage,localTakeoverKey:i,log:function(a){d("WALogger").LOG([a])},logError:function(a){d("WALogger").ERROR([a])},mutexKey:h,setItemGuarded:d("MAWLocalStorage").setItemGuarded}));return j}g.MAW_MUTEX_KEY=h;g.MAW_LOCALTAKEOVER_KEY=i;g.use=a}),98);
__d("LSRemoveError",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.db.table(6).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSRemoveErrorStoredProcedure",["LSRemoveError","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.errorId;return c("LSRemoveError").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MAWIssueNewUserVisibleErrors",["fbt","$InternalEnum","LSDatabaseSingleton","LSFactory","LSIssueNewErrorStoredProcedure","LSRemoveErrorStoredProcedure","Promise","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a,b,e,f){c("promiseDone")((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(d){return d.runInTransaction(function(d){return c("LSIssueNewErrorStoredProcedure")(c("LSFactory")(d),{errorBodyText:a!=null?a.toString():void 0,errorExtraData:f,errorTitleText:b.toString(),presentationStyle:String(e)})},"readwrite")}))}function k(a,b){return a.runInTransaction(function(a){return c("LSRemoveErrorStoredProcedure")(c("LSFactory")(a),{errorId:b})},"readwrite")}function e(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton),c=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.user_visible_errors)));yield (i||(i=b("Promise"))).all(c.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield k(a,b.errorId)});return function(a){return c.apply(this,arguments)}}()))})())}function f(a){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=(yield (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton),e=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(c.tables.user_visible_errors)));yield (i||(i=b("Promise"))).all(e.map(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b.errorExtraData===a&&(yield k(c,b.errorId))});return function(a){return d.apply(this,arguments)}}()))})())}var l=b("$InternalEnum")({TOAST:"toast",BANNER:"banner"}),m=h._("__JHASH__GYf1KHsnFi8__JHASH__"),n=h._("__JHASH__sfKyyq_GmTy__JHASH__"),o=h._("__JHASH__GFcUdiCyJga__JHASH__"),p=h._("__JHASH__eNLW45dJwcf__JHASH__"),q=h._("__JHASH__ullHqmlWvhs__JHASH__");h=h._("__JHASH__1UM5NSCZCUv__JHASH__");var r=new Map([[m.toString(),m],[o.toString(),o]]),s=new Map([[n.toString(),n],[p.toString(),p]]);g.issueError=a;g.deleteUserVisibleError=k;g.deleteAllErrors=e;g.deleteUserVisibleErrorByJSErrorMessage=f;g.MAWUserVisibleErrorPresentationType=l;g.MAWGeneralErrorMsgTitle=m;g.MAWGeneralErrorMsgBody=n;g.MAWLegacyUserErrorMsgTitle=o;g.MAWLegacyUserErrorMsgBody=p;g.MAWUnsupportedIndexedDBErrorMsgTitle=q;g.MAWUnsupportedIndexedDBErrorMsg=h;g.errorMsgTitleToFbtMap=r;g.errorMsgBodyToFbtMap=s}),226);
__d("MWTabCommunicationChannel",["MAWLocalStorage"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof window!=="undefined"?window:self;function i(a){var b=d("MAWLocalStorage").getStorage(),c=function(c){d("MAWLocalStorage").setItemGuarded(b,a,JSON.stringify(c))},e=function(c){window.removeEventListener("storage",c),d("MAWLocalStorage").removeItemGuarded(b,a)},f=function(a){window.addEventListener("storage",a)},g=function(b){return b!=null&&b.key===a&&typeof b.newValue==="string"?JSON.parse(b.newValue):null};return{getMessage:g,onRequestReceived:function(a){var b=function(b){b=g(b);b!=null&&a(b)};f(b);return{release:function(){e(b)}}},sendMessage:c,stopWaitingForReply:e,waitForReply:f}}function j(a){var b=new h.BroadcastChannel(a),c=new Set();b.addEventListener("message",function(a){c.forEach(function(b){b(a)})});var d=function(a){c.add(a)},e=function(a){c["delete"](a)};a=function(a){b.postMessage(JSON.stringify(a))};var f=function(a){return a!=null&&typeof a.data==="string"?JSON.parse(a.data):null};return{getMessage:f,onRequestReceived:function(a){var b=function(b){b=f(b);b!=null&&a(b)};d(b);return{release:function(){e(b)}}},sendMessage:a,stopWaitingForReply:e,waitForReply:d}}function a(a){return h.BroadcastChannel!=null?j(a):i(a)}g.getChannel=a}),98);
__d("MWTabCommunication",["MWTabCommunicationChannel","Promise","clearTimeout","pageID","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b){var c=this;this.$2=null;this.$5=function(a){a=c.$4.getMessage(a);a!=null&&a.a==="sb"&&a.t!==c.tabID()&&a.r===c.tabID()&&a.k!=null&&(c.$2&&c.$2(a.k),c.$4.stopWaitingForReply(c.$5),c.$2=null)};this.$1=a;this.$3=b!=null?b:500;this.$4=d("MWTabCommunicationChannel").getChannel(a)}var e=a.prototype;e.tabID=function(){return c("pageID")};e.$6=function(){var a={a:"r",t:this.tabID()};this.$4.sendMessage(a)};e.listenToRequest=function(a){return this.listenToRequestAsync(function(){return(h||(h=b("Promise"))).resolve(a())})};e.listenToRequestAsync=function(a){var b=this,d=function(d){d.a==="r"&&d.t!==b.tabID()&&c("promiseDone")(a().then(function(a){a={a:"sb",k:a,r:d.t,t:b.tabID()};b.$4.sendMessage(a)}))};return this.$4.onRequestReceived(d)};e.$7=function(){var a=this;return new(h||(h=b("Promise")))(function(b){a.$2=b,a.$4.waitForReply(a.$5),a.$6()})};e.request=function(a,d){var e=this,f,g=function(){f!=null&&c("clearTimeout")(f)};return(h||(h=b("Promise"))).race([this.$7().then(function(b){e.$4.stopWaitingForReply(e.$5);return a(b)}),new h(function(a){f=c("setTimeout")(function(){a(d()),e.$4.stopWaitingForReply(e.$5)},e.$3)})]).then(function(a){g();return a})};return a}();g.MWTabCommunication=a}),98);
__d("MAWVaultMaterialsStorage",["BrowserLockManager","FBLogger","MAWVaultMaterials","MWTabCommunication","Promise","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_vaulting_materials_lock";e="mw_exchange_vm";var j=new(d("MWTabCommunication").MWTabCommunication)(e);function k(){var a=function(a){return d("MAWVaultMaterials").fromStringToMaterials(a)};return j.request(a,function(){}).then(function(a){return d("MAWVaultMaterials").initializeVaultMaterials(a)})}function l(){if(c("BrowserLockManager")!=null)return new(h||(h=b("Promise")))(function(a,e){c("BrowserLockManager").request(i,{ifAvailable:!0},function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(e==null){c("promiseDone")(c("BrowserLockManager").request(i,function(){return new(h||(h=b("Promise")))(function(){})}));e=(yield k());a(e);return}a(d("MAWVaultMaterials").initializeVaultMaterials());return new(h||(h=b("Promise")))(function(){})});return function(a){return e.apply(this,arguments)}}())["catch"](function(a){e(a)})});else{c("FBLogger")("mpf_web_foundations").info("navigator.locks is not available, using fallback");return k()}}function a(){if(d("MAWVaultMaterials").hasVaultBeenSetup())return(h||(h=b("Promise"))).resolve(d("MAWVaultMaterials").getVaultMaterials());var a=l();j.listenToRequestAsync(function(){return a.then(function(){return d("MAWVaultMaterials").materialsToString()})});return a}g.setupVaultMaterials=a}),98);
__d("MAWCommonBackendSetup",["EARInitType","MAWAppMutex","MAWEARKeychainDecryptionError","MAWEncyptionIndexedDbV2","MAWInit","MAWIssueNewUserVisibleErrors","MAWLocalStorage","MAWVaultMaterialsStorage","MWSetupDBEncryption","Promise","asyncToGeneratorRuntime","gkx","promiseDone","requireDeferred","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MAWEncryptionErrorHandler").__setRef("MAWCommonBackendSetup"),j=c("requireDeferred")("MAWMainThreadLogger").__setRef("MAWCommonBackendSetup");function a(a,b,c,d,e,f){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,k,l){yield e.start();e.logPoint("setup_armadillo_backend");j.onReadyImmediately(function(a){a=a.setupMainWaLogger;return a()});var m=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();yield e.measurePerformance("detection_support",function(){if(m)return(h||(h=b("Promise"))).resolve();var a=d("MAWLocalStorage").isLocalStorageAvailable();if(!a)throw new(d("MAWInit").MAWInitError)("localstorage_not_supported");return(h||(h=b("Promise"))).resolve()});var n=e.measurePerformance("setup_vault_materials",function(){return d("MAWVaultMaterialsStorage").setupVaultMaterials()}),o=(yield e.measurePerformance("acquire_mutex",function(){try{d("shouldUseMAWSharedWorker").logExposureForMAWSharedWorker();var a=d("MAWAppMutex").use().init();if(m){c("promiseDone")(a);return(h||(h=b("Promise"))).resolve(!0)}return a}catch(a){if(m)return(h||(h=b("Promise"))).resolve(!0);throw a}})),p=(yield e.measurePerformance("ear_db_setup",b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("MWSetupDBEncryption").setPerformanceMeasurementTool(d("MAWInit").MAWInit.measurePerformance);var a=(yield d("MWSetupDBEncryption").init(c("EARInitType").MAW_INIT));d("MAWEncyptionIndexedDbV2").maybeSetEncryptionDbOnVersionChange(function(){var a;(a=d("MAWIssueNewUserVisibleErrors")).issueError(a.MAWLegacyUserErrorMsgBody,a.MAWLegacyUserErrorMsgTitle,a.MAWUserVisibleErrorPresentationType.BANNER)});return a})));if(!p.success){if(c("gkx")("218")&&p.payload instanceof c("MAWEARKeychainDecryptionError")){var q=p.payload;c("promiseDone")(i.load().then(function(a){return a.crashUiAskUserToReload(q.message)}))}e.logPoint("keychain_setup_failure");throw new(d("MAWInit").MAWInitError)("keychain_setup_failure",p.payload)}if(!o){e.logPoint("maw_appmutex_no_permission");throw new(d("MAWInit").MAWInitError)("maw_appmutex_no_permission")}var r=(yield n);yield e.measurePerformance("setup_worker",function(){return a(r,f,g,k,l)})});return k.apply(this,arguments)}g.setupArmadilloBackend=a}),98);
__d("EncryptedBackupsDYITypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({NotStarted:0,InProgress:1,Completed:2,Failed:3});f.EncryptedBackupsDYIState=a}),66);
__d("MAWStateContext.react",["EncryptedBackupsDYITypes","MAWSharedProtocolQueueConst","err","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=i.createContext,k=i.useCallback,l=i.useContext,m=i.useEffect,n=i.useRef,o=i.useState;i={ebDYIState:d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.NotStarted,eBInitialThreadsRestoreStatus:{},ephemeralSettings:{},messageLatencies:{},offlineQueueCount:0,offlineQueueProgressDownloaded:0,offlineQueueProgressProcessed:0,offlineQueueSyncState:d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Initializing,offlineQueueThreadStatus:{},unArchivedSelfDeviceChangeAlerts:0};function a(){var a=l(q)(),b=a.dispatch;return k(function(a,c){c===void 0&&(c=Date.now()),b({optimisticMsgId:a,tag:"OptimisticSendMessage",timestamp:c})},[b])}function b(){var a=l(r),b=a.dispatch;return k(function(){b({tag:"ClearEphemeralSettings"})},[b])}function e(){var a=l(r),b=a.dispatch;return k(function(a){b({tag:"eBInitialThreadsRestoreStatus",value:a})},[b])}var p={dispatch:function(a){throw c("err")("MAW Dispatch not implemented")},state:i,subscriptions:new Set()},q=j(function(){return p}),r=j(p);function f(a){var b=l(q)(),c=b.state,d=b.subscriptions;b=o(function(){return a(c)});var e=b[0],f=b[1],g=n(e);m(function(){var b=function(b){b=a(b);b!==g.current&&(g.current=b,f(b))};d.add(b);return function(){d["delete"](b)}},[d,a]);return e}g.initialState=i;g.useDispatchOptimisticSendMessage=a;g.useDispatchClearEphemeralSettings=b;g.useDispatchEBInitialThreadsRestoreStatus=e;g.MAWNonRerenderingStateContext=q;g.MAWStateContext=r;g.useMAWSelector=f}),98);
__d("WADynamicRouterV2",["Promise","WAErr","WALogger","WAMapWithDefault"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose([""," is not defined for ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Bridge handler: ",""]);j=function(){return a};return a}a=function(){function a(){var a=this;this.$1=new Map();this.$3=new(d("WAMapWithDefault").MapWithDefault)(function(){return new Set()});this.fireAndForget=function(b,c,d,e){e===void 0&&(e=!1),a.$2==null?void 0:a.$2(b,c,d),a.$3.get(b).add({route:c,arg:d,resolver:null,silentLog:e}),a.$4(b)};this.sendAndReceive=function(c,d,e,f){f===void 0&&(f=!1);a.$2==null?void 0:a.$2(c,d,e);return new(h||(h=b("Promise")))(function(b){a.$2==null?void 0:a.$2(c,d,e),a.$3.get(c).add({route:d,arg:e,resolver:function(a){b(a)},silentLog:f}),a.$4(c)})}}var e=a.prototype;e.hasHandlerForNamespace=function(a){return this.$1.has(a)};e.getHandledNamespaces=function(){return Array.from(this.$1.keys())};e.setOnRouteCalled=function(a){this.$2=a};e.setNamespaceHandler=function(a,b){var c=this.$1,d=c.get(a);if(d===b)return;c.set(a,b);d==null&&this.$4(a)};e.$5=function(a,c){var e=a.route,f=a.arg,g=a.resolver;a=a.silentLog;try{c(e,f,g,a)}catch(a){g==null?void 0:g((h||(h=b("Promise"))).reject(a)),d("WALogger").ERROR(j(),a)}};e.$4=function(a){var b=this,c=this.$3.get(a),d=this.$1.get(a);if(d==null)return;c.forEach(function(a){b.$5(a,d),c["delete"](a)})};e.setHandlers=function(a,b){function e(e,f,g){if(b[e]==null){d("WALogger").ERROR(i(),e,a);throw c("WAErr")(e+" is not defined for "+a)}e=b[e](f);g&&g(e)}this.setNamespaceHandler(a,e)};return a}();g.DynamicRouter=a}),98);
__d("XPlatRelayEnvironment",["CometRelayEnvironment","err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){throw c("err")("RelayEnvironment is already set")}function b(){return c("CometRelayEnvironment")}g.setRelayEnvironment=a;g.getRelayEnvironment=b}),98);
__d("useMWEncryptedBackupsProcessBackupIdsDeferred",["promiseDone","react","requireDeferred","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=c("requireDeferred")("MWEncryptedBackupsProcessBackupIds").__setRef("useMWEncryptedBackupsProcessBackupIdsDeferred");function a(a){var b=c("useAsyncReStore")();i(function(){var d,e=!1;j.onReadyImmediately(function(f){c("promiseDone")(b,function(b){e||(d=f.subscribeToEncryptedBackupsRow(b,a))})});return function(){e=!0,d==null?void 0:d()}},[b,a])}g["default"]=a}),98);
__d("MAWCommonSetup",["InteractionTracingMetrics","MAWBridge","MAWBridgeFireAndForget","MAWCommonBackendSetup","MAWCryptoAuthToken","MAWEncryptedBackupsStateManager","MAWInit","MAWIssueNewUserVisibleErrors","MAWJobDefinitions","MAWMIC","MAWMICSafe","MAWRestoreRewriteUtils","MAWSetupUtils","MAWStateContext.react","MAWUIJob","MAWWaitForBackendSetup","MWChatInteraction","Promise","WABridge","WADynamicRouter","WADynamicRouterV2","WAJobOrchestratorTypes","XPlatRelayEnvironment","asyncToGeneratorRuntime","getErrorSafe","gkx","performance","promiseDone","react","requireDeferred","useMWEncryptedBackupsProcessBackupIdsDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;f=j||d("react");var k=f.useContext,l=f.useEffect,m=c("requireDeferred")("FBLogger").__setRef("MAWCommonSetup"),n=!1,o=null,p=null,q=function(){return(i||(i=c("performance"))).now()},r=function(a){d("MAWEncryptedBackupsStateManager").setEncryptedBackupsState(a),d("MAWBridgeFireAndForget").fireAndForget("backend","setEncryptedBackupsState",{newState:a})};function a(a){var b=k(d("MAWStateContext.react").MAWStateContext),e=b.dispatch,f=d("MAWSetupUtils").useIsIDBOperational();l(function(){f&&c("promiseDone")(z({dispatch:e,fromReact:!0,platformSetupUtils:a}))},[a,e,f]);c("useMWEncryptedBackupsProcessBackupIdsDeferred")(r)}var s,t=new(h||(h=b("Promise")))(function(a){s=function(c){a(c),c.onmessage=function(a){return u.onmessage==null?void 0:u.onmessage(a)},s=function(a){a.onmessage=function(a){return u.onmessage==null?void 0:u.onmessage(a)},t=(h||(h=b("Promise"))).resolve(a)}}}),u={onmessage:null,postMessage:function(a){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield t);b.postMessage(a)})())}},v=[],w=[];function x(){var a=o;if(a!=null)while(w.length>0)a(w.shift());a=p;if(a!=null)while(v.length>0){var b=v.shift();switch(b){case"logout":a.logout();break;case"reregisterDevice":a.reregisterDevice();break;default:b}}}function e(a){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield d("MAWSetupUtils").isIDBOperational(!0));if(!b)return;b=function(a){x(),o!=null?o(a):w.push(a)};a=babelHelpers["extends"]({},a,{logout:function(){v.push("logout")},reregisterDevice:function(){v.push("reregisterDevice")},rotateCryptoAuthToken:function(){return d("MAWCryptoAuthToken").fetchFreshCAT(d("XPlatRelayEnvironment").getRelayEnvironment())}});return z({dispatch:b,fromReact:!1,platformSetupUtils:a})});return y.apply(this,arguments)}function z(a){return A.apply(this,arguments)}function A(){A=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.dispatch,e=a.fromReact;a=a.platformSetupUtils;e&&(o=b,p=a,x());if(n)return;n=!0;yield d("MAWMIC").startMAWMICFlow();d("MAWMIC").addStringAnnotation("entrypoint",e?"react":"preload");d("MAWInit").MAWInit.addStringAnnotation("entrypoint",e?"react":"preload",{allowEarlyAnnotations:!0});c("gkx")("2186")?d("WABridge").makeWABridge(new(d("WADynamicRouterV2").DynamicRouter)()):d("WABridge").makeWABridge(new(d("WADynamicRouter").DynamicRouter)());try{d("MAWIssueNewUserVisibleErrors").deleteAllErrors();e=a.getOrSetupWorker;var f=a.logout,g=a.reregisterDevice,h=a.rotateCryptoAuthToken,i=a.setupBridge;yield d("MAWCommonBackendSetup").setupArmadilloBackend(e,d("MAWInit").MAWInit,function(a){var d={close:function(){},onmessage:null,postMessage:function(b){return a.postMessage(b)}},e={close:function(){return a.close()},onmessage:null,postMessage:function(b){return a.postMessage(b)}};s==null?void 0:s(d);a.onmessage=function(a){d.onmessage==null?void 0:d.onmessage(a),e.onmessage==null?void 0:e.onmessage(a)};c("promiseDone")(i({dispatch:b,logout:f,reregisterDevice:g,rotateCryptoAuthToken:h,worker:e}))},function(){b({tag:"InitOfflineQueueSyncComplete",value:void 0}),d("MAWMIC").endSuccess(!0)},function(){b({tag:"InitOfflineQueueSyncComplete",value:void 0})},"mawInit");d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.handleFutureproofMsg({priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.LOW}));d("MAWInit").MAWInit.addIntAnnotation("endTimePageRelative",q());d("MAWInit").MAWInit.endSuccess();!d("MAWRestoreRewriteUtils").isOneDBEnabled()&&!c("gkx")("23906")&&c("promiseDone")(d("MAWBridge").getBridge().sendAndReceive("backend","getSecureThreadTotalCount"),function(a){d("MAWMICSafe").addIntAnnotation("totalSecureThreadCount",a);var b=d("MWChatInteraction").get(d("MWChatInteraction").MW_AUTO_CHAT_TAB_OPEN);b!=null&&c("InteractionTracingMetrics").addAnnotationInt(b,"totalSecureThreadCount",a)});d("MAWWaitForBackendSetup").resolveBackendSetup()}catch(b){var j;if(j instanceof d("MAWInit").MAWInitError){j=c("getErrorSafe")((a=j.error)!=null?a:b);j.message=(e=j.message)!=null?e:"Error: MAWInitError without message."}else{j=c("getErrorSafe")(b);j.message=((e=(a=j)==null?void 0:a.name)!=null?e:"Error:")+": "+((e=(a=j)==null?void 0:a.message)!=null?e:"Unknown")}a=j.message==="maw_appmutex_no_permission"&&document.visibilityState!=="visible";a?d("MAWInit").MAWInit.cancel(j.message,j):(d("MAWWaitForBackendSetup").rejectBackendSetup(j),d("MAWInit").MAWInit.fail(j.message,j));d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWGeneralErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWGeneralErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER,j.message);void m.load().then(function(a){j&&a("messenger_e2ee_web").catching(j).mustfix("MAW backend setup failed -- %s",j.message)});throw j}});return A.apply(this,arguments)}g.useArmadillo=a;g.workerProxy=u;g.setupArmadilloWithoutReact=e}),98);
__d("WebWorkerV2Resource",["TrustedTypesWebWorkerScriptURLPolicy","WebWorkerV2DynamicData","XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder","forEachObject","getAsyncParamsFromCurrentPageURI","getWorkerInitScriptSPINParams","gkx","nullthrows","promiseDone","supportsModuleWorker"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=(b=b)!=null?b:a.name;var e=c("supportsModuleWorker")(!1)?"module":"classic",f=c("getWorkerInitScriptSPINParams")();c("forEachObject")(c("getAsyncParamsFromCurrentPageURI")(),function(a,b){f.set(b,a)});var g=c("nullthrows")(c("XCometFBMultiSiteWebWorkerV2InitScriptControllerRouteBuilder").buildUri({worker_type:c("supportsModuleWorker")(!1)?"MODULE":"CLASSIC"}).addQueryParams(f)).toString(),h=new Worker(c("TrustedTypesWebWorkerScriptURLPolicy").createScriptURL(g),{name:b,type:e});c("promiseDone")(d("WebWorkerV2DynamicData").readDynamicDataForWorker(a).then(function(a){h.postMessage({type:"ww-hrp-init",hrp:a.hrp,js_env:a.js_env,is_dev:!1,tiered:c("gkx")("2792")})}));return h}g.createDedicatedV2WebWorker=a}),98);
__d("MAWWebWorkerSingleton",["FBLogger","MAWCommonSetup","MAWInit","MAWMICSafe","MAWSetupBridge","MAWSetupWorker","MAWWebWorkerInstance","Promise","SharedWorkerBundleResource","WAResolvable","WebWorkerV2Resource","cr:6600","err","gkx","promiseDone","setTimeout","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MAWWebWorkerInstance").destroyWorkerInstance,j=new(d("WAResolvable").Resolvable)();function k(a,b){c("FBLogger")("messenger_e2ee_web").mustfix("[MAWWebWorkerSingletonAsync Script Import Error: "+a+"]: %s:%s:%s:%s",JSON.stringify(b==null?void 0:b.message),b==null?void 0:b.lineno,b==null?void 0:b.colno,b==null?void 0:b.filename),d("MAWInit").MAWInit.fail("import_scripts_failure")}function l(a,b){var d;d=(d=b==null?void 0:b.message)!=null?d:"";if(d.indexOf("Failed to execute 'importScripts'")>=0){k(a,b);return}c("FBLogger")("messenger_e2ee_web").mustfix("[MAWWebWorkerSingletonAsync: "+a+"]: %s:%s:%s:%s",JSON.stringify(b==null?void 0:b.message),b==null?void 0:b.lineno,b==null?void 0:b.colno,b==null?void 0:b.filename)}function m(a){var b=a.data.annotations;if(b!=null){var e={allowEarlyAnnotations:!0};Object.keys(b).forEach(function(a){var c;c=(c=b[a])!=null?c:{};Object.entries(c).forEach(function(b){var c=b[0];b=b[1];c="sharedWorkerInit"+c.charAt(0).toUpperCase()+c.substring(1);a==="int"&&typeof b==="number"?d("MAWInit").MAWInit.addIntAnnotation(c,b,e):a==="string"&&typeof b==="string"?d("MAWInit").MAWInit.addStringAnnotation(c,b,e):a==="bool"&&typeof b==="boolean"&&d("MAWInit").MAWInit.addBoolAnnotation(c,b,e)})})}var f={allowEarlyLogPoints:!0};switch(a.type){case"start":d("MAWInit").MAWInit.logPoint("shared_worker_init_start",f);break;case"end":var g;g=(g=a.data)==null?void 0:g.errorName;g!=null?d("MAWInit").MAWInit.fail("shared_worker_init_failure",c("err")(g)):d("MAWInit").MAWInit.logPoint("shared_worker_init_end",f);break;case"point":g="shared_worker_init_"+a.data.event;d("MAWInit").MAWInit.logPoint(g,f);break}}function n(a,e){e===void 0&&(e=0);var f=d("MAWWebWorkerInstance").getWorkerInstancePromise();if(!f){d("MAWMICSafe").markEvent("maw_worker_create_start");var g=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();d("shouldUseMAWSharedWorker").logExposureForMAWSharedWorker();o();if(g){g=d("SharedWorkerBundleResource").createPushSafeSharedWebWorkerV2Async;f=g(b("cr:6600"),function(){c("promiseDone")(j.promise.then(function(){return i()}))},{onQPLEvent:m,reason:a}).then(function(a){a.addEventListener("error",function(a){return l("Shared Worker",a)});return a.port},function(a){if(a instanceof d("SharedWorkerBundleResource").SelfTerminationError&&e<2){d("MAWWebWorkerInstance").destroyWorkerInstance();return new(h||(h=b("Promise")))(function(a,b){c("setTimeout")(function(){c("promiseDone")(n("selfTerminatedRestart",e+1),a,b)},e===0?200:500)})}throw a})}else{var k=c("gkx")("24003");f=(h||(h=b("Promise"))).resolve(d("WebWorkerV2Resource").createDedicatedV2WebWorker(b("cr:6600"))).then(function(a){a.onerror=function(a){return l("Dedicated Worker",a)};if(k){var b=function b(d){d=d==null?void 0:d.data;if(typeof d==="object")if((d==null?void 0:d.type)==="importScripts_error"){a.removeEventListener("message",b);var e=c("FBLogger")("messenger_e2ee_web");if((d==null?void 0:d.stack)!=null){var f;e=e.addMetadata("FBLOGGER","ERROR_STACK",(f=typeof (d==null?void 0:d.stack)==="string"?d==null?void 0:d.stack:JSON.stringify(d==null?void 0:d.stack))!=null?f:"no_stack")}f=(f=d==null?void 0:d.perfEntry)!=null?f:{};var g=f.duration,h=f.encodedBodySize,i=f.responseStatus;f=f.transferSize;e.mustfix("[MAWWebWorkerSingletonAsync Script Import Error Details]: %s:%s:%s || errCode:%s || respStatus:%s || encBodySize:%s || duration:%s || transferSize:%s",(d==null?void 0:d.source)!=null&&JSON.stringify(d==null?void 0:d.source)||"no_source",(d==null?void 0:d.error_name)!=null&&JSON.stringify(d==null?void 0:d.error_name)||"no_name",(d==null?void 0:d.error_msg)!=null&&JSON.stringify(d==null?void 0:d.error_msg)||"no_msg",(d==null?void 0:d.error_code)!=null&&JSON.stringify(d==null?void 0:d.error_code)||"no_error_code",(e=JSON.stringify(i))!=null?e:"none",(i=JSON.stringify(h))!=null?i:"none",(e=JSON.stringify(g))!=null?e:"none",(h=JSON.stringify(f))!=null?h:"none")}else(d==null?void 0:d.type)==="importScripts_success"&&a.removeEventListener("message",b)};a.addEventListener("message",b)}return a})}f=f.then(function(a){d("MAWMICSafe").markEvent("maw_worker_create_end");return a})}d("MAWWebWorkerInstance").setWorkerInstancePromise(f);return f}function a(){var a;a={doesWorkerExist:d("MAWWebWorkerInstance").doesWorkerExist,getOrSetupWorker:(a=d("MAWSetupWorker")).getOrSetupWorker,isSharedWorkerActive:a.isSharedWorkerActive,setupBridge:d("MAWSetupBridge").setupBridge,terminateWorker:a.terminateWorker,terminateWorkerPermanently:a.terminateWorkerPermanently};return d("MAWCommonSetup").setupArmadilloWithoutReact(a)}function e(a){i=a,j.resolve()}function o(){}g.createWorkerIfNone=n;g.setupArmadilloForComet=a;g.setOnCloseForWorkerInstance=e}),98);
__d("MAWWorkerBadStateRecovery",["HiddenTabDataUtils","QPLUserFlow","performanceNow","qpl","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("qpl")._(1056840252,"808"),j=0;function a(){var a=j++,b;function e(e,f){var g=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();b=(h||(h=c("performanceNow")))();var j=d("HiddenTabDataUtils").getHiddenTabDataForTimeInterval(0,b);c("QPLUserFlow").start(i,{annotations:{bool:{isSharedWorker:g,wasHiddenBefore:j.wasHidden(),wasHiddenOnStart:j.isHidden()},"int":{lastTimeHiddenBefore:j.lastTimeHidden(),successfulHeartbeatsBefore:f,totalHiddenTimeBefore:j.totalHiddenTime()},string:{trigger:"heartbeat_timeout",workerInitPageID:e}},instanceKey:a});g||c("QPLUserFlow").endFailure(i,"recovery_not_supported",{instanceKey:a})}function f(d){if(b==null)return;var e=p(b);c("QPLUserFlow").addPoint(i,"shared_worker_restart_"+d,{instanceKey:a});c("QPLUserFlow").addAnnotations(i,e,{instanceKey:a})}function g(){f("start")}function k(){f("success")}function l(d){if(b==null)return;var e=p(b);f("fail");c("QPLUserFlow").addAnnotations(i,babelHelpers["extends"]({},e,{string:{sharedWorkerRestartFailureReason:d}}),{instanceKey:a})}function m(d){if(b==null)return;var e=p(b);c("QPLUserFlow").addPoint(i,"heartbeat_still_fails",{instanceKey:a});c("QPLUserFlow").addAnnotations(i,babelHelpers["extends"]({},e,{string:{recentHeartbeatFailureReason:d}}),{instanceKey:a})}function n(d){if(b==null)return;var e=p(b);c("QPLUserFlow").endFailure(i,d,{annotations:e,instanceKey:a})}function o(){if(b==null)return;var d=p(b);c("QPLUserFlow").endSuccess(i,{annotations:d,instanceKey:a})}function p(a){a=d("HiddenTabDataUtils").getHiddenTabDataForTimeInterval(a,(h||(h=c("performanceNow")))());return{bool:{wasHiddenDuringRecovery:a.wasHidden(),wasHiddenOnRecoveryEnd:a.isHidden()},"int":{lastTimeHiddenDuringRecovery:a.lastTimeHidden(),totalHiddenTimeDuringRecovery:a.totalHiddenTime()}}}return{endFailure:n,endFailureSharedWorkerRestart:l,endSuccess:o,endSuccessSharedWorkerRestart:k,postRestartHeartbeatsFailed:m,sharedWorkerRestartAddPoint:f,start:e,startSharedWorkerRestart:g}}g.buildWorkerBadStateRecoveryQPLLogger=a}),98);
__d("MAWWorkerWatchdog",["CurrentUser","MAWBridgeLoggingUtils","MAWBridgeSendAndReceive","MAWIssueNewUserVisibleErrors","MAWSharedWorkerReboot","MAWWaitForBackendSetup","MAWWorkerBadStateRecovery","Promise","clearInterval","err","gkx","justknobx","promiseDone","setInterval","setTimeout","shouldUseMAWSharedWorker","vc-tracker"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("gkx")("24001"),j=c("justknobx")._("1008"),k=c("justknobx")._("1369"),l=k/2,m=!1,n=!1,o=function(){},p=0;function a(){return n}function q(){if(!n||!i)return;o();n=!1}function r(a,b){m=!1;return d("MAWSharedWorkerReboot").rebootSharedWorker(a.vaultMaterials,a.onWorkerReconnect,a.onConnectToExistingWorker,a.onTerminateWorker,b)}function s(a){var b;(b=d("MAWIssueNewUserVisibleErrors")).issueError(b.MAWGeneralErrorMsgBody,b.MAWGeneralErrorMsgTitle,b.MAWUserVisibleErrorPresentationType.BANNER);return c("err")("Cannot recover the worker: "+a)}function t(){return(h||(h=b("Promise"))).race([d("MAWBridgeSendAndReceive").sendAndReceive("backend",d("MAWBridgeLoggingUtils").HEARTBEAT_ROUTE),new h(function(a,b){c("setTimeout")(function(){b(c("err")("Armadillo web worker heartbeat timed out."))},l)})]).then(function(a){return a===!0},function(a){return!1})}function u(){var a=null;return new(h||(h=b("Promise")))(function(b,e){var f=c("setInterval")(function(){c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend",d("MAWBridgeLoggingUtils").HEARTBEAT_ROUTE).then(function(d){d?(c("clearInterval")(f),b()):a="Wrong heartbeat result: "+d.toString()},function(b){a="Heartbeat failure: "+b.message}))},k);c("setTimeout")(function(){var b;c("clearInterval")(f);e(c("err")((b=a)!=null?b:"Did not get heartbeat response on time"))},j)})}function v(a,e){return new(h||(h=b("Promise")))(function(b,f){var g=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();d("shouldUseMAWSharedWorker").logExposureForMAWSharedWorker();g||f(s("Worker recovery is supported for shared worker only."));c("CurrentUser").isLoggedInNow()||f(s("User is not logged in, aborting recovery"));return r(a,e).then(function(){return u()},function(a){e.endFailureSharedWorkerRestart(a.message),f(s(a.message))}).then(function(){return b()},function(a){e.postRestartHeartbeatsFailed(a.message),f(s(a.message))})})}function w(){var a=c("vc-tracker").performanceNow();return c("vc-tracker").VisibilityState.wasHidden(a-1,a)}function e(a){if(n||!i)return;var b=c("setInterval")(function(){if(!m||w())return;c("promiseDone")(t(),function(b){if(!b){d("MAWBridgeLoggingUtils").logRecentBridgeEvents();var e=d("MAWWorkerBadStateRecovery").buildWorkerBadStateRecoveryQPLLogger();e.start(a.initPageID,p);c("promiseDone")(v(a,e),function(){e.endSuccess(),m=!0},function(a){e.endFailure(a.message),q()})}else p++})},k);d("MAWWaitForBackendSetup").runAfterBackendSetup(function(){m=!0},d("MAWBridgeLoggingUtils").HEARTBEAT_ROUTE);o=function(){a.onTerminateWorker(),c("clearInterval")(b)};n=!0}g.isWatchdogRunning=a;g.terminateWatchdog=q;g.startWatchdog=e}),98);
__d("MAWGetDBVersionForTest",["gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(){if(!c("justknobx")._("1495"))return;var a=new URL(document.location.href);a=a.searchParams.get("db_version");if(a==null)return;if(a==="current"||a==="latest")return a;a=parseInt(a,10);if(Number.isInteger(a))return Number(a)}function b(){if(!c("gkx")("1159"))return;var a=new URL(document.location.href);a=a.searchParams.get("db_migration_state");if(a!=null&&(a==="dexie"||a==="restore"))return a}g.getDbVersionForTest=a;g.getDbMigrationState=b}),98);
__d("MAWCommonSetupWorker",["Deferred","MAWCurrentUser","MAWGetDBVersionForTest","MAWInit","MAWSetupWorker","MessengerWebInitData","WADevToolMessageChannel","WALogger","WorkerClient","WorkerMessagePort","err","gkx","pageID"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Terminating worker and rebooting..."]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["worker receive invalid message: ",""]);i=function(){return a};return a}b=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var e;e=a.call(this,b,c)||this;e.onmessage=null;e.$BridgeAdapter$p_1=b;d("WorkerClient").init(babelHelpers.assertThisInitialized(e));e.onUnhandledMessage.add(function(a){e.onmessage&&e.onmessage({data:a})});return e}var c=b.prototype;c.getBridgePort=function(){return this};return b}(d("WorkerMessagePort").WorkerSyncedMessagePort);function a(a,b,e,f){var g=new(c("Deferred"))();a.addMessageListener("worker-setup",function(b){if(b.setupHash!==c("pageID"))return;if(b==null||b.type!=="worker-setup"){d("WALogger").WARN(i(),b);return}if(b.status==="success")g.resolve(a.getBridgePort());else if(b.status==="failure"){var j;g.reject(c("err")((j=b.msg)!=null?j:"Encountered an error setting up the armadillo web worker"))}else if(b.status==="already-setup")if(b.action==="no-action"){g.resolve(a.getBridgePort());f();return}else if(b.action==="reboot-required"&&b.setupHash===c("pageID")){d("WALogger").DEV(h());d("MAWSetupWorker").terminateWorker("reboot required");d("MAWInit").MAWInit.addBoolAnnotation("workerRebootRequired",!0);return e().then(function(a){return g.resolve(a)})["catch"](function(a){return g.reject(a)})}else throw c("err")("received invalid action for worker-setup:already-setup: "+b.action);else throw c("err")("received invalid message for worker")});a.addMessageListener("worker-setup-ack",function(a){if(a.setupHash!==c("pageID"))return;d("MAWInit").MAWInit.logPoint("maw_init_worker_ack")});if(c("gkx")("3282")){var j=d("WADevToolMessageChannel").createNewChannel();a.postMessage({content:{devToolMessageChannelPort2:j.port2,fbId:d("MAWCurrentUser").getID(),sessionId:c("MessengerWebInitData").sessionId,testDbMigrationState:d("MAWGetDBVersionForTest").getDbMigrationState(),testDbVersion:d("MAWGetDBVersionForTest").getDbVersionForTest(),vaultMaterials:b},setupHash:c("pageID"),type:"worker-setup"},[j.port2])}else a.postMessage({content:{fbId:d("MAWCurrentUser").getID(),sessionId:c("MessengerWebInitData").sessionId,testDbMigrationState:d("MAWGetDBVersionForTest").getDbMigrationState(),testDbVersion:d("MAWGetDBVersionForTest").getDbVersionForTest(),vaultMaterials:b},setupHash:c("pageID"),type:"worker-setup"});return g.getPromise()}g.BridgeAdapter=b;g.initWorker=a}),98);
__d("MAWEBFrontendQPLLogger",["MWEBODSCategory","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","ODS","QPLUserFlow","Random","gkx","hashString","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=c("Random").uint32();c("QPLUserFlow").start(c("qpl")._(521478596,"1329"),{instanceKey:a});return a}function b(a){if(a==null)return;c("QPLUserFlow").addPoint(c("qpl")._(521478596,"1329"),"processing_threads_from_occamadillo",{instanceKey:a})}function e(a,b){if(a==null)return;b===!0?c("QPLUserFlow").addPoint(c("qpl")._(521478596,"1329"),"backup_restore_completed_success",{instanceKey:a}):c("QPLUserFlow").addPoint(c("qpl")._(521478596,"1329"),"backup_restore_completed_failed",{instanceKey:a})}function f(a,b,d){if(a==null)return;if(b===!0)c("QPLUserFlow").endSuccess(c("qpl")._(521478596,"1329"),{instanceKey:a});else{d=(b=d)!=null?b:"dyi_e2e_failed_unspecifed_reason";c("QPLUserFlow").endFailure(c("qpl")._(521478596,"1329"),d,{instanceKey:a})}}function i(a,b,d){if(c("gkx")("23946")!==!0||a==null)return;a=c("hashString")(a);c("QPLUserFlow").addPoint(c("qpl")._(521485625,"1876"),b,{data:d,instanceKey:a})}function j(a,b,d){if(c("gkx")("23946")!==!0||a==null)return;a=c("hashString")(a);c("QPLUserFlow").addPoint(c("qpl")._(521485625,"1876"),b,{data:d,instanceKey:a});c("QPLUserFlow").endCancel(c("qpl")._(521485625,"1876"),{annotations:d,instanceKey:a})}function k(a,b,d){if(c("gkx")("23946")!==!0||a==null)return;a=c("hashString")(a);if(b){c("QPLUserFlow").endSuccess(c("qpl")._(521485625,"1876"),{instanceKey:a});return}c("QPLUserFlow").endFailure(c("qpl")._(521485625,"1876"),(b=d)!=null?b:"upload_message_backup_failed",{instanceKey:a})}function l(a,b,d){c("QPLUserFlow").addPoint(c("qpl")._(521480745,"830"),b,{data:d,instanceKey:a})}function m(a,b){c("QPLUserFlow").addAnnotations(c("qpl")._(521480745,"830"),b,{instanceKey:a})}function n(a,b){l(a,"upload_tracking_completed",b),c("QPLUserFlow").endSuccess(c("qpl")._(521480745,"830"),{instanceKey:a}),(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").SUCCESS)}function o(a,b,e){c("QPLUserFlow").endFailure(c("qpl")._(521480745,"830"),b,{annotations:e,instanceKey:a}),(h||(h=d("ODS"))).bumpEntityKey(c("MWEBODSCategory"),c("MWEBODSEntityName.enum").MAW_EB_UPLOAD_TRACKING,c("MWEBODSEntityKey.enum").FAIL)}function p(a,b){l(a,b),n(a)}g.startDyiQplE2EUserFlow=a;g.logDyiE2EProcessThreadsFromOccamadillo=b;g.logDyiE2EDyiBackupRestoreCompleted=e;g.endDyiE2ECompleted=f;g.addPointUploadMessageBackup=i;g.addPointAndEndFlowUploadMessageBackup=j;g.endFlowUploadMessageBackup=k;g.addPointEBUploadTracking=l;g.addAnnotationEBUploadTracking=m;g.endEBUploadTracking=n;g.failEBUploadTracking=o;g.recordPointAndEndFlow=p}),98);
__d("MAWEncryptedBackupUtils",["I64","LSAuthorityLevel","LSDataTraceCheckPoint","LSIntEnum","MAWEBFrontendQPLLogger","MAWTraceUtils","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,c,e,f){d("MAWTraceUtils").recordCheckpointForTrace(a,b,c,e,f)}function a(a,e,f){d("MAWEBFrontendQPLLogger").addPointUploadMessageBackup(e,"get_backup_tenancy");k(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_GET_BACKUP_TENANCY),[],!1);return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.secure_encrypted_backups_client_state)).then(function(a){var e;if(a==null){f!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(f,"get_backup_tenancy_null_client_state_row");return(h||(h=b("Promise"))).resolve()}e=(e=a.backupTenancy)!=null?e:(i||(i=d("I64"))).one;a=a.authorityLevel;if(f!=null){var g;d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(f,"get_backup_tenancy",{"int":{authorityLevel:(i||(i=d("I64"))).to_int32((g=a)!=null?g:(i||(i=d("I64"))).zero),backupTenancy:i.to_int32((g=e)!=null?g:(i||(i=d("I64"))).zero)}})}if(e!=null&&(i||(i=d("I64"))).equal((j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),a))return e})}g.getBackupTenancy=a}),98);
__d("MAWTrackPendingOccamadilloThreads",["Deferred","LSDatabaseSingleton","LSInitSyncCompleteSubscription","LSIntEnum","MAWMIC","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new(c("Deferred"))(),k=new Set(),l=new Set(),m=new Set();function a(a){d("MAWMIC").markEvent("occamadillo_thread_mapping_start"),l.add(a),k.add(a),d("MAWMIC").addIntAnnotation("occamadilloThreadCount",k.size)}function e(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(c("gkx")("2661"))yield j.getPromise();else{var b=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);yield d("LSInitSyncCompleteSubscription").maybeWaitForSyncGroup(b,(i||(i=d("LSIntEnum"))).ofNumber(95))}d("MAWMIC").markEvent("occamadillo_sync_group_complete");l["delete"](a);m.add(a);d("MAWMIC").addIntAnnotation("occamadilloCompleteThreadCount",m.size);o()});return n.apply(this,arguments)}function f(){j.resolve(),o()}function o(){l.size===0&&(d("MAWMIC").addIntAnnotation("occamadilloThreadCount",k.size),d("MAWMIC").markEvent("occamadillo_thread_mapping_end"))}g.addPendingThread=a;g.removePendingThread=e;g.completeSync=f;g.maybeEndOccamadilloThreadMapping=o}),98);
__d("MAWBridgeInitOfflineQueueSyncStartHandler",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessengerLogHistory").__setRef("MAWBridgeInitOfflineQueueSyncStartHandler");function a(){h.onReady(function(a){a=a.getInstance("maw_setup");a.debug("Init Offline Queue Sync Start")})}g.call=a}),98);
__d("MAWEBRestoreStatus",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["IN_PROGRESS","RESTORE_COMPLETED"]);f.EBInitialThreadsRestoreStatus=a}),66);
__d("MAWStateContextProvider.react",["MAWBridgeInitOfflineQueueSyncCompleteHandler","MAWBridgeInitOfflineQueueSyncStartHandler","MAWEBRestoreStatus","MAWSharedProtocolQueueConst","MAWStateContext.react","react","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useMemo,n=b.useReducer,o=function(a,b){return Object.entries(a).filter(function(a){var c,d=a[0];a=a[1];return((c=b[d])==null?void 0:c.chatStatus)!==a.chatStatus||((c=b[d])==null?void 0:c.snippetStatus)!==a.snippetStatus})},p=function(a,b){return a.reduce(function(a,b){var c=b[0];b=b[1];a[c]={chatStatus:b.chatStatus,snippetStatus:b.snippetStatus};return a},b)},q=function(a,b){switch(b.tag){case"OptimisticSendMessage":var c;return babelHelpers["extends"]({},a,{messageLatencies:babelHelpers["extends"]({},a.messageLatencies,(c={},c[b.optimisticMsgId]={sent:b.timestamp},c))});case"NewMsg":case"MsgUpdated":var e,f;c=b.value.ack;var g=b.value.msgId;e=(e=b.value.offlineMsg)==null?void 0:e.msgId;e!=null&&a.messageLatencies[e]!=null&&(a.messageLatencies[g]=a.messageLatencies[e],delete a.messageLatencies[e]);e=a.messageLatencies[g];if((e==null?void 0:e.sent)!=null&&(e==null?void 0:e.acked)!=null)return a;e=(e==null?void 0:e.sent)||Date.now();c=c!==0?Date.now():void 0;return babelHelpers["extends"]({},a,{messageLatencies:babelHelpers["extends"]({},a.messageLatencies,(f={},f[g]={acked:c,sent:e},f))});case"InitOfflineQueueSyncProgress":g=b.value;return babelHelpers["extends"]({},a,{offlineQueueProgressDownloaded:g});case"InitOfflineQueueConsumerSyncProgress":c=b.value;e=c.chatJidStatus;f=c.processed;g=a.offlineQueueThreadStatus||{};c=o(e,g);return babelHelpers["extends"]({},a,{offlineQueueProgressProcessed:f,offlineQueueThreadStatus:c.length===0?g:p(c,babelHelpers["extends"]({},g))});case"InitOfflineQueueSyncStart":d("MAWBridgeInitOfflineQueueSyncStartHandler").call();e=b.value;return babelHelpers["extends"]({},a,{offlineQueueCount:e});case"InitOfflineQueueSyncComplete":d("MAWBridgeInitOfflineQueueSyncCompleteHandler").call();f=b.value;c=a.offlineQueueThreadStatus||{};g=f!=null?o(f,c):null;return babelHelpers["extends"]({},a,{offlineQueueSyncState:d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete,offlineQueueThreadStatus:g==null||g.length===0?c:p(g,babelHelpers["extends"]({},c))});case"UnArchivedSelfDeviceChangeAlerts":e=b.value;return babelHelpers["extends"]({},a,{unArchivedSelfDeviceChangeAlerts:e});case"EphemeralSettingsUpdatedForUI":f=b.value;g=f.chatJid;c=f.ephemeralSettingArgs;e=c.ephemeralExpirationInSec;f=c.ephemeralLastUpdatedOrSetTimestamp;c=g;return babelHelpers["extends"]({},a,{ephemeralSettings:babelHelpers["extends"]({},a.ephemeralSettings,(g={},g[c]={ephemeralExpirationInSec:e,ephemeralLastUpdatedOrSetTimestamp:f},g))});case"ClearEphemeralSettings":return babelHelpers["extends"]({},a,{ephemeralSettings:{}});case"eBInitialThreadsRestoreStatus":c=b.value;e=a.eBInitialThreadsRestoreStatus;var h=c.reduce(function(a,b){b=b.threadId;return babelHelpers["extends"]({},a,(a={},a[b]=d("MAWEBRestoreStatus").EBInitialThreadsRestoreStatus.IN_PROGRESS,a))},{});Object.keys(e).forEach(function(a){if(!h[a]){var b;h=babelHelpers["extends"]({},h,(b={},b[a]=d("MAWEBRestoreStatus").EBInitialThreadsRestoreStatus.RESTORE_COMPLETED,b))}});return babelHelpers["extends"]({},a,{eBInitialThreadsRestoreStatus:h})}return a};function a(a){a=a.children;var b=n(q,d("MAWStateContext.react").initialState),c=b[0],e=b[1],f=m(function(){return new Set()},[]);b=m(function(){return{dispatch:e,state:c,subscriptions:f}},[c,e,f]);var g=r(b),h=k(function(){return g.current},[g]);l(function(){f==null?void 0:f.forEach(function(a){return a(c)})},[c,f]);return j.jsx(d("MAWStateContext.react").MAWStateContext.Provider,{value:b,children:j.jsx(d("MAWStateContext.react").MAWNonRerenderingStateContext.Provider,{value:h,children:a})})}a.displayName=a.name+" [from "+f.id+"]";function r(a){var b=(h||(h=c("useUnsafeRef_DEPRECATED")))(a);b.current=a;return b}g["default"]=a}),98);
__d("IGDBundleResource",["cr:7255","cr:7256"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("cr:7255"))!=null?a:b("cr:7256");d=c;g["default"]=d}),98);
__d("IGDLegacyTLCBundleResource",["IGDLegacyTLCMainWebWorkerResource"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("IGDLegacyTLCMainWebWorkerResource")}),98);
__d("MAWOccamadilloOnMutexChange",["I64","LSDefaultSyncGroups","LSIntEnum","LSSyncGroupsUtils","Promise","WALogger","isOccamadilloResumeSyncEnabled","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[Occamadillo] Resetting sync cursor and network request"]);k=function(){return a};return a}function l(a){var e=d("LSDefaultSyncGroups").e2eeMetadataSyncGroup;if(!c("isOccamadilloResumeSyncEnabled")()&&e!=null)return a.sync_groups.put(babelHelpers["extends"]({},d("LSSyncGroupsUtils").defaultSyncGroup,{groupId:(j||(j=d("LSIntEnum"))).ofNumber(e.groupId)}));else return(h||(h=b("Promise"))).resolve()}function m(a){if(!c("isOccamadilloResumeSyncEnabled")())return a.network_requests.put({epochId:void 0,failureCount:(i||(i=d("I64"))).zero,lastDelayedRequestTimestampMs:void 0,lastSentTimestampMs:i.zero,lastSyncRequestTimestampMs:i.zero,networkTaskIdentifier:void 0,syncDatabaseId:(j||(j=d("LSIntEnum"))).ofNumber(95),taskQueueName:""});else return(h||(h=b("Promise"))).resolve()}function a(a){d("WALogger").LOG(k()),c("promiseDone")(a.runInTransaction(function(a){return(h||(h=b("Promise"))).all([l(a),m(a)])},"readwrite"))}g.onOccamadilloMutexChange=a}),98);
__d("MAWReinit",["ExecutionEnvironment","MAWCurrentUser","MAWEBSwitch","MAWGetStorageQplAnnotations","QPLUserFlow","QuickPerformanceLogger","UserTimingUtils","WALogger","asyncToGeneratorRuntime","gkx","performanceNow","qpl","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to get storage info"]);k=function(){return a};return a}var l=c("qpl")._(25310984,"169");function a(a){var e=a!=null?{instanceKey:a}:void 0,f=!1,g=!1;function m(){if(g)return;g=!0;c("QPLUserFlow").start(l,babelHelpers["extends"]({cancelOnUnload:!0,onFlowTimeout:function(){f=!0},timeoutInMs:(h||(h=c("ExecutionEnvironment"))).canUseDOM?6e4:0},e));void d("MAWGetStorageQplAnnotations").getStorageQplAnnotations().then(function(a){c("QPLUserFlow").addAnnotations(l,a)})["catch"](function(){d("WALogger").ERROR(k())});u()}function n(a){if(!g||f)return;u();c("QPLUserFlow").addPoint(l,a,e)}function o(a,b){var d;if(!g||f)return;c("QPLUserFlow").addAnnotations(l,{bool:(d={},d[a]=b,d)})}function p(a,b){var d;if(!g||f)return;c("QPLUserFlow").addAnnotations(l,{string:(d={},d[a]=b,d)})}function q(a,b){var d;if(!g||f)return;c("QPLUserFlow").addAnnotations(l,{"int":(d={},d[a]=b,d)})}function r(a){u(),f=!0,c("QPLUserFlow").addAnnotations(l,{string:{failReason:a}},e),c("QPLUserFlow").endFailure(l,"maw_init_fail",e),t=!1}function s(a){u(),f=!0,t=!1,c("QPLUserFlow").addAnnotations(l,{string:{dropReason:a}},e),(i||(i=c("QuickPerformanceLogger"))).markerDrop(l)}var t=!1;function u(){if(t)return;t=!0;c("QPLUserFlow").addAnnotations(l,{bool:{armadillo_init_sync_api_improvements:c("gkx")("24025"),is_eb_enabled:c("MAWEBSwitch").isEnabled(),isArmadilloPublicLaunchUser:c("gkx")("23405"),isTlcPublicUser:d("MAWCurrentUser").isTlcPublicUser(),useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()}})}function v(a){u(),f=!0,c("QPLUserFlow").addAnnotations(l,{string:{cancelReason:a}},e),c("QPLUserFlow").endCancel(l,e),t=!1}function w(){u(),f=!0,c("QPLUserFlow").endSuccess(l,e),t=!1}function x(a,b){return y.apply(this,arguments)}function y(){y=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(j||(j=c("performanceNow")))(),f=a+"_start",g=a+"_end";n(f);f=(yield b());n(g);c("gkx")("24026")&&d("UserTimingUtils").measureModern(a,{end:(j||(j=c("performanceNow")))(),start:e});return f});return y.apply(this,arguments)}return{addBoolAnnotation:o,addIntAnnotation:q,addStringAnnotation:p,cancel:v,drop:s,endSuccess:w,fail:r,logPoint:n,measurePerformance:x,start:m}}g.getMAWReinit=a}),98);
__d("MAWReinitWorker",["MAWCommonBackendSetup","MAWOccamadilloOnMutexChange","MAWReinit","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.allTablesPersisted,e=a.db,f=a.dispatch,g=a.dispatchClearEphemeralSettings,h=a.getOrSetupWorker,i=a.instanceKey,j=a.logout,k=a.reregisterDevice,l=a.rotateCryptoAuthToken,m=a.setupBridge;a=a.workerCreateReason;i=d("MAWReinit").getMAWReinit(i);var n=function(){f({tag:"InitOfflineQueueSyncComplete",value:void 0})};yield d("MAWCommonBackendSetup").setupArmadilloBackend(h,i,function(a){c("promiseDone")(m({dispatch:f,logout:j,reregisterDevice:k,rotateCryptoAuthToken:l,worker:a}).then(function(){b||d("MAWOccamadilloOnMutexChange").onOccamadilloMutexChange(e)}))},n,n,a);i.endSuccess();g()});return h.apply(this,arguments)}g["default"]=a}),98);
__d("MAWSetupMutex",["FBLogger","LocalStorageMutex","MAWAppMutex","MAWBridge","MAWClientConsistencyRefresh","MAWInit","MAWIssueNewUserVisibleErrors","MAWLocalStorage","MAWMIC","MAWReinitWorker","MAWStateContext.react","MAWWaitForBackendSetup","QPLUserFlow","Run","WALoggerDeferred","asyncToGeneratorRuntime","isInstamadillo","qpl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["AppMutex - Shouldn't reinitialize, shared worker is active on a different tab"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["AppMutex - Shouldn't reinitialize, worker already exists"]);k=function(){return a};return a}e=i||d("react");var l=e.useCallback,m=e.useEffect,n=e.useMemo,o=c("FBLogger")("messenger_e2ee_web"),p=!1,q=0;function r(a,b,c){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){if(document.visibilityState!=="visible")return!1;a=a();var f=window.indexedDB!=null,g=d("MAWLocalStorage").isLocalStorageAvailable();if(a){void d("WALoggerDeferred").DEV(k());return!1}if(!f||!g)return!1;if(yield b()){void d("WALoggerDeferred").DEV(j());c("MAWClientConsistencyRefresh")("worker_mismatch");e();return!1}return!0});return s.apply(this,arguments)}function a(a,e){var f=a.doesWorkerExist,g=a.getOrSetupWorker,i=a.isSharedWorkerActive,j=a.logout,k=a.reregisterDevice,s=a.rotateCryptoAuthToken,t=a.setupBridge,u=a.terminateWorker,v=a.terminateWorkerPermanently,w=n(function(){return d("MAWAppMutex").use()},[]),x=(h||(h=c("useReStore")))(),y=d("MAWStateContext.react").useDispatchClearEphemeralSettings(),z=x.persistenceTypes.includes("indexeddb"),A=l(function(a){var b=w.takeoverFilter(a);if(!b||a.newValue===d("LocalStorageMutex").THIS_TAB||a.newValue==="")return;!z&&!c("isInstamadillo")()&&d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:[{tag:"DropAllSecureThreads",value:void 0}]});u("MAWSetupMutexV2:handleStoreChange");d("MAWWaitForBackendSetup").resetBackendSetup();d("MAWMIC").cancel("workerMutexLost");d("MAWInit").MAWInit.cancel("workerMutexLost");w.onMutexDeath()},[w,z,u]),B=l(function(){u("MAWSetupMutexV2:handleUnload"),w.onMutexDeath()},[w,u]),C=l(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield r(f,i,v));if(!a||p)return;p=!0;q++;try{yield c("MAWReinitWorker")({allTablesPersisted:z,db:x,dispatch:e,dispatchClearEphemeralSettings:y,getOrSetupWorker:g,instanceKey:q,logout:j,reregisterDevice:k,rotateCryptoAuthToken:s,setupBridge:t,workerCreateReason:"mawReinitSetupMutex"}),d("MAWWaitForBackendSetup").resolveBackendSetup(),d("MAWIssueNewUserVisibleErrors").deleteUserVisibleErrorByJSErrorMessage("maw_appmutex_no_permission")}catch(a){o.mustfix("AppMutex - failed to reinitialize worker: "+a.message.concat(" (",a.error,")")),o.catching(a),c("QPLUserFlow").endFailure(c("qpl")._(25310984,"169"),"failed_to_reinitialize_worker",{annotations:{string:{error:a.message.concat(": ",a.error)}},error:a,instanceKey:q})}finally{p=!1}}),[z,x,e,y,f,g,i,j,k,s,t,v]);m(function(){window.addEventListener("storage",A);var a=d("Run").onBeforeUnload(B,!1),b=d("Run").onUnload(B);window.addEventListener("visibilitychange",C);return function(){window.removeEventListener("storage",A),a.remove(),b.remove(),window.removeEventListener("visibilitychange",C)}},[A,B,C])}g.useMutex=a}),98);
__d("MAWSetupMutex.react",["MAWSetupMutex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.dispatch;a.environment;a.fbId;a=a.platformSetupUtils;d("MAWSetupMutex").useMutex(a,b);return null}g["default"]=a}),98);
__d("LSGetThreadDataFromTam.nop",["I64","LSMessagingThreadTypeUtil","LSResult","LSShape","LSVec","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){b=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.threads).filter(function(a){a=a.threadType;return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a)}).take((h||(h=d("I64"))).to_int32(e))));a=b.map(function(a,b){var c=a.lastActivityTimestampMs,e=a.lastReadWatermarkTimestampMs,f=a.threadKey;a=a.threadType;return d("LSShape").ofRecord({client_thread_pk:f,display_timestamp_ms:c,is_group_thread:d("LSMessagingThreadTypeUtil").isGroup(a),last_activity_timestamp_ms:c,last_read_watermark_timestamp_ms:e,server_thread_key:f,sort_order:(h||(h=d("I64"))).of_int32(b)})});return c("LSResult")(c("LSVec").ofArray(a))});function e(b,c,d){return a.apply(this,arguments)}return e}();g["default"]=a}),98);
__d("LSScheduleOccamThreadsIntegrityChecker",["LSGetCursor","LSGetThreadDataFromTam.nop","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetCursor"),c.i64.cast([0,95])).then(function(a){return a=a,d[0]=a[0],a})},function(b){return d[1]=c.createArray(),d[2]=c.createArray(),c.i64.neq(a[1],void 0)?d[3]=a[1]:d[3]=c.i64.cast([0,20]),c.forEach(c.db.table(220).fetch([[[c.i64.cast([0,95]),c.i64.cast([0,0])]]]),function(a){a=a.item;return d[10]=a.minLastActivityTimestampMs,d[9]=new c.Map(),d[9].set("has_more_before",a.hasMoreBefore),d[9].set("is_loading_before",a.isLoadingBefore),d[9].set("min_last_activity_timestamp_ms",d[10]),d[9].set("min_thread_key",a.minThreadKey),d[9].set("parent_thread_key",c.i64.cast([0,0])),d[11]=(d[2].push(d[9]),d[2]),c.forEach(c.islc(c.filter(c.db.table(9).fetch([[[{gte:d[10]}]],"lastActivityTimestampMs"]),function(a){return c.i64.ge(a.lastActivityTimestampMs,d[10])&&c.i64.eq(a.syncGroup,c.i64.cast([0,95]))&&c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(d[3])),function(a){a=a.item;return d[11]=new c.Map(),d[11].set("authority_level",a.authorityLevel),d[11].set("folder_name",a.folderName),d[11].set("last_activity_timestamp_ms",a.lastActivityTimestampMs),d[11].set("last_read_watermark_timestamp_ms",a.lastReadWatermarkTimestampMs),d[11].set("thread_key",a.threadKey),d[12]=(d[1].push(d[11]),d[1])})})},function(a){return d[4]=c.createArray(),c.nativeOperation(b("LSGetThreadDataFromTam.nop"),d[3]).then(function(a){return a=a,d[5]=a[0],a})},function(a){return d[6]=c.createArray(),d[7]=new c.Map(),d[7].set("cursor",d[0]),d[7].set("mi_act_mapping_columns_for_integrity_check",d[6]),d[7].set("occam_threads_columns_for_integrity_check",d[1]),d[7].set("threads_ranges_columns_for_integrity_check",d[2]),d[7].set("tam_threads_columns_for_integrity_check",d[5]),d[8]=c.toJSON(d[7]),c.storedProcedure(b("LSIssueNewTask"),"occam-threads-integrity-check",c.i64.cast([0,701]),d[8],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSScheduleOccamThreadsIntegrityCheckerStoredProcedure",["LSScheduleOccamThreadsIntegrityChecker","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){b===void 0&&(b={});var d=[];d[0]=b.delayMs;d[1]=b.maxThreadCount;return c("LSScheduleOccamThreadsIntegrityChecker").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("MWChatFetchThreadMessageCounts",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";function a(a){return g.apply(this,arguments)}function g(){g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){return{}});return g.apply(this,arguments)}function c(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){return 0});return h.apply(this,arguments)}f.fetchArmadilloThreadMessageCounts=a;f.fetchArmadilloThreadMessageCount=c}),66);
__d("globalCryptoSubtle",[],(function(a,b,c,d,e,f){"use strict";b=a.crypto.subtle;c=b;f["default"]=c}),66);
__d("useDataLossStatisticsStorageListener",["LSDatabaseSingleton","MWChatFetchThreadMessageCounts","Visibility","WebStorage","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(i||d("react")).useEffect,l="armadillo_msgr_data_loss_stats";function a(){k(function(){var a;window.setTimeout(function(){a=c("Visibility").addListener(c("Visibility").HIDDEN,function(){c("promiseDone")((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){return d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCounts(a).then(function(a){(h||(h=c("WebStorage"))).setItemGuarded(h.getLocalStorage(),l,JSON.stringify(a))})}))})},3e4);return function(){var b;(b=a)==null?void 0:b.remove()}},[])}g.DATA_LOSS_STATISTICS_STORAGE_KEY=l;g.useDataLossStatisticsStorageListener=a}),98);
__d("MWChatDataLossCheckerUtil",["FBLogger","I64","LSDatabaseSingleton","MAWBridgeSendAndReceive","MAWMiActOnActThreadReady","MWChatFetchThreadMessageCounts","Promise","QuickPerformanceLogger","WebStorage","asyncToGeneratorRuntime","gkx","globalCryptoSubtle","promiseDone","qpl","useDataLossStatisticsStorageListener"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l;function m(a){a=Array.from(new Uint8Array(a));return a.map(function(a){return a.toString(16).padStart(2,"0")}).join("")}function n(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{if(c("gkx")("24059"))return a;var b=new TextEncoder();b=b.encode(a).buffer;a=(yield c("globalCryptoSubtle").digest("SHA-256",b));return m(a)}catch(a){return a}});return o.apply(this,arguments)}function p(a){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.currentIDBCnt,d=a.currentMsgCnt,e=a.logThreadId,f=a.prevMsgCnt,g=a.qplEvent;a=a.threadId;if(e!=null&&e){e=(yield n(a));b!=null?((l||(l=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),l.markerAnnotate(g,{"int":{current_idb_count:b,current_msg_count:d,prev_msg_count:f},string:{encrypted_threadId:e}}),l.markerEnd(g,2)):((l||(l=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),l.markerAnnotate(g,{"int":{current_msg_count:d,prev_msg_count:f},string:{encrypted_threadId:e}}),l.markerEnd(g,2))}else b!=null?((l||(l=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),l.markerAnnotate(g,{"int":{current_idb_count:b,current_msg_count:d,prev_msg_count:f}}),l.markerEnd(g,2)):((l||(l=c("QuickPerformanceLogger"))).markerStartFromNavStart(g),l.markerAnnotate(g,{"int":{current_msg_count:d,prev_msg_count:f}}),l.markerEnd(g,2))});return q.apply(this,arguments)}function r(a){var b=a.currentMsgCnt,e=a.logThreadId,f=a.prevMsgCnt,g=a.qplEvent,h=a.threadId;return!c("gkx")("24060")?p({currentMsgCnt:b,logThreadId:e,prevMsgCnt:f,qplEvent:g,threadId:h}):(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){return d("MAWMiActOnActThreadReady").onActThreadReady(a.tables,(k||(k=d("I64"))).of_string(h),"MWChatDataLossCheckerUtil",function(a,i,j){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","fetchArmadilloThreadMessageCount",{threadId:i}).then(function(a){return p({currentIDBCnt:a,currentMsgCnt:b,logThreadId:e,prevMsgCnt:f,qplEvent:g,threadId:h})})["catch"](function(a){c("FBLogger")("labyrinth").catching(a).warn("Failed to fetch IndexDB message count");return p({currentMsgCnt:b,logThreadId:e,prevMsgCnt:f,qplEvent:g,threadId:h})})})})}function a(a,b){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{a=(yield d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCount(a,b));var e=(j||(j=c("WebStorage"))).getAllowlistedKeyFromLocalStorage(d("useDataLossStatisticsStorageListener").DATA_LOSS_STATISTICS_STORAGE_KEY);if(e==null)return{isThreadMissingMessages:!1};e=JSON.parse(e);b=(e=e[(k||(k=d("I64"))).to_string(b)])!=null?e:null;if(b==null)return{isThreadMissingMessages:!1};return b>0&&a===0?{currCount:a,isThreadMissingMessages:!0,prevCount:b}:{isThreadMissingMessages:!1}}catch(a){c("FBLogger")("labyrinth").catching(a).warn("Failed to check for data loss");return{isThreadMissingMessages:!1}}});return s.apply(this,arguments)}function e(a){a=d("MWChatFetchThreadMessageCounts").fetchArmadilloThreadMessageCounts(a);a.then(function(a){var e=(j||(j=c("WebStorage"))).getAllowlistedKeyFromLocalStorage(d("useDataLossStatisticsStorageListener").DATA_LOSS_STATISTICS_STORAGE_KEY);if(e==null)return(h||(h=b("Promise"))).resolve(null);e=JSON.parse(e);return(h||(h=b("Promise"))).resolve({current:a,previous:e})}).then(function(a){if(a==null)return(h||(h=b("Promise"))).resolve();var c=a.current;a=a.previous;return t(a,c)})["catch"](function(a){return c("FBLogger")("labyrinth").catching(a).warn("Failed to check for data loss")});return a.then(function(){})}function t(a,b){return u.apply(this,arguments)}function u(){u=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d){var e=[];for(var f in a)Object.prototype.hasOwnProperty.call(d,f)&&e.push(f);f=[];for(var g=0;g<e.length;g++){var i=e[g],j={currentMsgCnt:d[i],prevMsgCnt:a[i],threadId:i};a[i]>0&&d[i]===0?(f.push(r(babelHelpers["extends"]({},j,{qplEvent:c("qpl")._(717553665,"1183")}))),f.push(r(babelHelpers["extends"]({},j,{logThreadId:!0,qplEvent:c("qpl")._(717562243,"1358")})))):(f.push(r(babelHelpers["extends"]({},j,{qplEvent:c("qpl")._(717553666,"1184")}))),f.push(r(babelHelpers["extends"]({},j,{logThreadId:!0,qplEvent:c("qpl")._(717556541,"1361")}))))}yield (h||(h=b("Promise"))).all(f)});return u.apply(this,arguments)}function f(a){var b=function(b){c("promiseDone")(n(b).then(function(d){(l||(l=c("QuickPerformanceLogger"))).markerStartFromNavStart(c("qpl")._(717567419,"1383")),l.markerAnnotate(c("qpl")._(717567419,"1383"),{string:{encryptedThreadId:d,msg_count:a[b].toString()}}),l.markerEnd(c("qpl")._(717567419,"1383"),2)}))};for(var d in a)b(d)}g.qplLog=r;g.checkIsThreadMissingMessages=a;g.fetchCountsAndLogDataLoss=e;g.logThreadCompleteDataLoss=t;g.logLocalStatistics=f}),98);
__d("useOnMawSetupComplete.react",["promiseDone","react","waitForMAWMIC"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b,e){b===void 0&&(b=function(){}),i(function(){var e=!1;c("promiseDone")(d("waitForMAWMIC").promise.then(function(){if(e)return;a()})["catch"](function(){if(e)return;b()}));return function(){e=!0}},e)}g.useOnMawSetupComplete=a}),98);
__d("useDataLossChecker",["FBLogger","I64","LSDatabaseSingleton","LSFactory","LSScheduleOccamThreadsIntegrityCheckerStoredProcedure","MWChatDataLossCheckerUtil","asyncToGeneratorRuntime","gkx","justknobx","promiseDone","useDataLossStatisticsStorageListener","useOnMawSetupComplete.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){d("useDataLossStatisticsStorageListener").useDataLossStatisticsStorageListener(),d("useOnMawSetupComplete.react").useOnMawSetupComplete(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);yield d("MWChatDataLossCheckerUtil").fetchCountsAndLogDataLoss(a)})()),j()},j(),[])}function j(){try{var a=c("gkx")("24061"),e=c("justknobx")._("1683");a&&e&&c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton);return a.runInTransaction(function(a){return c("LSScheduleOccamThreadsIntegrityCheckerStoredProcedure")(c("LSFactory")(a),{delayMs:(i||(i=d("I64"))).of_int32(6e4),maxThreadCount:i.of_int32(20)})},"readonly")})())}catch(a){c("FBLogger")("labyrinth_web").warn("Error running thread integrity checker",a)}}g["default"]=a}),98);
__d("useLegacyUserWatchdog",["MAWIssueNewUserVisibleErrors","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;b=24*60*60*1e3;var j=5*b;function a(){i(function(){var a=c("setTimeout")(function(){var a;(a=d("MAWIssueNewUserVisibleErrors")).issueError(a.MAWLegacyUserErrorMsgBody,a.MAWLegacyUserErrorMsgTitle,a.MAWUserVisibleErrorPresentationType.BANNER)},j);return function(){return c("clearTimeout")(a)}})}g["default"]=a}),98);
__d("useMAWReregisterDeviceOnError",["LSPersistedDbGating","MAWIssueNewUserVisibleErrors","MAWLoggerUtils","MAWReinitWorker","MAWSetupWorker","MAWStateContext.react","ODS","WABridgedAPI","WATagsLogger","asyncToGeneratorRuntime","react","shouldUseMAWSharedWorker","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to reinit worker ",""]);j=function(){return a};return a}e=h||d("react");var k=e.useCallback,l=e.useContext,m=!1,n=typeof window!=="undefined"?window:self;function o(){m=!0,d("MAWSetupWorker").terminateWorkerPermanently(),(i||(i=d("ODS"))).bumpEntityKey(3185,"armadillo_forced_reregister_fail",n.location.hostname),d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER)}function a(a){var e=a.getOrSetupWorker,f=a.rotateCryptoAuthToken,g=a.setupBridge,h=a.terminateWorker,p=c("useAsyncReStore")(),q=d("MAWStateContext.react").useDispatchClearEphemeralSettings();a=l(d("MAWStateContext.react").MAWStateContext);var r=a.dispatch;return k(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(m)return;(i||(i=d("ODS"))).bumpEntityKey(3185,"armadillo_forced_deregister",n.location.hostname);yield c("WABridgedAPI").removeCurrentDevice();var a=d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();d("shouldUseMAWSharedWorker").logExposureForMAWSharedWorker();a&&(yield d("MAWSetupWorker").killSharedWorker());h("useMAWReregisterDeviceOnError");try{a=(yield p);yield c("MAWReinitWorker")({allTablesPersisted:d("LSPersistedDbGating").allTablesPersisted,db:a,dispatch:r,dispatchClearEphemeralSettings:q,getOrSetupWorker:e,logout:o,reregisterDevice:o,rotateCryptoAuthToken:f,setupBridge:g,workerCreateReason:"mawReinitReregDevice"})}catch(b){a=b.description||b.message||b;d("WATagsLogger").TAGS([d("MAWLoggerUtils").Tag.DeviceRegistration,d("MAWLoggerUtils").Tag.LogoutHandler,d("MAWLoggerUtils").Tag.WorkerSetup,d("MAWLoggerUtils").Tag.MAWWorker,d("MAWLoggerUtils").Tag.MAWInit]).ERROR(j(),a);d("MAWIssueNewUserVisibleErrors").issueError(d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgBody,d("MAWIssueNewUserVisibleErrors").MAWLegacyUserErrorMsgTitle,d("MAWIssueNewUserVisibleErrors").MAWUserVisibleErrorPresentationType.BANNER)}}),[h,p,r,q,e,f,g])}g["default"]=a}),98);
__d("useStorageUsageMetricsLogger",["cr:3504","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(){i(function(){void (b("cr:3504")==null?void 0:b("cr:3504").logMAWDBUsageMetrics())},[])}g["default"]=a}),98);
__d("MAWSetupImpl.react",["BaseHeadingContext","CometRelay","MAWCommonSetup","MAWCryptoAuthToken","MAWSetupMutex.react","MAWSetupWorker","MAWStateContext.react","MAWWebWorkerInstance","cr:6159","cr:6160","cr:8800","promiseDone","react","shouldUseMAWSharedWorker","useDataLossChecker","useLegacyUserWatchdog","useMAWReregisterDeviceOnError","useStorageUsageMetricsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useCallback,k=e.useContext,l=e.useEffect,m=e.useMemo;window.XPlatTesting=b("cr:6159");window.XPlatTestingGroups=b("cr:6160");window.XPlatMockServer=b("cr:8800");function a(a){var b,e=a.children,f=a.fbid,g=a.logout,h=a.setupBridge;a=k(d("MAWStateContext.react").MAWStateContext);a=a.dispatch;var n=d("CometRelay").useRelayEnvironment(),o=j(function(){return d("MAWCryptoAuthToken").fetchFreshCAT(n)},[n]),p=c("useMAWReregisterDeviceOnError")({doesWorkerExist:d("MAWWebWorkerInstance").doesWorkerExist,getOrSetupWorker:(b=d("MAWSetupWorker")).getOrSetupWorker,isSharedWorkerActive:b.isSharedWorkerActive,rotateCryptoAuthToken:o,setupBridge:h,terminateWorker:b.terminateWorker,terminateWorkerPermanently:b.terminateWorkerPermanently});b=m(function(){return{doesWorkerExist:d("MAWWebWorkerInstance").doesWorkerExist,getOrSetupWorker:d("MAWSetupWorker").getOrSetupWorker,isSharedWorkerActive:d("MAWSetupWorker").isSharedWorkerActive,logout:g!=null?g:function(){return c("promiseDone")(p())},reregisterDevice:function(){return c("promiseDone")(p())},rotateCryptoAuthToken:o,setupBridge:h,terminateWorker:d("MAWSetupWorker").terminateWorker,terminateWorkerPermanently:d("MAWSetupWorker").terminateWorkerPermanently}},[o,g,p,h]);d("MAWCommonSetup").useArmadillo(b);c("useLegacyUserWatchdog")();c("useDataLossChecker")();c("useStorageUsageMetricsLogger")();l(function(){d("shouldUseMAWSharedWorker").logExposureForMAWSharedWorker()});var q=k(c("BaseHeadingContext")),r=!d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker();return i.jsxs(c("BaseHeadingContext").Provider,{value:q+1,children:[e,r?i.jsx(c("MAWSetupMutex.react"),{dispatch:a,environment:n,fbId:f,platformSetupUtils:b}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSSetIGE2EEEligibility",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(176).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.contactId,a[0])&&c.i64.eq(b.e2eeEligibility,a[1])}).next().then(function(e,f){f=e.done;e=e.value;return f?(d[1]=new c.Map(),d[1].set("contact_id",a[0]),d[1].set("new_eligibility",a[1]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"ig_set_e2ee_eligibility",c.i64.cast([0,60001]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):(e.item,0)})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSSetIGE2EEEligibilityStoredProcedure",["LSSetIGE2EEEligibility","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.id;d[1]=b.e2eeEligibility;return c("LSSetIGE2EEEligibility").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("IGDSetIGE2EEEligibility",["I64","LSDatabaseSingleton","LSFactory","LSInstagramE2EEEligibility","LSIntEnum","LSSetIGE2EEEligibilityStoredProcedure","MAWCurrentUser","asyncToGeneratorRuntime","gkx","justknobx","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(h||d("react")).useEffect;function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(yield (i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton);return e.runInTransaction(function(e){return c("LSSetIGE2EEEligibilityStoredProcedure")(c("LSFactory")(e),{e2eeEligibility:(j||(j=d("LSIntEnum"))).ofNumber(b),id:(k||(k=d("I64"))).of_string(a)})},"readwrite")});return n.apply(this,arguments)}function a(){l(function(){if(c("gkx")("147")===!1||c("justknobx")._("2058"))return;var a=d("MAWCurrentUser").getID();c("promiseDone")(m(a,c("LSInstagramE2EEEligibility").ELIGIBLE))},[])}g.useUpsertSetIGE2EEEligibilityOnMount=a}),98);
__d("IGDSetupBridge",["FBLogger","LSDatabaseSingleton","LSInitSyncCompleteSubscription","MAWAbPropsClient","MAWBridgeReceivedChatStateHandler","MAWBridgeUIEventHandler","MAWCommonSetupBridge","MAWEncryptionErrorHandler","MAWFetchContacts","MAWGetEphemeralSettings","MAWSetupBridgeOfflineSnapshot","Run","WAExceededStorageQuota","asyncToGeneratorRuntime","cr:3411","cr:5889","isInstamadillo","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(e=c("requireDeferred"))("ArmadilloCutoverClientFalcoEvent").__setRef("IGDSetupBridge"),j=e("IGDBridgeResignCdnUrlHandler").__setRef("IGDSetupBridge"),k=e("MAWBridgeUpdateDYIStatusV2").__setRef("IGDSetupBridge"),l=e("MAWSetupBridgeOfflineConsumer").__setRef("IGDSetupBridge"),m=(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(d("LSInitSyncCompleteSubscription").use).then(function(){return(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton}),n=function(a){i.loadImmediately(function(b){b=b.log;return b(function(){return{armadillo_thread_id:a.armadilloThreadId,domain:a.domain,event:a.event,event_details:a.eventDetails,open_thread_id:a.openThreadId,success:a.success,trace_id:a.traceId}})})},o=new Set(["StartTraceWithTraceId","TraceRecordCheckpoint"]),p=new Set(["ABPropsUpdated","ClockSkewUpdated","DropAllSecureThreads","LargeClockSkewValue","ReceivedChatState"]);function a(a){var e=a.dispatch,f=a.logout,g=a.reregisterDevice,h=a.rotateCryptoAuthToken,i=a.worker;function q(){i.postMessage({type:"force-flush-data"})}d("Run").onUnload(q);d("Run").onBeforeUnload(q,!1);return d("MAWCommonSetupBridge").initBridge({customizeEventHandlers:{abPropsUpdated:function(a){d("MAWAbPropsClient").rewrite(a.abProps)},earDecryptionFailure:function(a){d("MAWEncryptionErrorHandler").deleteAllDbs(a.tableName)},getLSDBEphemeralSetting:function(a){return d("MAWGetEphemeralSettings").getEphemeralSetting(a.chatJid)},getLSDBUsersIsMsplit:function(a){return d("MAWFetchContacts").fetchContactsIsMsplit(a.users)},getLSDBUsersRelationships:function(a){return d("MAWFetchContacts").fetchContactsRelationships(a.users)},logCutoverEvent:n,logout:f,offlineConsumerProgress:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){return(yield l.load())(m,e).apply(void 0,arguments)});function c(){return a.apply(this,arguments)}return c}(),offlineSnapshot:c("MAWSetupBridgeOfflineSnapshot")(e),receivedChatState:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield m);yield c.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield d("MAWBridgeReceivedChatStateHandler").call(b,a)});return function(a){return c.apply(this,arguments)}}(),"readwrite")});function c(b){return a.apply(this,arguments)}return c}(),relayUpdate:function(a){b("cr:5889")==null?void 0:b("cr:5889").handleUpdateFromWorker(a)},reregisterDevice:g,resignCdnUrl:function(a){var b=a.deliveryObjectId,c=a.payload;return j.load().then(function(a){return a.call(c,b)})},rotateCryptoAuthToken:h,storageQuota:function(a){a=a.exceededStorageQuota;d("WAExceededStorageQuota").setExceededStorageQuota(a)},uiUpdate:function(a){a=a.events;var e=[],f=a.filter(function(a){if(o.has(a.tag)){e.push(a);return!1}if(p.has(a.tag))return!1});e.length>0&&(b("cr:3411")==null?void 0:b("cr:3411").recordBridgeUIEvent(a),d("MAWBridgeUIEventHandler").handleEvents(m,a));if(f.length===0)return;c("isInstamadillo")()?c("FBLogger")("igd_web_on_msgr").warn("[Instamadillo] Unsupported invocation of UI Event Handler. Please deprecate UI Event Handler: %s",a.map(function(a){return a.tag}).join(", ")):c("FBLogger")("igd_web_on_msgr").warn("[IGD] Deprecating UIEventHandlers, please update LSDB directly for UI changes: %s",a.map(function(a){return a.tag}).join(", "))},updateDYIStatus:function(a){var b=a.qplInstanceKeyE2E,d=a.status;c("promiseDone")(k.load().then(function(a){return a.call({qplInstanceKeyE2E:b,status:d})}))}},worker:i})}g.setupBridge=a}),98);
__d("IGDAWSetup.react",["CometRelayEnvironmentProvider","FBLogger","IGDSetIGE2EEEligibility","IGDSetupBridge","MAWCurrentUser","MAWSetupImpl.react","MAWStateContextProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.unstable_useMemoCache;function a(a){var b=j(5);a=a.children;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){},b[0]=e):e=b[0];e=e;d("IGDSetIGE2EEEligibility").useUpsertSetIGE2EEEligibilityOnMount();var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f="xjp7ctv",b[1]=f):f=b[1];var g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=d("MAWCurrentUser").getID(),b[2]=g):g=b[2];b[3]!==a?(f=i.jsx("div",{className:f,"data-testid":void 0,children:i.jsx(c("CometRelayEnvironmentProvider"),{children:i.jsx(c("MAWStateContextProvider.react"),{children:i.jsx(c("MAWSetupImpl.react"),{fbid:g,logout:e,setupBridge:d("IGDSetupBridge").setupBridge,children:a})})})}),b[3]=a,b[4]=f):f=b[4];return f}g["default"]=a}),98);
__d("MAWDBUsageMetrics",["WALogger","WebStorageEstimator","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error while getting the storage manager estimate: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Sending storage manager estimates falco event, quota: ",", usage: ",", usage_details: ",""]);i=function(){return a};return a}var j=c("requireDeferred")("WebStorageManagerEstimatesFalcoEvent").__setRef("MAWDBUsageMetrics");function a(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield d("WebStorageEstimator").estimateStorage());j.onReady(function(b){d("WALogger").DEV(i(),a==null?void 0:a.quota,a==null?void 0:a.usage,a==null?void 0:a.usageDetails),b.log(function(){var b;return{quota:String(a==null?void 0:a.quota),usage:String(a==null?void 0:a.usage),usage_details:{caches:String((b=a==null?void 0:(b=a.usageDetails)==null?void 0:b.caches)!=null?b:""),indexedDB:String((b=a==null?void 0:(b=a.usageDetails)==null?void 0:b.indexedDB)!=null?b:""),serviceWorkerRegistrations:String((b=a==null?void 0:(b=a.usageDetails)==null?void 0:b.serviceWorkerRegistrations)!=null?b:"")}}})})}catch(a){d("WALogger").DEV(h(),a);return}});return k.apply(this,arguments)}g.logMAWDBUsageMetrics=a}),98);/*FB_PKG_DELIM*/
__d("QuickPromotionIGWebBatchFetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"surface_nux_ids"}],b=[{kind:"Variable",name:"surface_nux_ids",variableName:"surface_nux_ids"}],c={alias:null,args:null,kind:"ScalarField",name:"surface_nux_id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"client_ttl_seconds",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"is_holdout",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"log_eligibility_waterfall",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"promotion_id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"asset_url",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"mode",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"client_side_dry_run",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"clause_type",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"filter_type",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"passes_if_not_supported",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"unknown_action",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"required",storageKey:null},r={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bool_value",storageKey:null}],type:"XFBQPBooleanTemplateParameter",abstractKey:null},s={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"int_value",storageKey:null}],type:"XFBQPIntTemplateParameter",abstractKey:null},t=[{alias:null,args:null,kind:"ScalarField",name:"string_value",storageKey:null}],u={kind:"InlineFragment",selections:t,type:"XFBQPStringTemplateParameter",abstractKey:null},v=[k,q,r,s,u];v={alias:null,args:null,concreteType:"XFBQuickPromotionFilter",kind:"LinkedField",name:"filters",plural:!0,selections:[n,o,p,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"value",plural:!1,selections:v,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extra_datas",plural:!0,selections:v,storageKey:null}],storageKey:null};var w={alias:null,args:null,concreteType:"XFBBloksRootComponent",kind:"LinkedField",name:"bloks_view_v2",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBBloksComponent",kind:"LinkedField",name:"component",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBBloksBundle",kind:"LinkedField",name:"bundle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bloks_bundle_tree",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},x=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],y={alias:null,args:null,concreteType:"XFBTextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:x,storageKey:null};x={alias:null,args:null,concreteType:"XFBTextWithEntities",kind:"LinkedField",name:"content",plural:!1,selections:x,storageKey:null};var z=[y,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"limit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dismiss_promotion",storageKey:null}],A={alias:null,args:null,concreteType:"XFBQuickPromotionAction",kind:"LinkedField",name:"primary_action",plural:!1,selections:z,storageKey:null},B={alias:null,args:null,concreteType:"XFBQuickPromotionAction",kind:"LinkedField",name:"secondary_action",plural:!1,selections:z,storageKey:null};z={alias:null,args:null,concreteType:"XFBQuickPromotionAction",kind:"LinkedField",name:"dismiss_action",plural:!1,selections:z,storageKey:null};var C=[{kind:"Variable",name:"scale",variableName:"scale"}],D=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],E={alias:null,args:C,concreteType:"XFBImage",kind:"LinkedField",name:"image",plural:!1,selections:D,storageKey:null};C={alias:null,args:C,concreteType:"XFBImage",kind:"LinkedField",name:"dark_mode_image",plural:!1,selections:D,storageKey:null};D={alias:null,args:null,concreteType:"XFBQPBulletListItem",kind:"LinkedField",name:"bullet_list",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:D,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"dark_icon",plural:!1,selections:D,storageKey:null}],storageKey:null};var F={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},G={alias:null,args:null,concreteType:"XFBQPDiglossiaData",kind:"LinkedField",name:"diglossia_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_diglossia_enabled",storageKey:null},{alias:null,args:null,concreteType:"XFBQPDiglossiaContentTranslations",kind:"LinkedField",name:"content_translations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"locale",storageKey:null},y,x,{alias:null,args:null,kind:"ScalarField",name:"primary_action_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"secondary_action_title",storageKey:null}],storageKey:null}],storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"is_server_force_pass",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"is_uncancelable",storageKey:null},J={alias:null,args:null,kind:"ScalarField",name:"encrypted_logging_data",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"max_impressions",storageKey:null};t={kind:"InlineFragment",selections:t,type:"XFBQPStringEnumTemplateParameter",abstractKey:null};var L={alias:null,args:null,kind:"ScalarField",name:"triggers",storageKey:null},M=[F,k,q,r,s,u];n={alias:null,args:null,concreteType:"XFBQuickPromotionFilter",kind:"LinkedField",name:"filters",plural:!0,selections:[n,o,p,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"value",plural:!1,selections:M,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extra_datas",plural:!0,selections:M,storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"QuickPromotionIGWebBatchFetchQuery",selections:[{alias:null,args:b,concreteType:"XFBQuickPromotionBatchFetchSurface",kind:"LinkedField",name:"xfb_quick_promotion_batch_fetch_root",plural:!0,selections:[c,{alias:null,args:null,concreteType:"XFBQuickPromotionSurfaceEligiblePromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBQuickPromotionSurfaceEligiblePromotionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[d,e,f,{alias:null,args:null,concreteType:"XFBQuickPromotion",kind:"LinkedField",name:"node",plural:!1,selections:[g,h,{alias:null,args:null,concreteType:"XFBQuickPromotionAnimation",kind:"LinkedField",name:"animations",plural:!0,selections:[i,j,k],storageKey:null},l,{alias:null,args:null,concreteType:"XFBQuickPromotionFilterClause",kind:"LinkedField",name:"contextual_filters",plural:!1,selections:[m,v,{alias:null,args:null,concreteType:"XFBQuickPromotionFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[m,v,{alias:null,args:null,concreteType:"XFBQuickPromotionFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[m,v],storageKey:null}],storageKey:null}],storageKey:null},w,{alias:null,args:null,concreteType:"XFBQuickPromotionCreative",kind:"LinkedField",name:"creatives",plural:!0,selections:[y,x,A,B,z,E,C,D,F],storageKey:null},G,H,I,J,K,{alias:null,args:null,concreteType:"XFBQuickPromotionTemplate",kind:"LinkedField",name:"template",plural:!1,selections:[k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"parameters",plural:!0,selections:[k,q,r,t,u,s],storageKey:null}],storageKey:null},L],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"QuickPromotionIGWebBatchFetchQuery",selections:[{alias:null,args:b,concreteType:"XFBQuickPromotionBatchFetchSurface",kind:"LinkedField",name:"xfb_quick_promotion_batch_fetch_root",plural:!0,selections:[c,{alias:null,args:null,concreteType:"XFBQuickPromotionSurfaceEligiblePromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBQuickPromotionSurfaceEligiblePromotionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[d,e,f,{alias:null,args:null,concreteType:"XFBQuickPromotion",kind:"LinkedField",name:"node",plural:!1,selections:[g,h,{alias:null,args:null,concreteType:"XFBQuickPromotionAnimation",kind:"LinkedField",name:"animations",plural:!0,selections:[i,j,k,g],storageKey:null},l,{alias:null,args:null,concreteType:"XFBQuickPromotionFilterClause",kind:"LinkedField",name:"contextual_filters",plural:!1,selections:[m,n,{alias:null,args:null,concreteType:"XFBQuickPromotionFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[m,n,{alias:null,args:null,concreteType:"XFBQuickPromotionFilterClause",kind:"LinkedField",name:"clauses",plural:!0,selections:[m,n],storageKey:null}],storageKey:null}],storageKey:null},w,{alias:null,args:null,concreteType:"XFBQuickPromotionCreative",kind:"LinkedField",name:"creatives",plural:!0,selections:[y,x,A,B,z,E,C,D,F,g],storageKey:null},G,H,I,J,K,{alias:null,args:null,concreteType:"XFBQuickPromotionTemplate",kind:"LinkedField",name:"template",plural:!1,selections:[k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"parameters",plural:!0,selections:[F,k,q,r,t,u,s],storageKey:null}],storageKey:null},L],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"7315748781795368",metadata:{},name:"QuickPromotionIGWebBatchFetchQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisAPIFetchBatchQuickPromotionsDirectQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6960196387418955"}),null);
__d("PolarisAPIFetchBatchQuickPromotionsDirectQuery.graphql",["PolarisAPIFetchBatchQuickPromotionsDirectQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"request_data"},c={defaultValue:null,kind:"LocalArgument",name:"scale"},d={defaultValue:null,kind:"LocalArgument",name:"surfaces_to_queries"},e={defaultValue:null,kind:"LocalArgument",name:"vc_policy"},f={defaultValue:null,kind:"LocalArgument",name:"version"},g=[{alias:null,args:[{kind:"Variable",name:"_request_data",variableName:"request_data"},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Variable",name:"surfaces_to_queries",variableName:"surfaces_to_queries"},{kind:"Variable",name:"vc_policy",variableName:"vc_policy"},{kind:"Variable",name:"version",variableName:"version"}],concreteType:"XDTBatchedQuickPromotionResponse",kind:"LinkedField",name:"xdt_qp_batch_fetch",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"qp_data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_cache_ttl_in_sec",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_status",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d,e,f],kind:"Fragment",metadata:null,name:"PolarisAPIFetchBatchQuickPromotionsDirectQuery",selections:g,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,d,c,e,f],kind:"Operation",name:"PolarisAPIFetchBatchQuickPromotionsDirectQuery",selections:g},params:{id:b("PolarisAPIFetchBatchQuickPromotionsDirectQuery_instagramRelayOperation"),metadata:{is_distillery:!0},name:"PolarisAPIFetchBatchQuickPromotionsDirectQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("PolarisAPIFetchBatchQuickPromotionsQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"request_data"},b={defaultValue:null,kind:"LocalArgument",name:"scale"},c={defaultValue:null,kind:"LocalArgument",name:"surfaces_to_queries"},d={defaultValue:null,kind:"LocalArgument",name:"vc_policy"},e={defaultValue:null,kind:"LocalArgument",name:"version"},f=[{alias:null,args:[{kind:"Variable",name:"_request_data",variableName:"request_data"},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Variable",name:"surfaces_to_queries",variableName:"surfaces_to_queries"},{kind:"Variable",name:"vc_policy",variableName:"vc_policy"},{kind:"Variable",name:"version",variableName:"version"}],concreteType:"XDTBatchedQuickPromotionResponse",kind:"LinkedField",name:"xdt_qp_batch_fetch",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"qp_data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_cache_ttl_in_sec",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_status",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,b,c,d,e],kind:"Fragment",metadata:null,name:"PolarisAPIFetchBatchQuickPromotionsQuery",selections:f,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,b,d,e],kind:"Operation",name:"PolarisAPIFetchBatchQuickPromotionsQuery",selections:f},params:{id:"6806503629372013",metadata:{},name:"PolarisAPIFetchBatchQuickPromotionsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("FXFetaAccountAutoMigrationDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("FXFetaAccountAutoMigrationDialog.react").__setRef("FXFetaAccountAutoMigrationDialog.entrypoint")};g["default"]=a}),98);
__d("IGDSAdPanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(4),d,e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M18.44 1H5.56A4.565 4.565 0 0 0 1 5.561v12.878A4.565 4.565 0 0 0 5.56 23h12.88A4.566 4.566 0 0 0 23 18.44V5.56A4.566 4.566 0 0 0 18.44 1ZM21 18.44A2.564 2.564 0 0 1 18.44 21H5.56A2.563 2.563 0 0 1 3 18.44V5.56A2.563 2.563 0 0 1 5.56 3h12.88A2.564 2.564 0 0 1 21 5.561Z"}),e=j.jsx("path",{d:"M12 16H6a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2Zm6-10H6a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1Zm-1 6H7V8h10Zm1 4h-2a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2Z"}),b[0]=d,b[1]=e):(d=b[0],e=b[1]);b[2]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e]})),b[2]=a,b[3]=d):d=b[3];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSLicensingPanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"m20.414 7-5.412-5.412A2.01 2.01 0 0 0 13.586 1H6a3.003 3.003 0 0 0-3 3v16a3.003 3.003 0 0 0 3 3h12a3.003 3.003 0 0 0 3-3V8.414A1.99 1.99 0 0 0 20.414 7ZM15 4.414 17.586 7H15ZM19 20a1.001 1.001 0 0 1-1 1H6a1.001 1.001 0 0 1-1-1V4a1.001 1.001 0 0 1 1-1h7v4a2.002 2.002 0 0 0 2 2h4ZM8 10h2a1 1 0 0 0 0-2H8a1 1 0 0 0 0 2Zm8 6H8a1 1 0 0 0 0 2h8a1 1 0 0 0 0-2Zm-9-3a1 1 0 0 0 1 1h8a1 1 0 0 0 0-2H8a1 1 0 0 0-1 1Z"}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSPaymentsPanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(3),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsxs("g",{fill:"currentColor",children:[j.jsx("path",{d:"M1.4 5.3c-.3.8-.4 4.3-.2 7.8l.3 6.4h21v-15l-10.3-.3c-8-.2-10.4 0-10.8 1.1zM21 7c0 .6-3.7 1-9 1s-9-.4-9-1 3.7-1 9-1 9 .4 9 1zm0 7.5V18H3v-7h18v3.5z"}),j.jsx("path",{d:"M4 16c0 .5 1.1 1 2.5 1S9 16.5 9 16c0-.6-1.1-1-2.5-1S4 15.4 4 16zm6 0c0 .5 1.8 1 4 1s4-.5 4-1c0-.6-1.8-1-4-1s-4 .4-4 1z"})]}),b[0]=d):d=b[0];b[1]!==a?(d=j.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:d})),b[1]=a,b[2]=d):d=b[2];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSUserCirclePanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(5),d,e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("circle",{cx:"12.004",cy:"12.004",fill:"none",r:"10.5",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"}),e=j.jsx("path",{d:"M18.793 20.014a6.08 6.08 0 0 0-1.778-2.447 3.991 3.991 0 0 0-2.386-.791H9.38a3.994 3.994 0 0 0-2.386.791 6.09 6.09 0 0 0-1.779 2.447",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"}),f=j.jsx("circle",{cx:"12.006",cy:"9.718",fill:"none",r:"4.109",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"}),b[0]=d,b[1]=e,b[2]=f):(d=b[0],e=b[1],f=b[2]);b[3]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e,f]})),b[3]=a,b[4]=d):d=b[4];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSUsersPanoOutline24Icon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(5),d,e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("path",{d:"M12.931 4.132a3.5 3.5 0 1 1 2.575 5.871h-.06M22 17.546v-.688A3.858 3.858 0 0 0 18.143 13h-3.64",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"2"}),e=j.jsx("path",{d:"M12.004 9.502a3.5 3.5 0 1 1-3.501-3.5 3.501 3.501 0 0 1 3.5 3.5Z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"2"}),f=j.jsx("path",{d:"M14.997 20.546v-.687A3.858 3.858 0 0 0 11.139 16H5.858A3.858 3.858 0 0 0 2 19.859v.687",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=d,b[1]=e,b[2]=f):(d=b[0],e=b[1],f=b[2]);b[3]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e,f]})),b[3]=a,b[4]=d):d=b[4];return d}b=j.memo(a);g["default"]=b}),98);
__d("IGDSMetaLogoPrimaryIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k=5;function a(a){var b=i(7),d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"b",x1:"125",x2:"160.217",y1:"97",y2:"57.435",children:[j.jsx("stop",{offset:".21",stopColor:"#0278F1"}),j.jsx("stop",{offset:".533",stopColor:"#0180FA"})]}),b[0]=d):d=b[0];var e;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"c",x1:"44",x2:"0",y1:"5",y2:"64",children:[j.jsx("stop",{offset:".427",stopColor:"#0165E0"}),j.jsx("stop",{offset:".917",stopColor:"#0180FA"})]}),b[1]=e):e=b[1];var f;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:"d",x1:"28.5",x2:"135",y1:"29",y2:"72",children:[j.jsx("stop",{stopColor:"#0064E0"}),j.jsx("stop",{offset:".656",stopColor:"#0066E2"}),j.jsx("stop",{offset:"1",stopColor:"#0278F1"})]}),b[2]=f):f=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsxs("defs",{children:[d,e,f,j.jsx("clipPath",{id:"a",children:j.jsx("path",{d:"M0 0h496.236v100H0z",fill:"#fff"})})]}),b[3]=d):d=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsxs("g",{clipPath:"url(#a)",children:[j.jsx("path",{d:"M182.141 3.213h18.808l31.98 57.849 31.979-57.849h18.401V98.27h-15.345V25.416l-28.042 50.448h-14.394l-28.042-50.448V98.27h-15.345V3.213ZM332.804 99.967c-7.107 0-13.353-1.573-18.739-4.718-5.387-3.146-9.586-7.504-12.595-13.07-3.011-5.569-4.515-11.95-4.515-19.148 0-7.287 1.47-13.738 4.413-19.35 2.942-5.613 7.027-10.004 12.255-13.173 5.229-3.168 11.238-4.753 18.027-4.753 6.744 0 12.55 1.596 17.416 4.787 4.865 3.191 8.611 7.661 11.237 13.41 2.624 5.749 3.938 12.492 3.938 20.233v4.21h-52.077c.95 5.794 3.292 10.354 7.027 13.68 3.735 3.328 8.453 4.991 14.157 4.991 4.571 0 8.509-.679 11.814-2.037 3.303-1.358 6.404-3.417 9.302-6.178l8.147 9.98c-8.103 7.425-18.038 11.136-29.807 11.136Zm11.204-56.389c-3.215-3.281-7.425-4.923-12.629-4.923-5.07 0-9.314 1.676-12.731 5.025-3.418 3.35-5.58 7.854-6.484 13.512h37.343c-.453-5.794-2.286-10.331-5.499-13.614ZM382.846 40.014h-14.123V27.453h14.123V6.676h14.802v20.777h21.455v12.561h-21.455v31.844c0 5.295.905 9.075 2.716 11.338 1.809 2.264 4.911 3.395 9.302 3.395 1.945 0 3.598-.078 4.956-.237a92.35 92.35 0 0 0 4.481-.646v12.425c-1.675.498-3.564.906-5.669 1.223a44.63 44.63 0 0 1-6.62.475c-15.979 0-23.968-8.735-23.968-26.208V40.014ZM496.236 98.27h-14.53v-9.913c-2.58 3.712-5.862 6.575-9.845 8.588-3.983 2.014-8.51 3.022-13.579 3.022-6.247 0-11.78-1.596-16.601-4.787s-8.612-7.581-11.373-13.172c-2.761-5.59-4.142-11.983-4.142-19.18 0-7.243 1.403-13.648 4.21-19.216 2.806-5.567 6.688-9.935 11.645-13.104 4.956-3.168 10.648-4.753 17.075-4.753 4.844 0 9.189.94 13.037 2.818a25.768 25.768 0 0 1 9.573 7.978v-9.098h14.53V98.27Zm-14.801-46.035c-1.585-4.028-4.085-7.207-7.503-9.54-3.418-2.33-7.367-3.496-11.848-3.496-6.338 0-11.384 2.128-15.141 6.382-3.758 4.255-5.635 10.004-5.635 17.246 0 7.289 1.809 13.06 5.431 17.314 3.621 4.255 8.532 6.382 14.734 6.382 4.571 0 8.645-1.176 12.222-3.53 3.575-2.353 6.155-5.522 7.74-9.506V52.235Z",fill:"currentColor"}),j.jsx("path",{d:"M108 0C95.66 0 86.015 9.294 77.284 21.1 65.284 5.821 55.25 0 43.24 0 18.76 0 0 31.862 0 65.586 0 86.69 10.21 100 27.31 100c12.308 0 21.16-5.803 36.897-33.31 0 0 6.56-11.584 11.072-19.564 1.582 2.553 3.243 5.3 4.997 8.253l7.38 12.414C102.03 91.848 110.038 100 124.551 100c16.659 0 25.931-13.492 25.931-35.034C150.483 29.656 131.301 0 108 0ZM52.207 59.241c-12.759 20-17.172 24.483-24.276 24.483-7.31 0-11.655-6.418-11.655-17.862 0-24.483 12.207-49.517 26.759-49.517 7.88 0 14.465 4.55 24.552 18.991-9.578 14.691-15.38 23.905-15.38 23.905Zm48.153-2.517-8.823-14.715a301.425 301.425 0 0 0-6.884-10.723c7.952-12.274 14.511-18.39 22.313-18.39 16.206 0 29.172 23.863 29.172 53.173 0 11.172-3.659 17.655-11.241 17.655-7.268 0-10.739-4.8-24.537-27Z",fill:"#0180FA"}),j.jsx("path",{d:"M145.586 35H130.66c3.452 8.746 5.478 19.482 5.478 31.069 0 11.172-3.659 17.655-11.241 17.655-1.407 0-2.672-.18-3.897-.631V99.82c1.143.122 2.324.18 3.552.18 16.659 0 25.931-13.492 25.931-35.034 0-10.737-1.774-20.95-4.897-29.966Z",fill:"url(#b)"}),j.jsx("path",{d:"M43.241 0c.254 0 .507.003.759.008v16.36c-.32-.015-.642-.023-.965-.023-14.183 0-26.139 23.782-26.736 47.655H.014C.59 30.87 19.143 0 43.24 0Z",fill:"url(#c)"}),j.jsx("path",{d:"M43.241 0c11.152 0 20.601 5.02 31.502 17.971 3.065 3.828 6.761 8.805 10.716 14.557l.017.025.025-.003a311.041 311.041 0 0 1 6.036 9.459l8.823 14.715c13.798 22.2 17.269 27 24.537 27H125v16.273c-.149.002-.298.003-.448.003-14.513 0-22.522-8.152-36.897-32.207l-7.38-12.414a596.368 596.368 0 0 0-2.294-3.834L78 51.5c-5.5-9-9-14.5-12-18.5l-.05.038c-9.18-12.63-15.47-16.693-22.916-16.693H43V0L43.241 0Z",fill:"url(#d)"})]}),b[4]=e):e=b[4];b[5]!==a?(f=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{aspectRatio:k,viewBox:"0 0 500 100",children:[d,e]})),b[5]=a,b[6]=f):f=b[6];return f}b=j.memo(a);g["default"]=b}),98);
__d("css-in-js-utils-resolveArrayValue-wwwig",["css-in-js-utils-resolveArrayValue"],(function(a,b,c,d,e,f,g){g["default"]=c("css-in-js-utils-resolveArrayValue")["default"]}),98);
__d("PolarisFXAccountCenterStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__buI4XBgPKRM__JHASH__");b=h._("__JHASH__IhG6IEDvRHF__JHASH__");c=h._("__JHASH__j6RcJiR64m2__JHASH__");d=h._("__JHASH__XymQ6kfGzPB__JHASH__");e=h._("__JHASH__N0LG57sTHmM__JHASH__");f=h._("__JHASH__JxIeqdqANEr__JHASH__");var i=h._("__JHASH__EL0axImkaaX__JHASH__"),j=h._("__JHASH___zWiNawsGSc__JHASH__"),k=h._("__JHASH__wwdRalwJS8u__JHASH__"),l=h._("__JHASH__W5CnltWagSo__JHASH__"),m=h._("__JHASH__4MURzWo1mfx__JHASH__"),n=h._("__JHASH__1PENo_IyZJr__JHASH__"),o=h._("__JHASH__uHixieV-FQL__JHASH__"),p=h._("__JHASH__2Qm7AiPyePC__JHASH__");h=h._("__JHASH__oXgFN78Xuce__JHASH__");g.ACCOUNT_CENTER_DIALOG_TITLE=a;g.WATERMARK_FAMILY_APPS_LOGO_ALT=b;g.ACCOUNT_CENTER_DESCRIPTION=c;g.DISCLOSURE_PAGE_TITLE=d;g.ACCOUNT_CENTER_ALT_TEXT_LOCK=e;g.ACCOUNT_CENTER_ALT_TEXT_SHIELD=f;g.ACCOUNT_CENTER_ALT_TEXT_ADS=i;g.ACCOUNT_CENTER_ALT_TEXT_ADS_PAYMENTS=j;g.ACCOUNT_CENTER_DESCRIPTION_NEW_APP_IA=k;g.ACCOUNT_CENTER_SEE_MORE_TEXT=l;g.ACCOUNT_CENTER_PERSONAL_DETAILS_TEXT=m;g.ACCOUNT_CENTER_PASSWORD_AND_SECURITY_TEXT=n;g.ACCOUNT_CENTER_AD_PREFERENCES_TEXT=o;g.ACCOUNT_CENTER_AD_PREFERENCES_WITH_AFS_TEXT=p;g.ACCOUNT_CENTER_ADS_PAYMENTS_TEXT=h}),226);
__d("QuickPromotionNuxID",[],(function(a,b,c,d,e,f){a=Object.freeze({ANDROID_DIVEBAR_QP_DEPRECATED:1824,ANDROID_MESSENGER_BANNER_QP_DEPRECATED:3062,ANDROID_MESSENGER_DEPRE_LOCK:4745,ANDROID_MESSENGER_DEPRE_PRELOCK:4744,ANDROID_MESSENGER_DEPRE_WARM_UP:4743,ANDROID_MESSENGER_THREADVIEW_QP_DEPRECATED:3346,DELTOID3_ANNOUNCEMENTS_QP_DEPRECATED:4077,DEPRECATED_0:0,FACEBOOK_FOR_ANDROID_ANDROID_DATING_THREAD_VIEW_HEADER_PROMPT_QP_DEPRECATED:8399,FACEBOOK_FOR_ANDROID_HEALTH_BD_HUB_UNIT_QP:6747,FACEBOOK_FOR_IOS_HEALTH_BD_HUB_UNIT_QP:6748,FACEBOOK_MSITE_IOS_BOTTOM_POPUP_QP:6323,FACEBOOK_MULTI_PLATFORM_HEALTH_BD_HUB_UNIT_QP:6735,FACEBOOK_MULTI_PLATFORM_NT_PAGE_QUICK_PROMOTION_SURFACE_QP:5985,FACEBOOK_MULTI_PLATFORM_PAGES_LAUNCHPOINT_QP:9550,FACEBOOK_MULTI_PLATFORM_PORTAL_BOOKMARK_DISCOVER_QP:7287,FACEBOOK_MULTI_PLATFORM_QP_NUX_MIGRATE_QP:10780,FACEBOOK_WORDMARK_FOR_IOS_OLD:8257,INSTAGRAM_IOS_FEED_TOOLTIP_DEPRECATED:5199,INSTAGRAM_IOS_PROFILE_TOOL_TIP_DEPRECATED:4904,INSTAGRAM_MULTI_PLATFORM_STOREFRONT_QP:9259,INSTAGRAM_PROFILE_PAGE_TOOL_TIP_DEPRECATED:4880,INTERN_ADS_DELIVERY_DEBUGGER_MEGAPHONE_DEPRECATED:3659,IOS_DIVEBAR_QP_DEPRECATED:1823,IOS_MESSENGER_BANNER_QP_DEPRECATED:3037,IOS_MESSENGER_DEPRE_PHASES_QP:4839,IOS_MESSENGER_THREAD_VIEW_QP:3413,IOS_SEARCH_MODULE_PROMOTIONS:4793,MESSENGER_FOR_ANDROID_LIGHTSPEED_THREAD_LIST_QP:7299,MESSENGER_FOR_ANDROID_LIGHTSPEED_THREAD_VIEW_QP:7300,MESSENGER_FOR_IOS_SEARCH_NULL_STATE_SURFACE_QP:7154,MESSENGER_LIGHTSPEED_FOR_IOS_BOTTOM_SHEET_QP_DEPRECATED:10933,MESSENGER_LIGHTSPEED_FOR_IOS_CC_THREAD_VIEW_BOTTOMSHEET_QP_DEPRECATED:10915,OCULUS_CREATOR_SITE_LOGIN_INTERSTITIAL_QP:11703,OCULUS_DEV_MULTI_PLATFORM_LOGIN_INTERSTITIAL_QP:11702,OCULUS_META_WWW_AUTH_LOGIN_INTERSTITIAL_QP:11748,PIRANHA_BLACKLISTED_JOB_ID_QP_DEPRECATED:4688,PORTAL_APP_PROMO_CARD_QP_DEPRECATED:8186,PORTAL_IN_CALL_SCREEN_QP:7189,PORTAL_MOBILE_APP_HOME_QP:7157,PORTAL_MOBILE_APP_PORTAL_BISHOP_DISCOVER_QP:7286,PORTAL_TV_DISCOVERY_ROW_QP:8163,SNAPTU_NEWSFEED_QP_DEPRECATED:5562,SUPERFRAME_FOR_PORTAL_CARD_INTERSTITIAL_QP:6813,WEB_MESSENGER_BANNER_QP:3329,WORKPLACE_MSITE_JEWEL_INTERSTITIAL_QP:5270,WORKPLACE_WWW_JEWEL_BANNER_QP:5658,OCULUS_DEV_MULTI_PLATFORM_AUTH_META_INTERSTITIAL_QP:11841,OCULUS_DEV_MULTI_PLATFORM_BOTTOM_NAV_TOOLTIP_QP:11865,OCULUS_DEV_MULTI_PLATFORM_DEV_CENTER_ANNOUNCEMENTS_QP:11849,OCULUS_DEV_MULTI_PLATFORM_DEV_CENTER_CARD_QP:11908,OCULUS_DEV_MULTI_PLATFORM_DEV_ODH_PUSH_NOTIFICATION_QP:11847,OCULUS_DEV_MULTI_PLATFORM_DEV_WWW_FEATURED_VIDEO_QP:11842,OCULUS_DEV_MULTI_PLATFORM_DEV_WWW_INTERSTITIAL_QP:11910,OCULUS_DEV_MULTI_PLATFORM_DEV_WWW_PUSH_NOTIFICATION_QP:11850,OCULUS_DEV_MULTI_PLATFORM_DEV_WWW_TIP_CARD_QP:11844,OCULUS_DEV_MULTI_PLATFORM_DEVELOPER_ONBOARDING_QP:11907,OCULUS_DEV_MULTI_PLATFORM_DIALOG_QP:11853,OCULUS_DEV_MULTI_PLATFORM_EMAIL_NOTIFICATION_QP:11900,OCULUS_DEV_MULTI_PLATFORM_FEATURED_PACKAGES_QP:11845,OCULUS_DEV_MULTI_PLATFORM_GDPR_INTERSTITIAL_QP:11912,OCULUS_DEV_MULTI_PLATFORM_GUIDE_BAR_QP:11892,OCULUS_DEV_MULTI_PLATFORM_GUIDED_ACTIONS_QP:11918,OCULUS_DEV_MULTI_PLATFORM_HOME_INTERSTITIAL_QP:11854,OCULUS_DEV_MULTI_PLATFORM_HOME_TOOLTIP_QP:11864,OCULUS_DEV_MULTI_PLATFORM_HORIZON_INTERSTITIAL_QP:11866,OCULUS_DEV_MULTI_PLATFORM_HORIZON_MEGAPHONE_QP:11867,OCULUS_DEV_MULTI_PLATFORM_LIBRARY_MEGAPHONE_TEST_QP:11901,OCULUS_DEV_MULTI_PLATFORM_LIVINGROOM_TOOLTIP_QP:11856,OCULUS_DEV_MULTI_PLATFORM_LVINGROOM_SNACKBAR_QP:11855,OCULUS_DEV_MULTI_PLATFORM_MEDIA_STUDIO_LIBRARY_QP:11905,OCULUS_DEV_MULTI_PLATFORM_MEGAPHONE_STICKER_QP:11840,OCULUS_DEV_MULTI_PLATFORM_MOBILE_STORE_SALE_QP:11877,OCULUS_DEV_MULTI_PLATFORM_MODALDIALOG_QP:11914,OCULUS_DEV_MULTI_PLATFORM_MQDH_RELEASE_NOTES_QP:11843,OCULUS_DEV_MULTI_PLATFORM_NEWS_HIGHLIGHT_QP:11846,OCULUS_DEV_MULTI_PLATFORM_OCULUS_EXPLORE_ARTICLES_FOR_QUEST_QP:11872,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_GO_SURVEY_QP:11869,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_GO_TIP_QP:11870,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_MOBILE_HERO_QP:11871,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_QUEST_HERO_QP:11873,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_QUEST_MEGAPHONE_QP:11858,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_QUEST_NOTE_QP:11906,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_QUEST_PREPENDED_STORY_QP:11860,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_EXPLORE_QUEST_TIP_QP:11874,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_GO_GEAR_BOOSTING_QP:11868,OCULUS_DEV_MULTI_PLATFORM_OCULUS_HOME_STORE_QUEST_HERO_UNITS_QP:11909,OCULUS_DEV_MULTI_PLATFORM_OCULUS_LOGIN_INTERSTITIAL_QP:11839,OCULUS_DEV_MULTI_PLATFORM_OCULUS_MOBILE_STORE_NEW_AND_UPDATED_QP:11876,OCULUS_DEV_MULTI_PLATFORM_OCULUS_MOBILE_STORE_SPOTLIGHT_QP:11913,OCULUS_DEV_MULTI_PLATFORM_OCULUS_PROMOTION_ENGINE_QUEST_BUDGETED_FEED_QP:11857,OCULUS_DEV_MULTI_PLATFORM_OCULUS_PROMOTION_ENGINE_TWILIGHT_GO_STORE_SPOTLIGHT_QP:11886,OCULUS_DEV_MULTI_PLATFORM_OCULUS_PROMOTION_ENGINE_TWILIGHT_QUEST_BUDGETED_FEED_QP:11887,OCULUS_DEV_MULTI_PLATFORM_OCULUS_PROMOTION_ENGINE_TWILIGHT_QUEST_STORE_SPOTLIGHT_QP:11890,OCULUS_DEV_MULTI_PLATFORM_OCULUS_QUEST_HOME_MEDIA_TIP_QP:11859,OCULUS_DEV_MULTI_PLATFORM_OCULUS_QUEST_STORE_NEW_AND_UPDATED_QP:11878,OCULUS_DEV_MULTI_PLATFORM_OCULUS_QUEST_STORE_NEW_USER_SPOTLIGHT_QP:11911,OCULUS_DEV_MULTI_PLATFORM_OCULUS_QUEST_STORE_SPOTLIGHT_QP:11880,OCULUS_DEV_MULTI_PLATFORM_OCULUS_RIFT_STORE_NEW_AND_UPDATED_QP:11881,OCULUS_DEV_MULTI_PLATFORM_OCULUS_RIFT_STORE_RIFT_PICKS_QP:11882,OCULUS_DEV_MULTI_PLATFORM_OCULUS_SKYLINE_LANDING_PAGE_CAROUSEL_QP:11919,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_FEED_RELEASE_NOTE_QP:11917,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_GO_FEED_PROMO_QP:11884,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_GO_FEED_TIP_QP:11885,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_NOTIFICATIONS_GO_PROMOTIONS_QP:11904,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_QUEST_FEED_PROMO_QP:11920,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_QUEST_FEED_TIP_QP:11889,OCULUS_DEV_MULTI_PLATFORM_OCULUS_TWILIGHT_RIFT_FEED_PROMO_QP:11891,OCULUS_DEV_MULTI_PLATFORM_PRODUCTIVITY_SECTION_TIP_QP:11861,OCULUS_DEV_MULTI_PLATFORM_PROMOTION_ENGINE_QUEST_NEW_USER_VR_FEED_HERO_QP:11875,OCULUS_DEV_MULTI_PLATFORM_QUEST_AUI_TOOLTIP_QP:11893,OCULUS_DEV_MULTI_PLATFORM_QUEST_NEW_USER_TWILIGHT_FEED_HERO_QP:11888,OCULUS_DEV_MULTI_PLATFORM_QUEST_NOTIFICATION_QP:11903,OCULUS_DEV_MULTI_PLATFORM_QUEST_STORE_SALE_QP:11879,OCULUS_DEV_MULTI_PLATFORM_RAPID_FEEDBACK_QP:11848,OCULUS_DEV_MULTI_PLATFORM_RECOMMENDATION_BANNER_QP:11851,OCULUS_DEV_MULTI_PLATFORM_RIFT_STORE_SALE_QP:11915,OCULUS_DEV_MULTI_PLATFORM_RIFT_STORE_SPOTLIGHT_QP:11883,OCULUS_DEV_MULTI_PLATFORM_SAVED_ROUTES_RECOMMENDATION_QP:11852,OCULUS_DEV_MULTI_PLATFORM_SECURE_OCULUS_WEB_SETTINGS_INTERSTITIAL_QP:11894,OCULUS_DEV_MULTI_PLATFORM_SNACKBAR_QP:11898,OCULUS_DEV_MULTI_PLATFORM_SURVEY_QP:11862,OCULUS_DEV_MULTI_PLATFORM_TEST_SURFACE_QP:11895,OCULUS_DEV_MULTI_PLATFORM_TOAST_QP:11863,OCULUS_DEV_MULTI_PLATFORM_TWILIGHT_INTERSTITIAL_QP:11896,OCULUS_DEV_MULTI_PLATFORM_TWILIGHT_MEGAPHONE_QP:11897,OCULUS_DEV_MULTI_PLATFORM_TWILIGHT_PUSH_NOTIFICATION_QP:11916,OCULUS_DEV_MULTI_PLATFORM_TWILIGHT_TOOLTIP_QP:11899,WRIST_DEVICE_MULTI_PLATFORM_PUSH_NOTIFICATION_QP:11902,OCULUS_META_AUTH_WWW_FRLM_META_LOGIN_INTERSTITIAL_QP:12018,WHATSAPP_FOR_SMB_WEB_BUSINESS_HOME_CARD_QP:12015,OCULUS_META_ACCOUNTS_CENTER_WWW_META_LOGIN_INTERSTITIAL_QP:12014,OCULUS_META_QUEST_WWW_META_LOGIN_INTERSTITIAL_QP:12013,WHATSAPP_FOR_IOS_PAYMENTS_HOME_BANNERS_QP:11992,WHATSAPP_FOR_ANDROID_PAYMENTS_HOME_BANNERS_QP:11993,WHATSAPP_MULTI_PLATFORM_PAYMENTS_HOME_BANNERS_QP:11991,WHATSAPP_FOR_SMB_WEB_WHATSAPP_EDIT_PROFILE_BANNER_QP:11960,WHATSAPP_FOR_SMBA_WHATSAPP_EDIT_PROFILE_BANNER_QP:11962,WHATSAPP_FOR_SMBI_WHATSAPP_EDIT_PROFILE_BANNER_QP:11961,WHATSAPP_MULTI_PLATFORM_WHATSAPP_EDIT_PROFILE_BANNER_QP:11959,PAGES_MANAGER_FOR_ANDROID_TOOLTIP_QP:11939,PAGES_MANAGER_FOR_IOS_TOOLTIP_QP:11938,PAGES_MANAGER_MULTI_PLATFORM_TOOLTIP_QP:11940,OCULUS_META_WWW_OCULUS_SECURE_LOGIN_INTERSTITIAL_QP:11934,STORE_METAQUEST_INTERSTITIAL_QP:11932,STORE_METAQUEST_MULTI_PLATFORM_INTERSTITIAL_QP:11933,OCULUS_DEV_WWW_DEVELOPER_DASHBOARD_LEGAL_NOTICE_QP:11929,OCULUS_DEV_MULTI_PLATFORM_DEVELOPER_DASHBOARD_LEGAL_NOTICE_QP:11930,WEARABLE_APP_ANDROID_LOGIN_INTERSTITIAL_QP:11743,WEARABLE_APP_MULTI_PLATFORM_LOGIN_INTERSTITIAL_QP:11742,WEARABLE_APP_IOS_LOGIN_INTERSTITIAL_QP:11741,OCULUS_META_WWW_SPARK_LOGIN_INTERSTITIAL_QP:11750,OCULUS_META_WWW_HORIZON_LOGIN_INTERSTITIAL_QP:11749,OCULUS_TWILIGHT_IOS_LOGIN_INTERSTITIAL_QP:11739,OCULUS_MULTI_PLATFORM_TWILIGHT_LOGIN_INTERSTITIAL_QP:11736,OCULUS_TWILIGHT_ANDROID_LOGIN_INTERSTITIAL_QP:11735,WHATSAPP_MULTI_PLATFORM_NATIVE_ADS_LOADER_SCREEN_QP:11734,WHATSAPP_FOR_SMBA_NATIVE_ADS_LOADER_SCREEN_QP:11733,WHATSAPP_MULTI_PLATFORM_NATIVE_ADS_EXPLAINER_SCREEN_QP:11731,WHATSAPP_FOR_SMBA_NATIVE_ADS_EXPLAINER_SCREEN_QP:11732,OCULUS_DEV_WWW_LOGIN_INTERSTITIAL_QP:11727,WHATSAPP_MULTI_PLATFORM_WHATSAPP_NATIVE_ADS_NUX_SCREEN_QP:11722,WHATSAPP_FOR_SMBA_WHATSAPP_NATIVE_ADS_NUX_SCREEN_QP:11723,WHATSAPP_FOR_SMBI_WHATSAPP_NATIVE_ADS_NUX_SCREEN_QP:12005,OCULUS_WWW_LOGIN_INTERSTITIAL_QP:11720,ADS_EVENTS_MANAGER_MULTI_PLATFORM_DATASET_OVERVIEW_PAGE_GUIDANCE_CARD_QP:11719,ADS_EVENTS_MANAGER_WWW_DATASET_OVERVIEW_PAGE_GUIDANCE_CARD_QP:11718,OCULUS_MULTI_PLATFORM_META_LOGIN_INTERSTITIAL_QP:11708,OCULUS_META_WWW_LOGIN_INTERSTITIAL_QP:11717,FACEBOOK_MULTI_PLATFORM_COMMENTING_TIP_QP:11694,FACEBOOK_WWW_COMMENTING_TIP_QP:11693,FACEBOOK_MULTI_PLATFORM_FUNDRAISERS_HUB_MEGAPHONE_QP:11535,FACEBOOK_WWW_FUNDRAISERS_HUB_MEGAPHONE_QP:11537,FACEBOOK_MULTI_PLATFORM_BIRTHDAY_CENTER_MEGAPHONE_QP:11532,FACEBOOK_WWW_BIRTHDAY_CENTER_MEGAPHONE_QP:11533,OCULUS_TWILIGHT_TWILIGHT_VR_EXPLORE_ANNOUNCEMENTS_QP:11521,WHATSAPP_FOR_WEB_GROUPSBANNER_QP:11525,WHATSAPP_FOR_WEB_PROFILEBANNER_QP:11522,WRIST_DEVICE_PUSH_NOTIFICATION_QP:11520,OCULUS_DEV_MULTI_PLATFORM_TWILIGHT_VR_EXPLORE_ANNOUNCEMENTS_QP:11519,OCULUS_HOME_TWILIGHT_VR_EXPLORE_ANNOUNCEMENTS_QP:11518,WHATSAPP_FOR_ANDROID_PROFILE_QP_BANNER_SURFACE_QP:11515,WHATSAPP_FOR_IOS_PROFILE_QP_BANNER_SURFACE_QP:11516,WHATSAPP_MULTI_PLATFORM_PROFILE_QP_BANNER_SURFACE_QP:11517,WHATSAPP_FOR_SMBI_BUSINESS_HOME_CARD_QP:11507,WHATSAPP_FOR_SMBA_BUSINESS_HOME_CARD_QP:11506,FBLITE_MULTIPLE_LINES_TITLE_FOOTER_BANNER_QP:11505,MESSENGER_FOR_ANDROID_GAME_RECOMMENDATION_CHAT_ENTITY_QP:11501,MESSENGER_FOR_IOS_GAME_RECOMMENDATION_CHAT_ENTITY_QP:11499,MESSENGER_MULTI_PLATFORM_GAME_RECOMMENDATION_CHAT_ENTITY_QP:11500,WHATSAPP_MULTI_PLATFORM_BUSINESS_HOME_CARD_QP:11503,FACEBOOK_FOR_ANDROID_MIB_INBOX_TOOLTIP_QP:11491,FACEBOOK_FOR_IOS_MIB_INBOX_TOOLTIP_QP:11492,FACEBOOK_MULTI_PLATFORM_MIB_INBOX_TOOLTIP_QP:11490,INSTAGRAM_FOR_ANDROID_LOGIN_INTERSTITIAL_QP:11483,INSTAGRAM_FOR_IOS_LOGIN_INTERSTITIAL_QP:11484,INSTAGRAM_CARBON_LOGIN_INTERSTITIAL_QP:11740,INSTAGRAM_MULTI_PLATFORM_LOGIN_INTERSTITIAL_QP:11482,MESSENGER_FOR_IOS_LOGIN_INTERSTITIAL_QP:11481,MESSENGER_FOR_ANDROID_LOGIN_INTERSTITIAL_QP:11480,MESSENGER_MULTI_PLATFORM_LOGIN_INTERSTITIAL_QP:11479,WHATSAPP_FOR_SMB_WEB_WHATSAPP_SMB_WEB_CHATLIST_BANNER_QP:11478,AD_LIBRARY_WWW_AD_LIBRARY_QP:11477,AD_LIBRARY_MULTI_PLATFORM_AD_LIBRARY_QP:11538,WEARABLE_APP_MULTI_PLATFORM_MODAL_QP:11455,WEARABLE_APP_ANDROID_MODAL_QP:11454,FACEBOOK_FOR_ANDROID_MARKETPLACE_COMPOSER_BOTTOM_SHEET_QP:11443,FACEBOOK_FOR_IOS_MARKETPLACE_COMPOSER_BOTTOM_SHEET_QP:11444,FACEBOOK_MULTI_PLATFORM_MARKETPLACE_COMPOSER_BOTTOM_SHEET_QP:11442,FACEBOOK_FOR_ANDROID_CREATIVE_PLAYGROUND_UNIT_QP:11430,FACEBOOK_FOR_IOS_CREATIVE_PLAYGROUND_UNIT_QP:11431,FACEBOOK_MULTI_PLATFORM_CREATIVE_PLAYGROUND_UNIT_QP:11432,WHATSAPP_FOR_ANDROID_QPMULTIPLATFORMWHATSAPPGROUPSBANNERSURFACE_QP:11435,WHATSAPP_FOR_IOS_QPMULTIPLATFORMWHATSAPPGROUPSBANNERSURFACE_QP:11433,WHATSAPP_MULTI_PLATFORM_QPMULTIPLATFORMWHATSAPPGROUPSBANNERSURFACE_QP:11434,FACEBOOK_FOR_ANDROID_SELLING_ACTIVITY_FEED_UNIT_VIDEOS_UPSELL_QP:11440,FACEBOOK_FOR_IOS_SELLING_ACTIVITY_FEED_UNIT_VIDEOS_UPSELL_QP:11441,FACEBOOK_MULTI_PLATFORM_SELLING_ACTIVITY_FEED_UNIT_VIDEOS_UPSELL_QP:11439,WEARABLE_APP_MULTI_PLATFORM_MODAL_UPSELL_QP:11419,WEARABLE_APP_ANDROID_MODAL_UPSELL_QP:11418,FACEBOOK_FOR_ANDROID_REELS_VIEWER_FOOTER_QP:11415,FACEBOOK_FOR_IOS_REELS_VIEWER_FOOTER_QP:11416,FACEBOOK_MULTI_PLATFORM_REELS_VIEWER_FOOTER_QP:11417,FACEBOOK_FOR_ANDROID_ON_DEMAND_INTERSTITIAL_QP:11406,FACEBOOK_FOR_IOS_ON_DEMAND_INTERSTITIAL_QP:11407,FACEBOOK_MULTI_PLATFORM_ON_DEMAND_INTERSTITIAL_QP:11408,FACEBOOK_WWW_CONTEXTUAL_MESSAGE_QP:11366,FACEBOOK_FOR_IOS_COMMUNITY_MESSAGING_IN_BLUE_THREAD_VIEW_BANNER_QP:11367,MESSENGER_MULTI_PLATFORM_PRELOADS_DISCLAIMER_QP:11364,MESSENGER_FOR_ANDROID_PRELOADS_DISCLAIMER_QP:11365,COMMERCE_MANAGER_WWW_CATALOG_UI_QP:11320,FACEBOOK_WWW_COMMERCE_MANAGER_CATALOG_SETS_TAB_QP:11314,WEARABLE_APP_MULTI_PLATFORM_AR_BOTTOM_SHEET_QP:11305,WEARABLE_APP_IOS_AR_BOTTOM_SHEET_QP:11293,WEARABLE_APP_ANDROID_AR_BOTTOM_SHEET_QP:11294,OCULUS_DEV_MULTI_PLATFORM_MODAL_DIALOG_QP:11299,OCULUS_AUI_MODAL_DIALOG_QP:11300,MESSENGER_MULTI_PLATFORM_BUSINESS_CONVERSATION_THREAD_VIEW_QP:11297,MESSENGER_FOR_ANDROID_BUSINESS_CONVERSATION_THREAD_VIEW_QP:11298,MESSENGER_FOR_WEB_CM_CHANNEL_CHAT_TAB_THREAD_QP:11255,FACEBOOK_FOR_ANDROID_REELS_VDD_QP:11229,FACEBOOK_FOR_IOS_REELS_VDD_QP:11230,FACEBOOK_MULTI_PLATFORM_REELS_VDD_QP:11228,INSTAGRAM_MULTI_PLATFORM_BOTTOM_SHEET_QP:11223,INSTAGRAM_FOR_IOS_BOTTOM_SHEET_QP:11224,INSTAGRAM_FOR_ANDROID_BOTTOM_SHEET_QP:11383,FACEBOOK_MULTI_PLATFORM_FB4A_STORY_DUAL_CAMERA_DOT_QP:11173,FACEBOOK_FOR_ANDROID_FB4A_STORY_DUAL_CAMERA_DOT_QP:11172,FACEBOOK_FOR_ANDROID_MULTIPLE_LINES_TITLE_FOOTER_BANNER_QP:11213,FACEBOOK_FOR_IOS_MULTIPLE_LINES_TITLE_FOOTER_BANNER_QP:11214,FACEBOOK_MULTI_PLATFORM_MULTIPLE_LINES_TITLE_FOOTER_BANNER_QP:11186,FACEBOOK_FOR_IOS_FB_MESSENGER_INBOX_FOOTER_QP:12003,FACEBOOK_FOR_ANDROID_FB_MESSENGER_INBOX_FOOTER_QP:12002,FBLITE_FB_MESSENGER_INBOX_FOOTER_QP:12004,FACEBOOK_MULTI_PLATFORM_FB_MESSENGER_INBOX_FOOTER_QP:12001,FACEBOOK_MULTI_PLATFORM_PRELOADS_DISCLAIMER_DIALOG_QP:11163,FACEBOOK_FOR_ANDROID_PRELOADS_DISCLAIMER_DIALOG_QP:11164,FBLITE_NOTIFICATIONS_BANNER_QP:11119,FACEBOOK_FOR_ANDROID_GROUP_MALL_ENTITY_MENU_QP:11105,FACEBOOK_FOR_IOS_GROUP_MALL_ENTITY_MENU_QP:11107,FACEBOOK_MULTI_PLATFORM_GROUP_MALL_ENTITY_MENU_QP:11106,FACEBOOK_FOR_ANDROID_GROUP_CUSTOM_REACTIONS_DEFAULT_ENTRY_POINT_QP:11091,FACEBOOK_FOR_IOS_GROUP_CUSTOM_REACTIONS_DEFAULT_ENTRY_POINT_QP:11090,FACEBOOK_FOR_WWW_CUSTOM_REACTIONS_DEFAULT_ENTRY_POINT_QP:11089,MESSENGER_LIGHTSPEED_FOR_IOS_UNIVERSAL_SEARCH_NULLSTATE_QP:11034,FACEBOOK_WWW_CM_TAB_TOUR_POPOVER_QP:11027,ADS_EVENTS_MANAGER_WWW_OVERVIEW_PAGE_FEATURE_ONBOARDING_QP:11033,ADS_EVENTS_MANAGER_WWW_CC_EM_RULE_REQUIRED_FOR_CE_NUX_QP:11363,ADS_EVENTS_MANAGER_WWW_OFFLINE_CONSOLIDATION_UPSELL_QP:11394,WORKPLACE_FOR_WWW_TOOLTIP_QP:11037,WORKPLACE_FOR_IOS_TOOLTIP_QP:11009,WORKPLACE_MULTI_PLATFORM_TOOLTIP_QP:11008,WORKPLACE_FOR_ANDROID_TOOLTIP_QP:11007,WORKPLACE_FOR_WWW_NOTES_QP:11025,FACEBOOK_MULTI_PLATFORM_STORY_SHARE_TO_FEED_COMPOSER_EDUCATION_QP:10954,FACEBOOK_FOR_IOS_STORY_SHARE_TO_FEED_COMPOSER_EDUCATION_QP:10953,FACEBOOK_FOR_ANDROID_WATCH_FEED_CHAINING_QP:10986,FACEBOOK_FOR_IOS_WATCH_FEED_CHAINING_QP:10985,FACEBOOK_MULTI_PLATFORM_WATCH_FEED_CHAINING_QP:10987,FACEBOOK_FOR_ANDROID_NEWSFEED_VIDEO_CHAINING_QP:10983,FACEBOOK_FOR_IOS_NEWSFEED_VIDEO_CHAINING_QP:10984,FACEBOOK_MULTI_PLATFORM_NEWSFEED_VIDEO_CHAINING_QP:10982,FACEBOOK_FOR_ANDROID_CONTEXTUAL_MESSAGE_QP:10936,FACEBOOK_FOR_IOS_CONTEXTUAL_MESSAGE_QP:10934,FACEBOOK_MULTI_PLATFORM_CONTEXTUAL_MESSAGE_QP:10935,MESSENGER_FOR_ANDROID_MESSENGER_GUIDE_CHAT_ENTITY_QP:10944,MESSENGER_FOR_IOS_MESSENGER_GUIDE_CHAT_ENTITY_QP:10943,MESSENGER_MULTI_PLATFORM_MESSENGER_GUIDE_CHAT_ENTITY_QP:10945,FACEBOOK_FOR_WWW_COMPOSER_SPROUT_QP:10949,FACEBOOK_FOR_ANDROID_COMPOSER_SPROUT_QP:10910,FACEBOOK_FOR_IOS_COMPOSER_SPROUT_QP:10911,FACEBOOK_MULTI_PLATFORM_COMPOSER_SPROUT_QP:10912,IOS_INTERSTITIAL_QP:1817,ANDROID_INTERSTITIAL_QP:1818,IOS_FOOTER_QP:1819,ANDROID_FOOTER_QP:1820,IOS_NEWSFEED_MEGAPHONE_QP:1821,IOS_NEWSFEED_MEGAPHONE_PAD_QP:3596,ANDROID_NEWSFEED_MEGAPHONE_QP:1822,ANDROID_MESSAGES_INTERSTITIAL_QP:1957,IOS_MESSAGES_INTERSTITIAL_QP:2015,IOS_MSGR_INTERSTITIAL_QP:2400,ANDROID_MSGR_INTERSTITIAL_QP:2415,IOS_WEBVIEW_BANNER_QP:2423,IOS_INTERSTITIAL_PAD_QP:2766,IOS_MSGR_INTERSTITIAL_PAD_QP:2776,IOS_NEWSFEED_QP:2796,ANDROID_NEWSFEED_QP:2798,FBLITE_NEWSFEED_QP:4347,IOS_PAGES_MANAGER_INTERSTITIAL_QP:2840,IOS_PAGES_MANAGER_MEGAPHONE_QP:2942,ANDROID_PAGES_MANAGER_INTERSTITIAL_QP:2897,IOS_SEARCH_NULL_STATE_MEGAPHONE_QP:2989,IOS_MESSENGER_NEW_THREAD_NUX:4219,ANDROID_MESSENGER_THREAD_LIST_QP:3543,ANDROID_MESSENGER_THREAD_VIEW_QP:3545,ANDROID_MESSENGER_CALL_TAB_QP:4828,MESSENGER_FOR_ANDROID_FRIENDS_TAB_MEGAPHONE_QP:7615,IOS_IPAD_SEARCH_NULL_STATE_MEGAPHONE_QP:3182,ANDROID_SEARCH_NULL_STATE_MEGAPHONE_QP:3191,ANDROID_SEARCH_BAR_TOOLTIP:3877,IOS_FEED_PYMK_QP:3221,ANDROID_FEED_PYMK_QP:3279,IOS_TOAST_FOOTER_QP:3225,ANDROID_TOAST_FOOTER_QP:3248,WORKPLACE_ANDROID_NEWSFEED_MEGAPHONE_QP:3332,IOS_MEDIA_SERP_MEGAPHONE_QP:3738,IOS_EVENTS_GUESTLIST_QP:3583,MESSENGER_FOR_ANDROID_ARMADILLO_THREAD_VIEW_QP:10438,MESSENGER_FOR_ANDROID_MSYS_THREAD_LIST_SURFACE_QP:11155,MESSENGER_FOR_ANDROID_MSYS_INTERSTITIAL_SURFACE_QP:11152,MESSENGER_FOR_ANDROID_MSYS_THREAD_VIEW_SURFACE_QP:11154,MESSENGER_FOR_ANDROID_ME_SETTINGS_BANNER_QP:10508,FACEBOOK_MULTI_PLATFORM_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10536,FACEBOOK_FOR_IOS_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10550,FACEBOOK_FOR_ANDROID_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10551,INSTAGRAM_MULTI_PLATFORM_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10538,INSTAGRAM_FOR_IOS_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10552,INSTAGRAM_FOR_ANDROID_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10553,MESSENGER_FOR_IOS_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10539,MESSENGER_FOR_ANDROID_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:10540,FACEBOOK_MULTI_PLATFORM_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10670,FACEBOOK_FOR_IOS_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10679,FACEBOOK_FOR_ANDROID_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_ON_FB4A_QP:10680,INSTAGRAM_FOR_IOS_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10681,INSTAGRAM_FOR_ANDROID_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10682,INSTAGRAM_MULTI_PLATFORM_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10683,FACEBOOK_WWW_DIGITAL_COLLECTIBLES_TAB_MEGAPHONE_QP:10710,CROSS_PLATFORM_MEGAPHONE_QP:3231,CROSS_PLATFORM_NEWSFEED_QP:3337,CROSS_PLATFORM_FOOTER_QP:4937,CROSS_PLATFORM_INTERSTITIAL_QP:4938,WORKPLACE_IOS_MEGAPHONE_QP:3335,WORKPLACE_IOS_INTERSTITIAL:3321,WORKPLACE_IOS_NEWSFEED_UNIT_QP:5361,WORKPLACE_MULTI_PLATFORM_FEED_UNIT_QP:5471,WORKPLACE_WWW_FEED_UNIT_QP:5529,WORKPLACE_WWW_ONBOARDING_CARD_QP:7424,WORKPLACE_MSITE_FEED_UNIT_QP:5678,FACEBOOK_FOR_WINDOWS_MEGAPHONE_QP:3840,FACEBOOK_FOR_MAC_MEGAPHONE_QP:3841,FACEBOOK_FOR_WINDOWS_FEED_UNIT_QP:4210,FACEBOOK_FOR_MAC_FEED_UNIT_QP:4211,FACEBOOK_FOR_WINPHONE_NEWSFEED_MEGAPHONE_QP:6956,FACEBOOK_MULTI_PLATFORM_OCULUS_PERMALINK_QP:6864,FACEBOOK_FOR_ANDROID_OCULUS_PERMALINK_QP:6869,FACEBOOK_FOR_IOS_OCULUS_PERMALINK_QP:6870,FACEBOOK_WWW_OCULUS_PERMALINK_QP:6910,FACEBOOK_MULTI_PLATFORM_UNDER_STORY_AUTO_PIVOT_QP:8671,FACEBOOK_FOR_ANDROID_AUTO_PIVOT_QP:8721,FACEBOOK_FOR_IOS_AUTO_PIVOT_QP:8722,FACEBOOK_MULTI_PLATFORM_EVENTS_TAB_QP:9780,FACEBOOK_FOR_IOS_EVENTS_TAB_QP:9823,FACEBOOK_FOR_ANDROID_EVENTS_TAB_QP:9824,M_NEWSFEED_MEGAPHONE_QP:2201,M_LOGIN_BANNER_QP:2275,M_FULLPAGE_INTERSTITIAL_QP:2289,M_JEWEL_INTERSTITIAL_QP:3382,M_JEWEL_FOOTER_QP:2443,M_JEWEL_HEADER_QP:2764,M_FOOTER_QP:2762,M_NEWSFEED_QP:2797,M_PHOTO_OPEN_INTERSTITIAL_QP:2946,M_SEARCH_NULL_STATE_MEGAPHONE_QP:3052,FACEBOOK_MSITE_MODAL_DIALOG_QP:5669,FACEBOOK_MSITE_BROWSER_PERMISSION_QP:5783,FBLITE_MEGAPHONE_QP:3306,FBLITE_INTERSTITIAL_QP:4661,FBLITE_FOOTER_QP:5570,FBLITE_MESSENGER_MEGAPHONE_QP:10711,FBLITE_THREAD_VIEW_BANNER_QP:10923,MESSENGER_LITE_BURRITO_INBOX_QP_MEGAPHONE_QP:9537,WWW_NEWSFEED_MEGAPHONE_QP:2646,WWW_NEWSFEED_QP:3081,WWW_INTERSTITIAL_QP:3394,FACEBOOK_WWW_RHC_QP:6113,WORKPLACE_WWW_RHC_QP:6493,FACEBOOK_MULTI_PLATFORM_EGO_CUSTOM_SURFACE_QP:6452,FACEBOOK_WWW_CUSTOM_EGO_QP:6489,PP_MEGAPHONE_QP:2852,IORG_APP_MEGAPHONE_QP:3064,IORG_WEB_MEGAPHONE_QP:3075,IORG_WEB_INTERSITIAL:4890,INTERNET_ORG_WEB_FBSV2_MEGAPHONE_FOR_LOGGED_OUT_USERS_QP:7275,INTERN_QP_DASH_QP:3294,INTERN_INTERNAL_TOOL_QP:3957,MESSENGER_FOR_WEB_CALL_VIEW_QP:6846,FACEBOOK_WWW_INBOX_THREAD_LIST_BANNER_QP:8783,MESSENGER_FOR_WEB_BUSINESS_SUPPORT_FOLDER_THREAD_LIST_BANNER_QP:10951,FACEBOOK_WWW_PUBLIC_CHAT_NUX_QP:10975,MESSENGER_FOR_WEB_CM_CHANNEL_THREAD_VIEW_QP:10999,WWW_JEWEL_QP:3565,FACEBOOK_WWW_SIDEBAR_CONTACTS_BUCKET_QP:7834,WORKPLACE_WWW_MEGAPHONE_QP:3934,MSITE_BOOKMARKS:3969,FACEBOOK_FOR_IOS_BOOKMARK_QP:5424,FACEBOOK_FOR_ANDROID_BOOKMARK_QP:5429,FACEBOOK_MULTI_PLATFORM_BOOKMARK_QP:5431,FBLITE_BOOKMARK_PROMO_FBLITE_QP:7431,FACEBOOK_WWW_BOOKMARK_QP:8249,MSITE_QP_BANNER:4011,DAILY_DIALOGUE_LIGHTWEIGHT:4014,WWW_DAILY_DIALOGUE_LIGHTWEIGHT:4019,IOS_DAILY_DIALOGUE_LIGHTWEIGHT:4025,ANDROID_DAILY_DIALOGUE_LIGHTWEIGHT:4026,MSITE_DAILY_DIALOG_LIGHTWEIGHT:4121,FBLITE_LIGHTWEIGHT:4725,MSITE_DIODE_ROADBLOCK_QP:4061,WORKPLACE_ANDROID_INTERSTITIAL_QP:4090,WORKPLACE_ANDROID_TAB_INTERSTITIAL:4099,WORKPLACE_ANDROID_NEWSFEED_QP:4590,WORKPLACE_IOS_TAB_INTERSTITIAL_QP:4100,WORKPLACE_WWW_INTERSTITIAL_QP:4437,WORKPLACE_MSITE_MEGAPHONE_QP:4727,WORKPLACE_IOS_GROUP_FEED_FOOTER:4788,WORKPLACE_CROSS_PLATFORM_MEGAPHONE:5012,WORKPLACE_MSITE_INTERSTITIAL_QP:5261,WORKPLACE_MSITE_STICKY_HEADER_BANNER_QP:5272,WORKPLACE_ANDROID_PROFILE_QP:5422,WORKPLACE_WWW_GROUPS_TOP_OF_MALL_QP:7972,WORKPLACE_MULTI_PLATFORM_INTERSTITIAL_QP:8104,WORKPLACE_MULTI_PLATFORM_TOP_OF_GROUP_MALL_QP:7973,WORKPLACE_FOR_ANDROID_TOP_OF_GROUP_MALL_QP:7946,WORKPLACE_FOR_IOS_TOP_OF_GROUP_MALL_QP:7971,IOS_WORKCHAT_INTERSTITIAL_QP:4143,WORKCHAT_FOR_IOS_WORKSPEED_INBOX_BANNER_QP:7746,WORKPLACE_FOR_IOS_THREAD_LIST_CREATE_FOLDER_BUTTON_TOOLTIP_QP:11990,WORKPLACE_MULTI_PLATFORM_THREAD_LIST_CREATE_FOLDER_BUTTON_TOOLTIP_QP:11989,ANDROID_WORKCHAT_INTERSTITIAL_QP:4144,WORKCHAT_FOR_WWW_BANNER_QP:5497,WORKCHAT_FOR_WWW_THREAD_LIST_QP:8179,ANDROID_WORKCHAT_THREAD_LIST_QP:5411,ANDROID_WORKCHAT_CALL_LOG_SURFACE_QP:5579,PROFILE_TIMELINE_QP:4218,PROFILE_TIMELINE_IOS_QP:4221,PROFILE_TIMELINE_ANDROID_QP:4222,PROFILE_TIMELINE_DESKTOP_QP:4555,PROFILE_DISCOVERY_MULTI_PLATFORM_QP:5753,PROFILE_DISCOVERY_IOS_QP:5752,PROFILE_DISCOVERY_ANDROID_QP:5754,FACEBOOK_MULTI_PLATFORM_PROFILE_PROMPTS_QP:5770,FACEBOOK_FOR_IOS_PROFILE_PROMPTS_QP:5772,FACEBOOK_FOR_ANDROID_PROFILE_PROMPTS_QP:5773,FACEBOOK_FOR_ANDROID_GEMSTONE_QP:6820,FACEBOOK_FOR_IOS_GEMSTONE_QP:6821,FACEBOOK_MULTI_PLATFORM_GEMSTONE_QP:6822,FACEBOOK_FOR_ANDROID_DATING_MESSAGE_INBOX_QP:8417,FACEBOOK_FOR_ANDROID_DATING_MESSAGE_THREAD_QP:8441,FACEBOOK_FOR_IOS_DATING_MESSAGE_INBOX_QP:8474,FACEBOOK_FOR_IOS_DATING_MESSAGE_THREAD_QP:8730,FACEBOOK_FOR_IOS_MEET_NEW_FRIENDS_PROMPT_QP:7095,FACEBOOK_FOR_ANDROID_MEET_NEW_FRIENDS_PROMPT_QP:7097,FACEBOOK_MULTI_PLATFORM_MEET_NEW_FRIENDS_PROMPT_QP:7099,M_LOGGEDOUT_INTERSTITIAL:4247,WWW_TOPIC_FEEDS_MEGAPHONE_QP:4256,MSITE_QP_STICKY_HEADER:4383,MESSENGER_RECENT_THREAD_LIST_QP:4408,IOS_SEARCH_RESULT_MODULES_QP:4640,IOS_REACT_NATIVE_MEGAPHONE_QP:4682,ANDROID_REACT_NATIVE_MEGAPHONE_QP:4683,PAGES_MANAGER_FOR_IOS_REACT_NATIVE_MEGAPHONE_QP:5407,PAGES_MANAGER_FOR_ANDROID_REACT_NATIVE_MEGAPHONE_QP:5408,IOS_SAVE_DASHBOARD_MEGAPHONE_QP:4711,WWW_SAVE_DASHBOARD_MEGAPHONE_QP:4724,FB4A_SAVED_DASH_MEGAPHONE_QP:4726,OCULUS_TEST_SURFACE_QP:4867,OCULUS_PE_HOME_GO_EXPLORE_QP:6291,OCULUS_PE_TWILIGHT_GO_NOTIFICATIONS_QP:6706,OCULUS_PE_HOME_QUEST_STORE_HERO_QP:6731,OCULUS_PE_HOME_QUEST_EXPLORE_HERO_QP:6768,OCULUS_HOME_PE_QUEST_EXPLORE_MEGAPHONE_QP:7928,OCULUS_PE_HOME_QUEST_EXPLORE_TIP_QP:6782,OCULUS_PE_HOME_MOBILE_EXPLORE_HERO_QP:6944,OCULUS_PE_SKYLINE_LP_QP:6834,OCULUS_PE_TWILIGHT_QUEST_FEED_PROMO_QP:6893,OCULUS_PE_TWILIGHT_QUEST_FEED_TIP_QP:6894,OCULUS_PE_TWILIGHT_GO_STORE_SPOTLIGHT_QP:6953,OCULUS_PE_TWILIGHT_QUEST_STORE_SPOTLIGHT_QP:6965,OCULUS_PE_TWILIGHT_RIFT_FEED_PROMO_QP:6962,OCULUS_PE_TWILIGHT_GO_FEED_TIP_QP:6963,OCULUS_PE_HOME_GO_EXPLORE_TIP_QP:6964,OCULUS_PE_HOME_GO_EXPLORE_SURVEY_QP:7048,OCULUS_PE_TWILIGHT_GO_FEED_PROMO_QP:7119,OCULUS_PE_RIFT_STORE_SPOTLIGHT:7121,OCULUS_PE_QUEST_STORE_SPOTLIGHT:7122,OCULUS_PE_MOBILE_STORE_SPOTLIGHT:7123,OCULUS_PE_QUEST_STORE_NEW_AND_UPDATED:7402,OCULUS_PE_RIFT_STORE_NEW_AND_UPDATED:7407,OCULUS_PE_MOBILE_STORE_NEW_AND_UPDATED:7408,OCULUS_PE_RIFT_STORE_RIFT_PICKS:7409,OCULUS_PE_HOME_QUEST_EXPLORE_NOTE_QP:7276,OCULUS_PE_HOME_QUEST_EXPLORE_ARTICLES_QP:7353,OCULUS_PE_TWILIGHT_FEED_RELEASE_NOTE_QP:7404,OCULUS_PE_QUEST_STORE_SALE_QP:7492,OCULUS_PE_RIFT_STORE_SALE_QP:7493,OCULUS_PE_MOBILE_STORE_SALE_QP:7494,OCULUS_HOME_PE_QUEST_BUDGETED_FEED_QP:7395,OCULUS_PE_TWILIGHT_QUEST_BUDGETED_FEED_QP:7509,OCULUS_PE_HOME_QUEST_VR_FEED_HERO_NEW_USER_QP:7579,OCULUS_PE_HOME_QUEST_STORE_SPOTLIGHT_NEW_USER_QP:7580,OCULUS_PE_TWILIGHT_QUEST_FEED_HERO_NEW_USER_QP:7592,OCULUS_HOME_PE_QUEST_MEDIA_FEED_TIP_QP:8560,OCULUS_HOME_PRODUCTIVITY_SECTION_TIP_QP:9892,OCULUS_HOME_INTERSTITIAL_QP:5259,OCULUS_HOME_TOAST_QP:6386,OCULUS_HOME_TOOLTIP_QP:5628,OCULUS_HOME_GDPR_INTERSTITIAL_QP:5643,OCULUS_HOME_SURVEY_QP:6939,OCULUS_HOME_GUIDED_ACTIONS_QP:7777,OCULUS_HOME_PREPENDED_STORY_QP:8226,OCULUS_HORIZON_MEGAPHONE_QP:4916,OCULUS_HORIZON_BOTTOM_NAV_TOOLTIP_QP:5237,OCULUS_HORIZON_INTERSTITIAL_QP:5611,OCULUS_QUEST_AUI_TOOLTIP_QP:7790,OCULUS_QUEST_AUI_GUIDE_BAR:8529,OCULUS_AUI_LIBRARY_TEST_MEGAPHONE_QP:11036,OCULUS_CREATOR_SITE_MEDIA_STUDIO_LIBRARY_QP:8592,OCULUS_HOME_LIVINGROOM_TOOLTIP_QP:8646,OCULUS_HOME_LIVINGROOM_SNACKBAR_QP:8651,OCULUS_AUTH_META_WWW_INTERSTITIAL_QP:11390,OCULUS_SECURE_WWW_SETTINGS_INTERSTITIAL_QP:11391,OCULUS_TWILIGHT_PUSH_NOTIFICATION_QP:6927,OCULUS_WWW_OFFSITE_EMAIL_NOTIFICATION_QP:6836,OCULUS_AUI_QUEST_NOTIFICATION_QP:7988,OCULUS_TWILIGHT_MEGAPHONE_STICKER_QP:11445,OCULUS_TWILIGHT_MEGAPHONE_QP:7049,OCULUS_TWILIGHT_TOOLTIP_QP:7733,OCULUS_TWILIGHT_SNACKBAR_QP:8090,OCULUS_TWILIGHT_INTERSTITIAL_QP:8275,OCULUS_TWILIGHT_DIALOG_QP:8286,OCULUS_FITNESS_TRACKER_DIALOG_QP:10431,OCULUS_DEV_MULTI_PLATFORM_SEV_ALERT_QP:8867,OCULUS_DEV_ODH_SEV_ALERT_QP:8996,OCULUS_DEV_WWW_SEV_ALERT_QP:8998,OCULUS_DEV_MULTI_PLATFORM_TIP_CARD_QP:8892,OCULUS_DEV_MULTI_PLATFORM_ODH_RELEASE_NOTES_QP:8961,OCULUS_DEV_MULTI_PLATFORM_FEATURED_VIDEO_QP:8967,OCULUS_DEV_ODH_NEWS_HIGHLIGHT_QP:9103,OCULUS_DEV_WWW_PUSH_NOTIFICATION_QP:9201,OCULUS_DEV_ODH_PUSH_NOTIFICATION_QP:9210,OCULUS_DEV_WWW_DEV_CENTER_CARD_QP:9453,OCULUS_DEV_WWW_INTERSTITIAL_QP:9483,OCULUS_DEV_WWW_DEV_CENTER_ANNOUNCEMENTS_QP:9595,OCULUS_DEV_WWW_RECOMMENDATION_BANNER_QP:9622,OCULUS_DEV_ODH_RAPID_FEEDBACK_QP:9725,OCULUS_DEV_WWW_DEVELOPER_ROCKSTEADY_ONBOARDING_QP:9805,OCULUS_DEV_WWW_SAVED_ROUTES_RECOMMENDATION_QP:10068,OCULUS_DEV_ODH_FEATURED_PACKAGES_QP:10110,OCULUS_DEV_MULTI_PLATFORM_NUX_QP:10203,OCULUS_DEV_WWW_DEVELOPER_CENTER_NUX_QP:10197,OCULUS_DEV_ODH_ODH_NUX_QP:10204,OCULUS_DEV_ODH_DEVELOPER_AWARENESS_BANNER_QP:11988,OCULUS_DEV_MULTI_PLATFORM_DEVELOPER_AWARENESS_BANNER_QP:11987,INSTAGRAM_MULTI_PLATFORM_TOOLTIP_QP:5857,INSTAGRAM_FOR_IOS_TOOLTIP_QP:5829,INSTAGRAM_FOR_ANDROID_TOOLTIP_QP:5858,INSTAGRAM_FOR_WEB_TOOLTIP_QP:5906,INSTAGRAM_MULTI_PLATFORM_MEGAPHONE_QP:5805,INSTAGRAM_IOS_MEGAPHONE:4669,INSTAGRAM_ANDROID_MEGAPHONE:4715,INSTAGRAM_WEB_MEGAPHONE:5095,INSTAGRAM_LOGGED_OUT_WEB_MEGAPHONE_DEPRECATED:6428,INSTAGRAM_CARBON_MEGAPHONE_QP:8123,INSTAGRAM_MULTI_PLATFORM_INTERSTITIAL_QP:5806,INSTAGRAM_FOR_ANDROID_INTERSTITIAL_QP:5734,INSTAGRAM_FOR_IOS_INTERSTITIAL_QP:5736,INSTAGRAM_FOR_WEB_INTERSTITIAL_QP:5780,INSTAGRAM_CARBON_INTERSTITIAL_QP:8151,INSTAGRAM_FOR_WEB_DIRECT_INTERSTITIAL_QP:11459,INSTAGRAM_FOR_ANDROID_STORIES_QP:6319,INSTAGRAM_FOR_IOS_STORIES_QP:6320,INSTAGRAM_MULTI_PLATFORM_STORIES_QP:6321,INSTAGRAM_FOR_IOS_NETEGO_FEED_UNIT:6787,INSTAGRAM_FOR_ANDROID_NETEGO_FEED_UNIT:6994,INSTAGRAM_MULTI_PLATFORM_NETEGO_FEED_UNIT:6995,INSTAGRAM_FOR_WEB_NETEGO_FEED_UNIT_QP:8637,INSTAGRAM_MULTI_PLATFORM_NETEGO_STORY_QP:7706,INSTAGRAM_FOR_IOS_NETEGO_STORY_ON_IOS_QP:7707,INSTAGRAM_FOR_ANDROID_NETEGO_STORY_ON_ANDROID_QP:7708,INSTAGRAM_MULTI_PLATFORM_REELS_UNIT_QP:11174,INSTAGRAM_FOR_IOS_REELS_UNIT_ON_IOS_QP:11179,INSTAGRAM_FOR_ANDROID_REELS_UNIT_ON_ANDROID_QP:11180,INSTAGRAM_FOR_IOS_MESSAGE_FOOTER_QP:8035,INSTAGRAM_FOR_ANDROID_MESSAGE_FOOTER_QP:8034,INSTAGRAM_MULTI_PLATFORM_MESSAGE_FOOTER_QP:8036,INSTAGRAM_MULTI_PLATFORM_SERVICE_STORE_FRONT_QP:9050,INSTAGRAM_FOR_IOS_SERVICE_STORE_FRONT_QP:9061,INSTAGRAM_FOR_ANDROID_SERVICE_STORE_FRONT_QP:9062,INSTAGRAM_FOR_ANDROID_CALL_END_QP:9282,INSTAGRAM_MULTI_PLATFORM_CALL_END_QP:9286,INSTAGRAM_FOR_IOS_CALL_END_QP:9287,INSTAGRAM_MULTI_PLATFORM_REELS_MIDCARD_QP:10656,INSTAGRAM_FOR_ANDROID_REELS_MIDCARD_QP:10671,BARCELONA_MULTI_PLATFORM_MEGAPHONE_QP:11450,BARCELONA_IOS_MEGAPHONE:11453,BARCELONA_ANDROID_MEGAPHONE:11451,BARCELONA_WEB_MEGAPHONE:11452,BARCELONA_FOR_ANDROID_PERMALINK_QP:12039,BARCELONA_FOR_IOS_PERMALINK_QP:12038,BARCELONA_MULTI_PLATFORM_PERMALINK_QP:12037,IOS_CAMERA_SYSTEM_QP:5079,ANDROID_CAMERA_SYSTEM_QP:5080,FBLITE_CAMERA_SYSTEM_QP:5808,CROSS_PLATFORM_CAMERA_SYSTEM_QP:5083,MESSENGER_FOR_ANDROID_STORY_PROMOTION_QP:6063,MESSENGER_FOR_IOS_STORY_PROMOTION_QP:6177,MESSENGER_FOR_IOS_THREAD_LIST_QP:7025,MESSENGER_FOR_IOS_THREAD_VIEW_QP:6985,MESSENGER_FOR_IOS_INTERSTITIAL_QP:8764,MESSENGER_FOR_IOS_ARMADILLO_THREAD_TOP_BANNER_QP:10152,MESSENGER_LIGHTSPEED_FOR_IOS_FRIENDS_TAB_HEADER_QP:7555,MESSENGER_FOR_WEB_INTERSTITIAL_LIGHTSPEED_QP:8879,MESSENGER_FOR_ANDROID_CHAT_ENTITY_QP:10694,MESSENGER_LIGHTSPEED_FOR_IOS_CHAT_ENTITY_QP:10660,MESSENGER_MULTI_PLATFORM_CHAT_ENTITY_QP:10693,FACEBOOK_WWW_MESSAGING_JEWEL_BANNER_QP:8439,FACEBOOK_WWW_FACEBOOK_CHAT_TAB_BANNER_QP:8888,FACEBOOK_WWW_END_CALL_INTERSTITIAL_QP:8603,FACEBOOK_MULTI_PLATFORM_NOTIFICATION_QP:5480,FACEBOOK_FOR_IOS_JEWEL_NOTIFICATION_QP:5481,FACEBOOK_FOR_ANDROID_JEWEL_NOTIFICATION_QP:5482,FACEBOOK_WWW_JEWEL_NOTIFICATION_QP:5483,FACEBOOK_MSITE_JEWEL_NOTIFICATION_QP:5484,FBLITE_JEWEL_NOTIFICATION_QP:6244,FACEBOOK_FOR_IOS_NOTIFICATIONS_BANNER_QP:9069,FACEBOOK_MULTI_PLATFORM_NOTIFICATIONS_TAB_MEGAPHONE_QP:9090,FACEBOOK_FOR_ANDROID_NOTIFICATIONS_BANNER_QP:10313,FACEBOOK_MULTI_PLATFORM_MARKETPLACE_NOTIFICATION_QP_DEPRECATED:6226,FACEBOOK_FOR_IOS_MARKETPLACE_NOTIFICATION_QP_DEPRECATED:6227,FACEBOOK_WWW_OFFSITE_EMAIL_NOTIFICATION_QP:5674,FACEBOOK_WWW_OFFSITE_SMS_NOTIFICATION_QP:6395,WORKPLACE_MULTI_PLATFORM_NOTIFICATION_QP:6292,WORKPLACE_WWW_JEWEL_NOTIFICATION_QP:6293,WORKPLACE_FOR_ANDROID_JEWEL_NOTIFICATION_QP:6295,WORKPLACE_FOR_IOS_JEWEL_NOTIFICATION_QP:6296,WORKPLACE_MSITE_JEWEL_NOTIFICATION_QP:6297,WORKPLACE_WWW_EMAIL_NOTIFICATION_QP:6334,INSTAGRAM_MULTI_PLATFORM_PUSH_NOTIFICATION_QP:6751,INSTAGRAM_FOR_IOS_PUSH_NOTIFICATION_QP:6752,INSTAGRAM_FOR_ANDROID_PUSH_NOTIFICATION_QP:6753,INSTAGRAM_FOR_WEB_PUSH_NOTIFICATION_QP:6754,INSTAGRAM_OFFSITE_EMAIL_NOTIFICATION_QP:7039,INSTAGRAM_MULTI_PLATFORM_ACTIVITY_FEED_NOTIFICATION_QP:7356,INSTAGRAM_FOR_IOS_ACTIVITY_FEED_NOTIFICATION_QP:7357,INSTAGRAM_FOR_ANDROID_ACTIVITY_FEED_NOTIFICATION_QP:7358,INSTAGRAM_MULTI_PLATFORM_INSTAGRAM_INLINE_SURVEY_QP:7215,INSTAGRAM_FOR_ANDROID_INSTAGRAM_INLINE_SURVEY_QP:7256,INSTAGRAM_FOR_IOS_INSTAGRAM_INLINE_SURVEY_QP:7257,INSTAGRAM_MULTI_PLATFORM_IG_MULTI_PLATFORM_REELS_QUALITY_SURVEY_QP:8044,INSTAGRAM_FOR_IOS_IG_IOS_REELS_QUALITY_SURVEY_QP:8045,INSTAGRAM_FOR_ANDROID_IG_ANDROID_REELS_QUALITY_SURVEY_QP:8046,INSTAGRAM_MULTI_PLATFORM_INSTAGRAM_BOTTOM_SHEET_SURVEY_QP:8836,INSTAGRAM_FOR_IOS_INSTAGRAM_BOTTOM_SHEET_SURVEY_QP:8837,INSTAGRAM_FOR_ANDROID_INSTAGRAM_BOTTOM_SHEET_SURVEY_QP:8838,INSTAGRAM_MULTI_PLATFORM_INSTAGRAM_NOTIFICATION_SURVEY_QP:8989,INSTAGRAM_FOR_IOS_INSTAGRAM_NOTIFICATION_SURVEY_QP:8987,INSTAGRAM_FOR_ANDROID_INSTAGRAM_NOTIFICATION_SURVEY_QP:8988,FACEBOOK_MULTI_PLATFORM_GROUPS_MALL_QP_DEPRECATED:5541,FACEBOOK_FOR_ANDROID_GROUPS_MALL_QP:5542,FACEBOOK_FOR_IOS_GROUPS_MALL_QP:5543,FACEBOOK_WWW_GROUPS_MALL_QP:5544,FACEBOOK_MSITE_COMMENT_BREADCRUMB_QP:5653,FACEBOOK_MSITE_PHOTO_BREADCRUMB_QP:5599,FACEBOOK_MULTI_PLATFORM_GROUPS_TAB_V1_QP:6730,FACEBOOK_FOR_ANDROID_GROUPS_TAB_V1_QP:6726,FACEBOOK_FOR_IOS_GROUPS_TAB_V1_QP:6729,FACEBOOK_MULTI_PLATFORM_GROUPS_TAB_TOP_UNITS_QP:9732,FACEBOOK_FOR_IOS_GROUPS_TAB_TOP_UNITS_QP:9734,FACEBOOK_FOR_ANDROID_GROUPS_TAB_TOP_UNITS_QP:9735,FBLITE_GROUPS_TAB_TOP_UNITS_QP:10261,FACEBOOK_FOR_ANDROID_VIDEO_HOME_MEGAPHONE_QP:5764,FACEBOOK_FOR_ANDROID_WATCH_TAB_QP:9150,FACEBOOK_FOR_IOS_WATCH_TAB_QP:9154,FACEBOOK_MULTI_PLATFORM_WATCH_TAB_QP:9155,FACEBOOK_WWW_PAGE_ADMIN_HOME_QP:5869,FACEBOOK_MULTI_PLATFORM_FEED_UNIT_CTA_QP:5962,FACEBOOK_FOR_IOS_FEED_UNIT_CTA_QP:5966,FACEBOOK_FOR_ANDROID_FEED_UNIT_CTA_QP:5967,FBLITE_FEED_UNIT_CTA_QP:6123,FACEBOOK_MULTI_PLATFORM_PAGE_RECOMMENDATIONS_NUX_QP:6247,FACEBOOK_FOR_ANDROID_PAGE_RECOMMENDATIONS_NUX_QP:6259,FACEBOOK_FOR_IOS_PAGE_RECOMMENDATIONS_NUX_QP:6260,FACEBOOK_WWW_SURFACE_PAGE_RECOMMENDATIONS_NUX_QP:6285,FACEBOOK_FOR_ANDROID_STORY_BUCKET_QP:6254,FACEBOOK_FOR_IOS_STORY_BUCKET_QP:6255,FACEBOOK_WWW_STORY_BUCKET_QP:6256,FACEBOOK_MSITE_STORY_BUCKET_QP:6257,FACEBOOK_MULTI_PLATFORM_STORY_BUCKET_QP:6258,FBLITE_STORY_BUCKET_QP:8434,FACEBOOK_MULTI_PLATFORM_ADD_TO_STORY_BUCKET_QP:10529,FACEBOOK_FOR_ANDROID_ADD_TO_STORY_BUCKET_QP:10532,FACEBOOK_FOR_IOS_ADD_TO_STORY_BUCKET_QP:10533,FACEBOOK_MULTI_PLATFORM_NOTIF_AUTOPLAY_ADD_TO_STORY_QP:10559,FACEBOOK_FOR_IOS_NOTIF_AUTOPLAY_ADD_TO_STORY_QP:10560,FACEBOOK_FOR_ANDROID_NOTIF_AUTOPLAY_ADD_TO_STORY_QP:10561,FACEBOOK_MULTI_PLATFORM_STORIES_END_CARD_QP:8058,FACEBOOK_FOR_IOS_STORIES_END_CARD_QP:8059,FACEBOOK_FOR_ANDROID_STORIES_END_CARD_QP:8060,FACEBOOK_MULTI_PLATFORM_INTEREST_CATEGORY_NT_VIEW_FOOTER_QP_DEPRECATED:6245,FACEBOOK_FOR_ANDROID_INTEREST_CATEGORY_NT_VIEW_FOOTER_QP_DEPRECATED:6249,FACEBOOK_FOR_IOS_INTEREST_CATEGORY_NT_VIEW_FOOTER_QP_DEPRECATED:6250,FACEBOOK_FOR_IOS_PROFILE_CONTEXTUAL_QP:6288,FACEBOOK_FOR_IOS_MESSENGER_KIDS_PROFILE_QP:6444,FACEBOOK_FOR_ANDROID_MESSENGER_KIDS_PROFILE_QP:6445,FACEBOOK_FOR_ANDROID_WATCHLIST_MEGAPHONE_QP:6472,FACEBOOK_MSITE_KAIOS_FEED_UNIT_QP:6494,FACEBOOK_MSITE_KAIOS_MEGAPHONE_QP:6589,FACEBOOK_FOR_ANDROID_TAB_PROMOTION_QP:6737,FACEBOOK_FOR_IOS_TAB_PROMOTION_QP:6749,FACEBOOK_FOR_ANDROID_TAB_BAR_EXTENSION_QP:9054,PORTAL_HOME_CARD_QP:8202,PORTAL_MULTI_PLATFORM_HOME_CARD_QP:11931,PORTAL_PORTAL_DEVICE_DISCOVER_QP:7280,PROTAL_MULTI_PLATFORM_DEVICE_DISCOVER_QP:12046,FACEBOOK_FOR_ANDROID_TOMBSTONE_FOLLOWUP_UNIT_QP:6843,FACEBOOK_FOR_IOS_TOMBSTONE_FOLLOWUP_UNIT_QP:6844,FACEBOOK_MULTI_PLATFORM_TOMBSTONE_FOLLOWUP_UNIT_QP:6847,FACEBOOK_FOR_IOS_IN_CONTEXT_UNIT_OF_COMMENT_PERMALINK_QP:6971,FACEBOOK_FOR_ANDROID_IN_CONTEXT_UNIT_OF_COMMENT_PERMALINK_QP:6972,FACEBOOK_MULTI_PLATFORM_IN_CONTEXT_UNIT_OF_COMMENT_PERMALINK_QP:6973,MESSENGER_FOR_ANDROID_DISCOVER_TAB_QP:7004,MESSENGER_FOR_IOS_DISCOVER_TAB_QP:7023,MESSENGER_FOR_ANDROID_SEARCH_NULL_STATE_SURFACE_QP:7190,MESSENGER_FOR_ANDROID_NULL_STATE_SEARCH_HEADER_BANNER_QP:8978,FACEBOOK_FOR_ANDROID_END_OF_FEED:7252,FACEBOOK_FOR_ANDROID_SURVEY_BOTTOM_SHEET_QP:7057,FACEBOOK_WWW_GROUPS_RIGHT_HAND_COLUMN_QP:7242,FACEBOOK_MULTI_PLATFORM_GROUPS_TOP_OF_MALL_QP:7326,FACEBOOK_WWW_GROUPS_TOP_OF_MALL_QP:7340,FACEBOOK_IOS_GROUPS_TOP_OF_MALL_QP:7371,FACEBOOK_ANDROID_GROUPS_TOP_OF_MALL_QP:7383,FBLITE_GROUPS_TOP_OF_MALL_QP:7527,FACEBOOK_FOR_IOS_CREATION_HOMEBASE_QP:7450,FACEBOOK_MULTI_PLATFORM_CREATION_HOMEBASE_QP:11131,FACEBOOK_FOR_ANDROID_CREATION_HOMEBASE_QP:11130,FACEBOOK_MULTI_PLATFORM_PLAZA_QP:7479,FACEBOOK_FOR_ANDROID_PLAZA_QP:7507,FACEBOOK_FOR_IOS_PLAZA_QP:7508,FACEBOOK_FOR_ANDROID_FAN_SUBSCRIPTIONS_SUPPORTER_HUB_QP_QP:7571,FACEBOOK_FOR_IOS_FAN_SUBSCRIPTIONS_SUPPORTER_HUB_QP_QP:7572,FACEBOOK_MULTI_PLATFORM_FAN_SUBSCRIPTIONS_SUPPORTER_HUB_QP_QP:7573,FACEBOOK_FOR_ANDROID_NEARBYFRIENDS_QP:7602,FACEBOOK_MULTI_PLATFORM_NEARBY_FRIENDS_INLINE_SECTION_QP:7791,FACEBOOK_FOR_IOS_NEARBY_FRIENDS_INLINE_SECTION_QP:7786,FACEBOOK_FOR_ANDROID_NEARBY_FRIENDS_INLINE_SECTION_QP:7797,FACEBOOK_MULTI_PLATFORM_COMMUNITY_QP:7693,FACEBOOK_FOR_ANDROID_COMMUNITY_QP:7704,FACEBOOK_FOR_IOS_COMMUNITY_QP:7705,FBLITE_COMMUNITY_QP:7749,FACEBOOK_WWW_COMMUNITIES_QP:7923,FACEBOOK_MSITE_COMMUNITY_QP:7750,FACEBOOK_WWW_COMMUNITIES_TAB_IN_MESSENGER_JEWEL_QP:10713,FACEBOOK_MULTI_PLATFORM_GROUP_PENDING_POSTS_QUEUE_QP:11048,FACEBOOK_WWW_GROUP_PENDING_POSTS_QUEUE_QP:11068,FACEBOOK_MULTI_PLATFORM_SPAM_FOLDER_FOR_GROUP_ADMINS_QP:11062,FACEBOOK_FOR_ANDROID_SPAM_FOLDER_FOR_GROUP_ADMINS_QP:11063,FACEBOOK_FOR_IOS_SPAM_FOLDER_FOR_GROUP_ADMINS_QP:11064,FACEBOOK_WWW_SPAM_FOLDER_FOR_GROUP_ADMINS_QP:11070,FBLITE_SPAM_FOLDER_FOR_GROUP_ADMINS_QP:11071,FACEBOOK_MULTI_PLATFORM_PROFILE_PLUS_QP:9639,FACEBOOK_WWW_PROFILE_PLUS_QP:9641,FACEBOOK_FOR_IOS_PROFILE_PLUS_QP:9642,FACEBOOK_FOR_ANDROID_PROFILE_PLUS_QP:9644,FBLITE_PROFILE_PLUS_QP:9702,FACEBOOK_MULTI_PLATFORM_HASHTAG_DEEP_DIVE_QP:7930,FACEBOOK_FOR_IOS_HASHTAG_DEEP_DIVE_QP:7954,FACEBOOK_FOR_ANDROID_HASHTAG_DEEP_DIVE_QP:7955,FACEBOOK_WWW_HASHTAG_DEEP_DIVE_QP:8185,FACEBOOK_MULTI_PLATFORM_ROOMS_TRAY_CARD_QP:7998,FACEBOOK_FOR_IOS_ROOMS_TRAY_CARD_QP:7999,FACEBOOK_FOR_ANDROID_ROOMS_TRAY_CARD_QP:8e3,FACEBOOK_WWW_ROOMS_TRAY_CARD_QP:8001,FBLITE_ROOMS_TRAY_CARD_QP:8002,MESSENGER_DESKTOP_THREADS_LIST_QP:7703,FACEBOOK_MULTI_PLATFORM_MP_BILLBOARD_QP:10636,FACEBOOK_FOR_IOS_MP_BILLBOARD_FOR_IOS_QP:10651,FACEBOOK_FOR_ANDROID_MP_BILLBOARD_FOR_ANDROID_QP:10652,FACEBOOK_FOR_ANDROID_WORDMARK_QP:8421,FACEBOOK_FOR_IOS_WORDMARK_QP:8944,FACEBOOK_FOR_IOS_BIRTHDAY_STORY_SUNSET_QP:8332,FACEBOOK_FOR_ANDROID_BIRTHDAY_STORY_SUNSET_QP:8333,FACEBOOK_MULTI_PLATFORM_VOYAGER_NULLSTATE_QP:8378,FACEBOOK_FOR_IOS_VOYAGER_NULLSTATE_QP:8383,FACEBOOK_FOR_ANDROID_VOYAGER_NULLSTATE_QP:8384,FACEBOOK_FOR_IOS_COMPOSER_TOOLTIP_QP:8419,FACEBOOK_FOR_ANDROID_COMPOSER_TOOLTIP_QP:8435,FACEBOOK_MULTI_PLATFORM_COMPOSER_TOOLTIP_QP:8457,FACEBOOK_WWW_COMPOSER_TOOLTIP_QP:8951,FACEBOOK_FOR_IOS_FB_AI_GENEREATED_STICKERS_COMMENTS_NUX_BOTTOM_SHEET_QP:12e3,FACEBOOK_FOR_ANDROID_FB_AI_GENEREATED_STICKERS_COMMENTS_NUX_BOTTOM_SHEET_QP:11999,FACEBOOK_MULTI_PLATFORM_FB_AI_GENEREATED_STICKERS_COMMENTS_NUX_BOTTOM_SHEET_QP:11998,INSTAGRAM_MULTI_PLATFORM_NEW_REELS_QP:8481,INSTAGRAM_FOR_IOS_NEW_REELS_QP:8494,INSTAGRAM_FOR_ANDROID_NEW_REELS_QP:8495,MESSENGER_FOR_ANDROID_RTC_PEEK_PROMOTION_QP:8470,MESSENGER_LIGHTSPEED_FOR_IOS_RTC_PEEK_PROMOTION_QP:8502,INSTAGRAM_MULTI_PLATFORM_INSTAGRAM_EXPLORE_SURVEY_QP:8779,INSTAGRAM_FOR_IOS_INSTAGRAM_EXPLORE_SURVEY_QP:8780,INSTAGRAM_FOR_ANDROID_INSTAGRAM_EXPLORE_SURVEY_QP:8781,INSTAGRAM_FOR_ANDROID_CREATOR_EXPERIENCE_EDUCATION_NUX_QP:11983,INSTAGRAM_FOR_IOS_CREATOR_EXPERIENCE_EDUCATION_NUX_QP:11984,INSTAGRAM_MULTI_PLATFORM_CREATOR_EXPERIENCE_EDUCATION_NUX_QP:11982,WHATSAPP_FOR_IOS_STATUS_QP:9310,WHATSAPP_FOR_ANDROID_STATUS_QP:9311,WHATSAPP_FOR_WEB_STATUS_QP:9312,WHATSAPP_FOR_KAIOS_STATUS_QP:9313,WHATSAPP_MULTI_PLATFORM_STATUS_QP:9315,WHATSAPP_FOR_SMBA_STATUS_QP:10090,WHATSAPP_FOR_SMBI_STATUS_QP:10091,WHATSAPP_FOR_ANDROID_SURVEY_MESSAGE_QP:10418,WHATSAPP_FOR_IOS_SURVEY_MESSAGE_QP:10419,WHATSAPP_MULTI_PLATFORM_SURVEY_MESSAGE_QP:10420,WHATSAPP_FOR_SMBI_SURVEY_MESSAGE_QP:10661,WHATSAPP_FOR_SMBA_SURVEY_MESSAGE_QP:10662,WHATSAPP_FOR_IOS_CHAT_PSA_QP:10733,WHATSAPP_FOR_SMBI_CHAT_PSA_QP:10734,WHATSAPP_FOR_ANDROID_CHAT_PSA_QP:10735,WHATSAPP_FOR_SMBA_CHAT_PSA_QP:10736,WHATSAPP_MULTI_PLATFORM_CHAT_PSA_QP:10737,WHATSAPP_MULTI_PLATFORM_WA_INTRO_SHEETS_QP:11135,WHATSAPP_FOR_IOS_WA_INTRO_SHEETS_IOS_QP:11136,WHATSAPP_FOR_ANDROID_WA_INTRO_SHEETS_ANDROID_QP:11137,WHATSAPP_FOR_WEB_WA_INTRO_SHEETS_WEB_QP:11138,WHATSAPP_FOR_SMBA_WA_INTRO_SHEETS_SMBA_QP:11139,WHATSAPP_FOR_SMBI_WA_INTRO_SHEETS_SMBI_QP:11140,WHATSAPP_FOR_IOS_WA_BANNER_IOS_QP:11113,WHATSAPP_FOR_ANDROID_WA_BANNER_ANDROID_QP:11114,WHATSAPP_FOR_WEB_WA_BANNER_WEB_QP:11115,WHATSAPP_FOR_SMBA_WA_BANNER_SMBA_QP:11116,WHATSAPP_FOR_SMBI_WA_BANNER_SMBI_QP:11117,WHATSAPP_MULTI_PLATFORM_WA_BANNER_MULTIPLATFORM_QP:11118,WHATSAPP_FOR_ANDROID_CLIENT_PUSH_NOTIFICATION_QP:11389,WHATSAPP_FOR_IOS_CLIENT_PUSH_NOTIFICATION_QP:11387,WHATSAPP_MULTI_PLATFORM_CLIENT_PUSH_NOTIFICATION_QP:11388,WHATSAPP_FOR_SMBA_WHATSAPP_NATIVE_ADS_FB_LOGGED_IN_CONSENT_SCREEN_QP:12026,WHATSAPP_MULTI_PLATFORM_WHATSAPP_NATIVE_ADS_FB_LOGGED_IN_CONSENT_SCREEN_QP:12025,WHATSAPP_FOR_SMBA_WHATSAPP_NATIVE_ADS_FB_WEB_LOGIN_CONSENT_SCREEN_QP:12028,WHATSAPP_MULTI_PLATFORM_WHATSAPP_NATIVE_ADS_FB_WEB_LOGIN_CONSENT_SCREEN_QP:12027,WHATSAPP_FOR_SMBA_WHATSAPP_NATIVE_ADS_WA_AD_ACCOUNT_EMAIL_SUBMIT_SCREEN_QP:12030,WHATSAPP_MULTI_PLATFORM_WHATSAPP_NATIVE_ADS_WA_AD_ACCOUNT_EMAIL_SUBMIT_SCREEN_QP:12029,WHATSAPP_FOR_SMBA_PUSH_NOTIFICATION_PSA_QP:11239,WHATSAPP_FOR_SMBI_PUSH_NOTIFICATION_PSA_QP:11240,WHATSAPP_FOR_ANDROID_PUSH_NOTIFICATION_PSA_QP:11231,WHATSAPP_FOR_IOS_PUSH_NOTIFICATION_PSA_QP:11233,WHATSAPP_MULTI_PLATFORM_PUSH_NOTIFICATION_PSA_QP:11232,WHATSAPP_MULTI_PLATFORM_SMB_BUSINESS_HOME_BANNER_QP:11250,WHATSAPP_FOR_SMBA_SMB_BUSINESS_HOME_BANNER_QP:11249,WHATSAPP_FOR_SMBI_SMB_BUSINESS_HOME_BANNER_QP:11251,WHATSAPP_FOR_SMBA_SMB_IN_CHAT_CARD_QP:12068,WHATSAPP_FOR_SMBI_SMB_IN_CHAT_CARD_QP:12066,WHATSAPP_FOR_SMB_WEB_SMB_IN_CHAT_CARD_QP:12067,WHATSAPP_MULTI_PLATFORM_SMB_IN_CHAT_CARD_QP:12065,FACEBOOK_MULTI_PLATFORM_TAB_RANKING_QP:8869,FACEBOOK_FOR_IOS_TAB_RANKING_QP:8895,FACEBOOK_FOR_ANDROID_TAB_RANKING_QP:8896,FBLITE_TAB_RANKING_QP:10227,FACEBOOK_WWW_TAB_RANKING_QP:10228,INSTAGRAM_FOR_IOS_FLOATING_BANNER_QP:8971,INSTAGRAM_FOR_ANDROID_FLOATING_BANNER_QP:8972,INSTAGRAM_MULTI_PLATFORM_FLOATING_BANNER_QP:8973,INSTAGRAM_FOR_IOS_EXPLORE_2X2_QP:9661,INSTAGRAM_FOR_ANDROID_EXPLORE_2X2_QP:9775,INSTAGRAM_MULTI_PLATFORM_EXPLORE_2X2_QP:9776,INSTAGRAM_MULTI_PLATFORM_RTC_PEEK_PROMOTION_QP:9650,INSTAGRAM_FOR_IOS_RTC_PEEK_PROMOTION_QP:9651,INSTAGRAM_FOR_ANDROID_RTC_PEEK_PROMOTION_QP:9643,FACEBOOK_MULTI_PLATFORM_SETTINGS_MEGAPHONE_QP:9265,FACEBOOK_FOR_IOS_SETTINGS_MEGAPHONE_QP:9318,FACEBOOK_FOR_ANDROID_SETTINGS_MEGAPHONE_QP:9319,FBLITE_SETTINGS_MEGAPHONE_QP:9320,FACEBOOK_MSITE_SETTINGS_MEGAPHONE_QP:9321,FACEBOOK_WWW_SETTINGS_MEGAPHONE_QP:10524,FACEBOOK_MULTI_PLATFORM_AP_PLUS_FEED_UNIT_QP:9575,FACEBOOK_FOR_IOS_AP_PLUS_FEED_UNIT_QP:9576,FACEBOOK_FOR_ANDROID_AP_PLUS_FEED_UNIT_QP:9577,FACEBOOK_WWW_AP_FEED_UNIT_QP:10500,INSTAGRAM_FOR_IOS_ACCOUNT_STATUS_HOME_QP:9698,INSTAGRAM_FOR_ANDROID_ACCOUNT_STATUS_HOME_QP:9699,INSTAGRAM_MULTI_PLATFORM_ACCOUNT_STATUS_HOME_QP:9700,MESSENGER_FOR_ANDROID_COMMUNITY_CHANNEL_LIST_BANNER_QP:9821,MESSENGER_FOR_IOS_COMMUNITY_CHANNEL_LIST_BANNER_QP:9829,MESSENGER_FOR_ANDROID_CM_CHANNEL_THREAD_VIEW_QP:10206,MESSENGER_LIGHTSPEED_FOR_IOS_CM_CHANNEL_THREAD_VIEW_QP:10226,MESSENGER_DESKTOP_COMMUNITY_MESSAGING_QP:10695,FACEBOOK_WWW_MESSENGER_COMMUNITY_MESSAGING_QP:10706,MESSENGER_FOR_ANDROID_BOTTOMSHEET_QP:10896,WEARABLE_APP_ANDROID_PUSH_NOTIFICATION_QP:10388,WEARABLE_APP_IOS_PUSH_NOTIFICATION_QP:10436,WEARABLE_APP_MULTI_PLATFORM_PUSH_NOTIFICATION_QP:10402,WEARABLE_APP_IOS_INTERNAL_TEST_MEGAPHONE_SURFACE_QP:10577,WEARABLE_APP_ANDROID_INTERNAL_TEST_INTERSTITIAL_SURFACE_QP:10582,WEARABLE_APP_ANDROID_MWA_HOME_BOTTOM_SHEET_QP:11981,WEARABLE_APP_IOS_MWA_HOME_BOTTOM_SHEET_QP:11980,WEARABLE_APP_MULTI_PLATFORM_MWA_HOME_BOTTOM_SHEET_QP:11979,WEARABLE_APP_IOS_AR_MWA_ALERT_HUB_IOS_QP:12022,WEARABLE_APP_MULTI_PLATFORM_AR_MWA_ALERT_HUB_IOS_QP:12021,WEARABLE_APP_ANDROID_AR_MWA_ALERT_HUB_IOS_QP:12061,WEARABLE_APP_ANDROID_HOME_CARD_ITEM_QP:12076,WEARABLE_APP_IOS_HOME_CARD_ITEM_QP:12075,WEARABLE_APP_MULTI_PLATFORM_HOME_CARD_ITEM_QP:12074,FBLITE_SEARCH_GLYPH_QP:10375,FACEBOOK_MULTI_PLATFORM_TOOLTIP_NUX_QP:10628,FACEBOOK_FOR_IOS_TOOLTIP_QP:10495,FACEBOOK_FOR_ANDROID_TOOLTIP_NUX_QP:10502,FACEBOOK_WWW_TOOLTIP_QP:10707,FACEBOOK_MULTI_PLATFORM_BLOKS_TOOLTIP_QP:10643,FACEBOOK_FOR_IOS_BLOKS_TOOLTIP_QP:10642,FACEBOOK_FOR_ANDROID_BLOKS_TOOLTIP_QP:10641,FACEBOOK_FOR_IOS_REACT_NATIVE_TOOLTIP_QP:10721,FACEBOOK_FOR_ANDROID_REACT_NATIVE_TOOLTIP_QP:10722,FACEBOOK_MULTI_PLATFORM_REACT_NATIVE_TOOLTIP_QP:10724,FBLITE_TOOLTIP_QP:10653,FACEBOOK_FOR_ANDROID_DIALOG_QP:10492,FACEBOOK_FOR_IOS_DIALOG_QP:10487,FACEBOOK_FOR_ANDROID_BOTTOM_SHEET_QP:10548,FACEBOOK_FOR_IOS_BOTTOM_SHEET_QP:10664,FACEBOOK_MULTI_PLATFORM_BOTTOM_SHEET_QP:10665,FBLITE_BOTTOM_SHEET_QP:10690,WORKPLACE_FOR_IOS_BOTTOM_SHEET_QP:11060,WORKPLACE_MULTI_PLATFORM_BOTTOM_SHEET_QP:11061,FACEBOOK_MULTI_PLATFORM_AFFILIATE_CREATOR_SHOP_MANAGEMENT_POP_UP_DIALOG_QP:10543,FACEBOOK_MULTI_PLATFORM_ACSM_MEGAPHONE_QP:10547,FACEBOOK_WWW_ACSM_MEGAPHONE_QP:10554,FACEBOOK_WWW_AFFILIATE_CREATOR_SHOP_MANAGEMENT_POP_UP_DIALOG_QP:10556,FACEBOOK_FOR_ANDROID_MIB_INBOX_BANNER_QP:10555,FACEBOOK_FOR_IOS_INBOX_BANNER_QP:10557,FACEBOOK_FOR_ANDROID_MIB_THREAD_VIEW_BANNER_QP:10578,FACEBOOK_FOR_IOS_MIB_THREADVIEW_BANNER_QP:10576,FACEBOOK_FOR_IOS_MIB_INTERSTITIAL_QP:10962,FACEBOOK_FOR_ANDROID_MIB_INTERSTITIAL_QP:10991,FACEBOOK_WWW_COMMUNITY_MESSAGING_QP:10601,FACEBOOK_MULTI_PLATFORM_COMMUNITY_MESSAGING_QP:10606,FACEBOOK_FOR_ANDROID_COMMUNITY_MESSAGING_QP:10615,FACEBOOK_FOR_IOS_COMMUNITY_MESSAGING_QP:10616,FACEBOOK_MULTI_PLATFORM_GAMING_DESTINATION_WELCOME_MAT_QP:10645,FACEBOOK_FOR_IOS_GAMING_DESTINATION_WELCOME_MAT_IOS_QP:10657,FACEBOOK_FOR_ANDROID_GAMING_DESTINATION_WELCOME_MAT_ANDROID_QP:10658,FACEBOOK_MSITE_GAMING_DESTINATION_WELCOME_MAT_QP:10692,FACEBOOK_MULTI_PLATFORM_GAMING_IN_FEED_UNIT_QP:10676,FACEBOOK_FOR_ANDROID_GAMING_IN_FEED_UNIT_QP:10677,FACEBOOK_FOR_IOS_GAMING_IN_FEED_UNIT_QP:10678,FACEBOOK_MSITE_GAMING_IN_FEED_UNIT_QP:10714,FACEBOOK_MULTI_PLATFORM_LOGIN_INTERSTITIAL_QP:11041,FACEBOOK_FOR_ANDROID_LOGIN_INTERSTITIAL_QP:11042,FACEBOOK_FOR_IOS_LOGIN_INTERSTITIAL_QP:11043,FACEBOOK_WWW_LOGIN_INTERSTITIAL_QP:11493,FACEBOOK_MSITE_LOGIN_INTERSTITIAL_QP:11494,FBLITE_LOGIN_INTERSTITIAL_QP:11495,MESSENGER_DESKTOP_LOGIN_INTERSTITIAL_QP:11496,MESSENGER_FOR_WEB_LOGIN_INTERSTITIAL_QP:11498,INSTAGRAM_FOR_WEB_LOGIN_INTERSTITIAL_QP:11497,FACEBOOK_FOR_IOS_FEED_SUBNAV_QP:12052,FACEBOOK_FOR_ANDROID_FEED_SUBNAV_QP:12051,FACEBOOK_MULTI_PLATFORM_FEED_SUBNAV_QP:12050,QPSURFACE_FACEBOOK_FOR_IOS_NDX:10790,QPSURFACE_FACEBOOK_FOR_ANDROID_NDX:10836,FACEBOOK_WWW_CREATOR_STUDIO_BANNER_QP:10723,FACEBOOK_FOR_IOS_CONTEXTUAL_TRAY_UNIT_QP:10675,FACEBOOK_FOR_ANDROID_CONTEXTUAL_TRAY_UNIT_QP:10897,FACEBOOK_MULTI_PLATFORM_CONTEXTUAL_TRAY_UNIT_QP:10898,FACEBOOK_FOR_IOS_CREATORCOMPOSERSHAREBROADCASTCHANNELSETTINGNUX_QP:12049,FACEBOOK_FOR_ANDROID_CREATORCOMPOSERSHAREBROADCASTCHANNELSETTINGNUX_QP:12048,FACEBOOK_MULTI_PLATFORM_CREATORCOMPOSERSHAREBROADCASTCHANNELSETTINGNUX_QP:12047,FACEBOOK_FOR_ANDROID_AB_TESTING_NUX_BOTTOM_SHEET_QP:12070,FACEBOOK_FOR_IOS_AB_TESTING_NUX_BOTTOM_SHEET_QP:12071,FACEBOOK_MULTI_PLATFORM_AB_TESTING_NUX_BOTTOM_SHEET_QP:12069,FACEBOOK_FOR_ANDROID_SERVERDRIVENPROMPT_QP:11227,FACEBOOK_FOR_IOS_SERVERDRIVENPROMPT_QP:11225,FACEBOOK_MULTI_PLATFORM_SERVERDRIVENPROMPT_QP:11226,FACEBOOK_WWW_SERVER_DRIVEN_PROMPT_QP:11264,FBLITE_SERVER_DRIVEN_PROMPT_QP:11265,FACEBOOK_MSITE_SERVER_DRIVEN_PROMPT_QP:11266,WORKPLACE_FOR_ANDROID_SERVER_DRIVEN_PROMPT_QP:11267,WORKPLACE_FOR_IOS_SERVER_DRIVEN_PROMPT_QP:11268,WORKPLACE_MULTI_PLATFORM_SERVER_DRIVEN_PROMPT_QP:11269,MESSENGER_MULTI_PLATFORM_SERVER_DRIVEN_PROMPT_QP:11270,MESSENGER_FOR_ANDROID_SERVER_DRIVEN_PROMPT_QP:11271,MESSENGER_LIGHTSPEED_FOR_IOS_SERVER_DRIVEN_PROMPT_QP:11272,ADS_EVENTS_MANAGER_MULTI_PLATFORM_CC_EM_RULE_REQUIRED_FOR_CE_NUX_QP:11560,ADS_EVENTS_MANAGER_MULTI_PLATFORM_OFFLINE_CONSOLIDATION_UPSELL_QP:11561,ADS_EVENTS_MANAGER_MULTI_PLATFORM_OVERVIEW_PAGE_FEATURE_ONBOARDING_QP:11565,FACEBOOK_MULTI_PLATFORM_SEARCH_BAR_TOOLTIP:11564,FACEBOOK_MULTI_PLATFORM_WATCHLIST_MEGAPHONE_QP:11577,FACEBOOK_MULTI_PLATFORM_VIDEO_HOME_MEGAPHONE_QP:11572,FACEBOOK_MULTI_PLATFORM_TAB_BAR_EXTENSION_QP:11573,FACEBOOK_MULTI_PLATFORM_SURVEY_BOTTOM_SHEET_QP:11574,FACEBOOK_MULTI_PLATFORM_END_OF_FEED:11576,FACEBOOK_MULTI_PLATFORM_NEARBYFRIENDS_QP:11575,FACEBOOK_MULTI_PLATFORM_COMMUNITY_MESSAGING_IN_BLUE_THREAD_VIEW_BANNER_QP:11585,FACEBOOK_MULTI_PLATFORM_PROFILE_CONTEXTUAL_QP:11587,FACEBOOK_MULTI_PLATFORM_CREATOR_STUDIO_BANNER_QP:11586,FACEBOOK_MULTI_PLATFORM_COMMUNITIES_TAB_IN_MESSENGER_JEWEL_QP:11578,FACEBOOK_MULTI_PLATFORM_COMMERCE_MANAGER_CATALOG_SETS_TAB_QP:11579,FACEBOOK_MULTI_PLATFORM_CM_TAB_TOUR_POPOVER_QP:11580,FACEBOOK_MULTI_PLATFORM_PHOTO_BREADCRUMB_QP:11581,FACEBOOK_MULTI_PLATFORM_MODAL_DIALOG_QP:11582,FACEBOOK_MULTI_PLATFORM_COMMENT_BREADCRUMB_QP:11583,FACEBOOK_MULTI_PLATFORM_BROWSER_PERMISSION_QP:11584,FACEBOOK_MULTI_PLATFORM_END_CALL_INTERSTITIAL_QP:11589,FACEBOOK_MULTI_PLATFORM_BOOKMARKS:11599,FACEBOOK_MULTI_PLATFORM_MESSENGER_CALL_VIEW_QP:11588,FACEBOOK_MULTI_PLATFORM_WEBVIEW_BANNER_QP:11607,FACEBOOK_MULTI_PLATFORM_SEARCH_RESULT_MODULES_QP:11598,FACEBOOK_MULTI_PLATFORM_MEDIA_SERP_MEGAPHONE_QP:11597,FACEBOOK_MULTI_PLATFORM_EVENTS_GUESTLIST_QP:11596,FACEBOOK_MULTI_PLATFORM_THREAD_VIEW_BANNER_QP:11595,FACEBOOK_MULTI_PLATFORM_SEARCH_GLYPH_QP:11606,FACEBOOK_MULTI_PLATFORM_MESSENGER_MEGAPHONE_QP:11594,FACEBOOK_MULTI_PLATFORM_SIDEBAR_CONTACTS_BUCKET_QP:11593,FACEBOOK_MULTI_PLATFORM_RHC_QP:11604,FACEBOOK_MULTI_PLATFORM_PUBLIC_CHAT_NUX_QP:11603,FACEBOOK_MULTI_PLATFORM_PAGE_ADMIN_HOME_QP:11592,FACEBOOK_MULTI_PLATFORM_SMS_NOTIFICATION_QP:11591,FACEBOOK_MULTI_PLATFORM_EMAIL_NOTIFICATION_QP:11602,FACEBOOK_MULTI_PLATFORM_MESSAGING_JEWEL_BANNER_QP:11601,FACEBOOK_MULTI_PLATFORM_GROUPS_RIGHT_HAND_COLUMN_QP:11600,FACEBOOK_MULTI_PLATFORM_CHAT_TAB_BANNER_QP:11590,FACEBOOK_MULTI_PLATFORM_DIODE_ROADBLOCK_QP:11625,FACEBOOK_MULTI_PLATFORM_QP_BANNER:11624,FACEBOOK_MULTI_PLATFORM_QP_STICKY_HEADER:11622,FACEBOOK_MULTI_PLATFORM_JEWEL_HEADER_QP:11621,FACEBOOK_MULTI_PLATFORM_JEWEL_INTERSTITIAL_QP:11620,FACEBOOK_MULTI_PLATFORM_LOGGEDOUT_INTERSTITIAL:11619,FACEBOOK_MULTI_PLATFORM_LOGIN_BANNER_QP:11618,FACEBOOK_MULTI_PLATFORM_PHOTO_OPEN_INTERSTITIAL_QP:11617,FACEBOOK_MULTI_PLATFORM_PP_MEGAPHONE_QP:11616,FACEBOOK_MULTI_PLATFORM_JEWEL_QP:11615,FACEBOOK_MULTI_PLATFORM_TOPIC_FEEDS_MEGAPHONE_QP:11614,MESSENGER_MULTI_PLATFORM_CALL_TAB_QP:11613,MESSENGER_MULTI_PLATFORM_ARMADILLO_THREAD_TOP_BANNER_QP:11612,MESSENGER_MULTI_PLATFORM_MSYS_THREAD_VIEW_SURFACE_QP:11610,MESSENGER_MULTI_PLATFORM_NEW_THREAD_NUX:11609,MESSENGER_MULTI_PLATFORM_MSYS_INTERSTITIAL_SURFACE_QP:11608,MESSENGER_MULTI_PLATFORM_BOTTOMSHEET_QP:11626,MESSENGER_MULTI_PLATFORM_CM_CHANNEL_CHAT_TAB_THREAD_QP:11623,MESSENGER_MULTI_PLATFORM_BUSINESS_SUPPORT_FOLDER_THREAD_LIST_BANNER_QP:11627,MESSENGER_MULTI_PLATFORM_MSYS_THREAD_LIST_SURFACE_QP:11630,MESSENGER_MULTI_PLATFORM_RECENT_THREAD_LIST_QP:11631,MESSENGER_MULTI_PLATFORM_INBOX_THREAD_LIST_BANNER_QP:11641,MESSENGER_MULTI_PLATFORM_ME_SETTINGS_BANNER_QP:11632,MESSENGER_MULTI_PLATFORM_NULL_STATE_SEARCH_HEADER_BANNER_QP:11633,PAGES_MANAGER_MULTI_PLATFORM_MEGAPHONE_QP:11642,WORKCHAT_MULTI_PLATFORM_CALL_LOG_SURFACE_QP:11634,WORKCHAT_MULTI_PLATFORM_WORKSPEED_INBOX_BANNER_QP:11643,WORKCHAT_MULTI_PLATFORM_BANNER_QP:11635,COMMERCE_MANAGER_MULTI_PLATFORM_CATALOG_UI_QP:11636,INTERNAL_TOOL_MULTI_PLATFORM_QP:11637,INTERNAL_TOOL_MULTI_PLATFORM_QP_DASH_QP:11638,INSTAGRAM_MULTI_PLATFORM_DIRECT_INTERSTITIAL_QP:11647,INSTAGRAM_MULTI_PLATFORM_EMAIL_NOTIFICATION_QP:11644,INTERNET_ORG_MULTI_PLATFORM_FBSV2_MEGAPHONE_FOR_LOGGED_OUT_USERS_QP:11639,FACEBOOK_MULTI_PLATFORM_FEED_PYMK_QP:11648,FACEBOOK_MULTI_PLATFORM_MESSAGES_INTERSTITIAL_QP:11649,FACEBOOK_MULTI_PLATFORM_SEARCH_NULL_STATE_MEGAPHONE_QP:11650,FACEBOOK_MULTI_PLATFORM_BIRTHDAY_STORY_SUNSET_QP:11651,FACEBOOK_MULTI_PLATFORM_DATING_MESSAGE_INBOX_QP:11652,FACEBOOK_MULTI_PLATFORM_DATING_MESSAGE_THREAD_QP:11653,FACEBOOK_MULTI_PLATFORM_DIALOG_QP:11654,FACEBOOK_MULTI_PLATFORM_CUSTOM_REACTIONS_DEFAULT_ENTRY_POINT_QP:11655,FACEBOOK_MULTI_PLATFORM_INBOX_BANNER_QP:11656,FACEBOOK_MULTI_PLATFORM_MIB_INTERSTITIAL_QP:11657,FACEBOOK_MULTI_PLATFORM_MIB_THREADVIEW_BANNER_QP:11658,FACEBOOK_MULTI_PLATFORM_TAB_PROMOTION_QP:11659,FACEBOOK_MULTI_PLATFORM_WORDMARK_QP:11660,FACEBOOK_MULTI_PLATFORM_SAVE_DASHBOARD_MEGAPHONE_QP:11661,MESSENGER_MULTI_PLATFORM_THREAD_VIEW_QP:11662,MESSENGER_MULTI_PLATFORM_COMMUNITY_MESSAGING_QP:11663,MESSENGER_MULTI_PLATFORM_INTERSTITIAL_QP:11664,WORKPLACE_MULTI_PLATFORM_GROUP_FEED_FOOTER:11646,INTERNET_ORG_MULTI_PLATFORM_WEB_INTERSITIAL:11645,WORKPLACE_MULTI_PLATFORM_NOTES_QP:11629,WORKPLACE_MULTI_PLATFORM_PROFILE_QP:11640,MESSENGER_MULTI_PLATFORM_ACCOUNTS_CENTER_WELCOME_SCREEN_SURFACE_QP:11668,MESSENGER_MULTI_PLATFORM_CM_CHANNEL_THREAD_VIEW_QP:11669,MESSENGER_MULTI_PLATFORM_COMMUNITY_CHANNEL_LIST_BANNER_QP:11670,MESSENGER_MULTI_PLATFORM_DISCOVER_TAB_QP:11671,MESSENGER_MULTI_PLATFORM_FRIENDS_TAB_MEGAPHONE_QP:11672,MESSENGER_MULTI_PLATFORM_THREAD_LIST_QP:11673,MESSENGER_MULTI_PLATFORM_RTC_PEEK_PROMOTION_QP:11674,MESSENGER_MULTI_PLATFORM_SEARCH_NULL_STATE_SURFACE_QP:11675,PAGES_MANAGER_MULTI_PLATFORM_INTERSTITIAL_QP:11676,PAGES_MANAGER_MULTI_PLATFORM_REACT_NATIVE_MEGAPHONE_QP:11677,WORKCHAT_MULTI_PLATFORM_INTERSTITIAL_QP:11678,WORKCHAT_MULTI_PLATFORM_THREAD_LIST_QP:11679,INTERNET_ORG_MULTI_PLATFORM_MEGAPHONE_QP:11680,WORKPLACE_MULTI_PLATFORM_TAB_INTERSTITIAL_QP:11682,WORKPLACE_MULTI_PLATFORM_STICKY_HEADER_BANNER_QP:11628,WORKPLACE_MULTI_PLATFORM_EMAIL_NOTIFICATION_QP:11665,WORKPLACE_MULTI_PLATFORM_RHC_QP:11666,WORKPLACE_MULTI_PLATFORM_ONBOARDING_CARD_QP:11667,WEARABLE_APP_MULTI_PLATFORM_INTERNAL_TEST_INTERSTITIAL_SURFACE_QP:11681,WEARABLE_APP_MULTI_PLATFORM_INTERNAL_TEST_MEGAPHONE_SURFACE_QP:11683,FACEBOOK_MULTI_PLATFORM_QPSURFACE_NDX:11690,FACEBOOK_MULTI_PLATFORM_MARKETPLACE_SELLER_HUB_MEGAPHONE_QP:10466,FACEBOOK_FOR_IOS_MARKETPLACE_SELLER_HUB_MEGAPHONE_QP:11705,FACEBOOK_FOR_ANDROID_MARKETPLACE_SELLER_HUB_MEGAPHONE_QP:11706,FACEBOOK_FOR_WWW_MARKETPLACE_SELLER_HUB_MEGAPHONE_QP:11707,FACEBOOK_FOR_IOS_UXU_PLAYER_EDUCATION_NUX_QP:11986,FACEBOOK_MULTI_PLATFORM_UXU_PLAYER_EDUCATION_NUX_QP:11985,FACEBOOK_FOR_ANDROID_UXU_PLAYER_EDUCATION_NUX_ANDROID_QP:12007,FACEBOOK_MULTI_PLATFORM_UXU_PLAYER_EDUCATION_NUX_ANDROID_QP:12006,FACEBOOK_FOR_IOS_UXU_PLAYER_EDUCATION_RESHARE_NUX_QP:12020,FACEBOOK_MULTI_PLATFORM_UXU_PLAYER_EDUCATION_RESHARE_NUX_QP:12019,MESSENGER_MULTI_PLATFORM_AVATAR_STICKER_TRAY_QP:12055,MESSENGER_LIGHTSPEED_FOR_IOS_AVATAR_STICKER_TRAY_QP:12056,MESSENGER_FOR_ANDROID_AVATAR_STICKER_TRAY_QP:12057});f["default"]=a}),66);
__d("enumUtils",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return Object.values(b).find(function(b){return b===a})}function a(a,b){return a==null?null:h(a,b)}function i(a,b){if(a!=null){b=Object.keys(b);for(var c=0;c<b.length;c++){var d=b[c];if(d===a)return d}}return null}function j(a,b){return c("nullthrows")(h(a,b))}function b(a,b){return c("nullthrows")(i(a,b))}function d(a,b){var c=[];for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.push(j(f,b))}return c}function k(a,b){return(b=b[a])!=null?b:null}function l(a,b){return c("nullthrows")(k(a,b))}function e(a,b){var c=[];for(var a=a,d=Array.isArray(a),e=0,a=d?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=a.length)break;f=a[e++]}else{e=a.next();if(e.done)break;f=e.value}f=f;c.push(l(f,b))}return c}function m(a,b){var c;Object.keys(b).forEach(function(d){b[d]===a&&(c=d)});return c}function f(a,b){return c("nullthrows")(m(a,b))}g.coerce=h;g.coerceNullable=a;g.coerceKey=i;g.assert=j;g.assertKey=b;g.assertIterable=d;g.coerceFromKey=k;g.assertFromKey=l;g.assertIterableFromKey=e;g.enumValueToKey=m;g.enumValueToKeyEnforcing=f}),98);
__d("QuickPromotionIGWebBatchFetch",["CometRelay","PolarisRelayEnvironment","QuickPromotionIGWebBatchFetchQuery.graphql","QuickPromotionNuxID","enumUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=h!==void 0?h:h=b("QuickPromotionIGWebBatchFetchQuery.graphql");a=Object.keys(a).map(function(a){return d("enumUtils").enumValueToKey(Number(a),c("QuickPromotionNuxID"))}).filter(Boolean);return d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),e,{scale:window.devicePixelRatio,surface_nux_ids:a}).toPromise().then(function(a){var b=[];a==null?void 0:a.xfb_quick_promotion_batch_fetch_root.forEach(function(a){var d;b.push({data:{viewer:(d=a)!=null?d:{}},surface:c("QuickPromotionNuxID")[String(a.surface_nux_id)]})});a=JSON.parse(JSON.stringify(b));a={client_cache_ttl_in_sec:7200,qp_data:a,request_status:"SUCCESS"};return a})}g.fetchBatchQuickPromotionsIGWWWMigration=a}),98);
__d("PolarisAPIFetchBatchQuickPromotions",["CometRelay","PolarisAPIFetchBatchQuickPromotionsDirectQuery.graphql","PolarisAPIFetchBatchQuickPromotionsQuery.graphql","PolarisIGBloksVersioning","PolarisInstapi","PolarisRelayEnvironment","QuickPromotionIGWebBatchFetch","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,f){f===void 0&&(f=!1);if(f)return d("QuickPromotionIGWebBatchFetch").fetchBatchQuickPromotionsIGWWWMigration(a);return c("justknobx")._("696")?d("CometRelay").fetchQuery(c("PolarisRelayEnvironment"),c("gkx")("1746")?h!==void 0?h:h=b("PolarisAPIFetchBatchQuickPromotionsDirectQuery.graphql"):i!==void 0?i:i=b("PolarisAPIFetchBatchQuickPromotionsQuery.graphql"),{request_data:{bloks_versioning_id:d("PolarisIGBloksVersioning").BLOKS_VERSIONING_ID},scale:window.devicePixelRatio.toString(),surfaces_to_queries:JSON.stringify(a),vc_policy:"default",version:"1"}).toPromise().then(function(a){var b,c;a=a==null?void 0:a.xdt_qp_batch_fetch;b=JSON.parse(JSON.stringify((b=a==null?void 0:a.qp_data)!=null?b:{}));return{client_cache_ttl_in_sec:(c=a==null?void 0:a.client_cache_ttl_in_sec)!=null?c:0,qp_data:b,request_status:(c=a==null?void 0:a.request_status)!=null?c:""}}):d("PolarisInstapi").apiPost("/api/v1/web/qp/batch_fetch_web/",{body:{bloks_versioning_id:d("PolarisIGBloksVersioning").BLOKS_VERSIONING_ID,scale:window.devicePixelRatio,surfaces_to_queries:JSON.stringify(a),vc_policy:"default",version:"1"}},{before:e}).then(function(a){return a.data})}g.fetchBatchQuickPromotions=a}),98);
__d("polarisQPFbql",[],(function(a,b,c,d,e,f){"use strict";a="viewer() {\n    eligible_promotions.ig_parameters(<ig_parameters>).surface_nux_id(<surface>).external_gating_permitted_qps(<external_gating_permitted_qps>) {\n      edges {\n        priority,\n        time_range {\n          start,\n          end\n        },\n        node {\n          id,\n          promotion_id,\n          max_impressions,\n          triggers,\n          logging_data,\n          template {\n            name,\n            parameters {\n              name,\n              string_value\n            }\n          },\n          creatives {\n            title {\n              text\n            },\n            content {\n              text\n            },\n            footer {\n              text\n            },\n            social_context {\n              text\n            },\n            primary_action{\n              title {\n                text\n              },\n              url,\n              limit,\n              dismiss_promotion\n            },\n            secondary_action{\n              title {\n                text\n              },\n              url,\n              limit,\n              dismiss_promotion\n            },\n            dismiss_action{\n              title {\n                text\n              },\n              url,\n              limit,\n              dismiss_promotion\n            },\n            bullet_list{\n              title,\n              subtitle,\n              icon {\n                uri,\n                width,\n                scale\n              }\n            },\n            image {\n              uri\n            }\n          }\n        }\n      }\n    }\n\n}";f["default"]=a}),66);
__d("PolarisQPActions",["PolarisAPIFetchBatchQuickPromotions","PolarisInstajax","PolarisMonitorErrors","PolarisQPConstants","nullthrows","polarisQPFbql","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b;(b=h)==null?void 0:b.abort==null?void 0:b.abort();h=a}function a(a){return function(b){var e,f=a.reduce(function(a,b){a[b]=c("polarisQPFbql");return a},{});b({surfaceParams:a,type:"FETCH_QP_REQUESTED"});var g=(e=c("qex")._("443"))!=null?e:!1;return d("PolarisAPIFetchBatchQuickPromotions").fetchBatchQuickPromotions(f,i,g).then(function(e){if(!e||!e.qp_data){b({surfaceParams:a,type:"FETCH_QP_FAILED"});return}var f={};g?e.qp_data.forEach(function(a){var b=a.data;f[a.surface]=b?c("nullthrows")(b.viewer.eligible_promotions.edges.filter(function(b){return a.surface===parseInt(d("PolarisQPConstants").SURFACES.PAGE_TOP,10)?b.node.bloks_view_v2!==null:!0}).map(function(b){b.node.bloks_view_v2&&(b.node.bloks_view_v2.component.bundle.bloks_bundle_tree=JSON.parse(b.node.bloks_view_v2.component.bundle.bloks_bundle_tree));var c=b.node.logging_data;c=c?JSON.parse(c):void 0;return babelHelpers["extends"]({},b.node,{logging_data:c,surface_id:a.surface})})):[]}):e.qp_data.forEach(function(a){var b=a.data;f[a.surface]=b?c("nullthrows")(b.viewer.eligible_promotions.edges.map(function(b){var c=b.node.logging_data;c=c?JSON.parse(c):void 0;return babelHelpers["extends"]({},b.node,{logging_data:c,surface_id:a.surface})})):[]});b({promotions:f,type:"FETCH_QP_SUCCEEDED"})},function(c){b({surfaceParams:a,type:"FETCH_QP_FAILED"}),c instanceof d("PolarisInstajax").AjaxError||d("PolarisMonitorErrors").logError(c)})}}function b(a){return function(b){b({feedFilter:a,type:"SET_FEED_QP_FILTERS"})}}function e(){return{type:"SET_QP_DISMISSED"}}g.fetchBatchQuickPromotionAction=a;g.setFeedPageFilter=b;g.dismissQP=e}),98);
__d("PolarisQPHelpers",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(!a)return null;a=a.find(function(a){return a.name===b});return a==null?void 0:a.string_value}function b(a,b){if(!a)return null;a=a.find(function(a){return a.name===b});switch(a==null?void 0:a.string_value){case"top":return"top";default:return null}}f.getQPParameter=a;f.getQPArrowPositionParameter=b}),66);
__d("PolarisAPIGenerateCreditCardToken",["PolarisInstajax"],(function(a,b,c,d,e,f,g){"use strict";var h="https://secure.facebook.com/payments/generate_token";function a(a){return d("PolarisInstajax").post_UNTYPED(h,a)}g.generateCreditCardToken=a}),98);
__d("PolarisBloksErrors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){b=a.call(this,"[bloks.js] "+b)||this;c&&c.stack&&(b.stack=c.stack);return b}return b}(babelHelpers.wrapNativeSuper(Error));b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,"Unable to find component with id="+b)||this}return b}(a);c=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,"Error while fetching data:",b)||this}return b}(a);d=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,"Script error: "+b)||this}return b}(a);e=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,'Component for "'+b+'" was not registered.')||this}return b}(a);var g=function(b){babelHelpers.inheritsLoose(a,b);function a(a){return b.call(this,"Unsupported feature: "+a)||this}return a}(a),h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){return b.call(this,"Script parse error at position "+a+": "+c)||this}return a}(a);f.BloksError=a;f.BloksComponentIdNotFoundError=b;f.BloksDataRequestError=c;f.BloksScriptError=d;f.BloksUnknownComponentError=e;f.BloksUnsupportedFeatureError=g;f.BloksScriptParseError=h}),66);
__d("PolarisBloksDataBinding",["PolarisBloksErrors","Promise","asyncToGeneratorRuntime","guid"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){b=b[a];if(!b)throw new(d("PolarisBloksErrors").BloksUnsupportedFeatureError)('Manifest data source type of "'+a+'"');return b}function j(a,b){var c=new Map();for(a of a.entries()){var d=a[0],e=a[1],f=i(e.type,b);c.set(d,f.initialValue(e).value)}return c}function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=[];for(a of a.values()){var f=i(a.type,c);e.push(f.resolve(a))}try{f=(yield (h||(h=b("Promise"))).all(e));return new Map(f.map(function(a){var b=a.id;a=a.value;return[b,a]}))}catch(a){throw new(d("PolarisBloksErrors").BloksDataRequestError)(a)}});return l.apply(this,arguments)}a=function(){function a(a){this.$1=a,this.$3=new Map(),this.$4=function(){},this.$5=c("guid")()}var e=a.prototype;e.initialize=function(a,b,c){a===void 0&&(a=[]);b===void 0&&(b=[]);c===void 0&&(c={});a=a.map(function(a){return[a.id,a]});b=b.map(function(a){return[a.id,{data:{value:c[a.name]},id:a.id,type:"scalar_native_prop"}]});this.$2=new Map(a.concat(b));this.$3=j(this.$2,this.$1);this.snapshot();a=this.$1.gs;a!=null&&a.registerManifest(this)};e.subscribe=function(a){var b=this;this.$4=a;a=function(){b.$4=function(){}};return{unsubscribe:a}};e.getID=function(){return this.$5};e.getSnapshot=function(){return this.$3};e.getManifest=function(){return this.$2};e.getVariable=function(a){if(!this.$3)throw new(d("PolarisBloksErrors").BloksError)('Cannot call "getVariable" before initializing manifest.');return this.$3.get(a)};e.getGlobalStore=function(){return this.$1.gs};e.getLocalStore=function(){return this.$1.ls};e.snapshot=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!this.$2)throw new(d("PolarisBloksErrors").BloksError)('Cannot call "snapshot" before initializing manifest.');var a=(yield k(this.$2,this.$1));this.$3=a;this.$4();return a});function c(){return a.apply(this,arguments)}return c}();return a}();g.BloksDataManifest=a}),98);
__d("PolarisBloksAppContext.react",["PolarisBloksDataBinding","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;c.useCallback;var j=c.useContext,k=c.useEffect,l=c.useState,m=c.unstable_useMemoCache,n=i.createContext({layout:{},manifest:new(d("PolarisBloksDataBinding").BloksDataManifest)({})});function a(a){var b=m(10),c=a.children;a=a.context;var d=a.manifest,e=l(),f=e[0],g=e[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){return g(Object.create(null))},b[0]=e):e=b[0];var h=e;b[1]!==a||b[2]!==f?(e=babelHelpers["extends"]({},a,{trigger:f}),b[1]=a,b[2]=f,b[3]=e):e=b[3];a=e;b[4]!==d?(f=function(){var a=d.subscribe(h);return function(){return a.unsubscribe()}},e=[d,h],b[4]=d,b[5]=f,b[6]=e):(f=b[5],e=b[6]);k(f,e);b[7]!==a||b[8]!==c?(f=i.jsx(n.Provider,{value:a,children:c}),b[7]=a,b[8]=c,b[9]=f):f=b[9];return f}function b(){return j(n)}g.BloksAppContextProvider=a;g.useBloksAppContext=b}),98);
__d("PolarisBloksEnvironmentContext.react",["nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useContext,k=e.unstable_useMemoCache,l=i.createContext(null);function a(a){var b=k(3),c=a.children;a=a.environment;var d;b[0]!==a||b[1]!==c?(d=i.jsx(l.Provider,{value:a,children:c}),b[0]=a,b[1]=c,b[2]=d):d=b[2];return d}function b(){var a=k(2),b=j(l),d;a[0]!==b?(d=c("nullthrows")(b),a[0]=b,a[1]=d):d=a[1];return d}g.BloksEnvironmentProvider=a;g.useBloksEnvironment=b}),98);
__d("PolarisBloksComponentContext.react",["PolarisBloksEnvironmentContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.useRef,k=b.useState,l=function(){function a(a,b){this.$1={},this.$2=a,this.$3=b}var b=a.prototype;b.addChildAtIndex=function(a,b){var c=this.$4();c.splice(b,0,a);this.update()};b.getChildAtIndex=function(a){var b=this.$4();return a>=b.length?null:b[a]};b.getIndexOfChild=function(a){var b;b=(b=this.getAttrs().children)!=null?b:[];return b.findIndex(function(b){if(Object.keys(b)[0]==="bk.components.internal.Shadow"){var c=b;c=Object.values(c["bk.components.internal.Shadow"].child)[0]}else c=Object.values(b)[0];return!!c.id&&String(c.id)===String(a)})};b.replaceChildren=function(a){var b=this.$4();b.splice.apply(b,[0,b.length].concat(a));this.update()};b.removeChild=function(a){a=this.getIndexOfChild(a);if(a===-1)return;var b=this.$4();b.splice(a,1);this.update()};b.removeChildrenBetween=function(a,b){var c=this.$4();a=this.getIndexOfChild(a);b=this.getIndexOfChild(b);if(a===-1)return;if(b===-1)return;a=a+1;if(a>b)return;b=b-a;c.splice(a,b);this.update()};b.insertChildrenAfter=function(a,b){var c=this.$4();a=this.getIndexOfChild(a);if(a===-1)return;c.splice.apply(c,[a+1,0].concat(b));this.update()};b.setAttr=function(a,b,c){c===void 0&&(c=!0),this.$1[a]=b,c&&this.update()};b.getOverrides=function(){return this.$1};b.getAttrs=function(){return babelHelpers["extends"]({},this.$2,this.$1)};b.update=function(){this.$3(Object.create(null))};b.$4=function(){if(this.$1.children==null){var a;this.$1.children=[].concat((a=this.$2.children)!=null?a:[])}return this.$1.children};return a}();function a(a){var b,c=a.id!=null?String(a.id):void 0,e=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment(),f=k();f=f[1];var g=j((b=e.componentContexts.get(String(c)))!=null?b:new l(babelHelpers["extends"]({},a,{id:c}),f));i(function(){var a=e.componentContexts;if(c!=null){a.set(c,g.current);return function(){a.set(c,null)}}return function(){}},[e,c]);return g.current}g.BloksComponentContext=l;g.useComponentContext=a}),98);
__d("PolarisBloksErrorRenderer.react",["PolarisIGTheme.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(12);a=a.error;var c=d("PolarisIGTheme.react").useThemeColor("ig-error-or-destructive"),e;b[0]!==c?(e={backgroundColor:c,borderRadius:8,flexDirection:"column",flexGrow:1,margin:16,overflow:"hidden",padding:16},b[0]=c,b[1]=e):e=b[1];var f;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(c=j.jsx("div",{style:{color:"white",fontWeight:"bolder",justifyContent:"center"},children:"[fb-only] Bloks Render error"}),f=j.jsx("div",{style:{color:"white",fontSize:"75%",fontWeight:"bolder",justifyContent:"center"},children:"this will throw in production"}),b[2]=c,b[3]=f):(c=b[2],f=b[3]);var g=d("PolarisIGTheme.react").useThemeColor("ig-primary-background"),h;b[4]!==g?(h={backgroundColor:g,borderRadius:4,flexGrow:1,fontFamily:"monospace",marginTop:16,overflow:"scroll",padding:16},b[4]=g,b[5]=h):h=b[5];b[6]!==h||b[7]!==a.stack?(g=j.jsx("pre",{style:h,children:a.stack}),b[6]=h,b[7]=a.stack,b[8]=g):g=b[8];b[9]!==e||b[10]!==g?(h=j.jsxs("div",{style:e,children:[c,f,g]}),b[9]=e,b[10]=g,b[11]=h):h=b[11];return h}g["default"]=a}),98);
__d("PolarisBloksNode.react",["PolarisBloksEnvironmentContext.react","PolarisBloksErrorRenderer.react","guid","nullthrows","react","xigRequireInterop"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef,l=b.useState;function m(a){var b=Object.keys(a)[0];return[a[b],b]}function n(a){a=m(a);a=a[0];return a.id!=null?String(a.id):null}function o(a){var b=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment(),c=l(),e=c[0],f=c[1];j(function(){var c=n(a);return c==null?function(){}:b.replacementNodes.listen(c,f)},[b,a,f]);c=n(a);if(c==null)return a;return e!=null?e:a}var p=0;function q(a){var b=k(null),d=k(null);(b.current==null||d.current!==a)&&(b.current=p++);d.current=a;return c("nullthrows")(b.current)}function r(a){a=a.node;var b=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment(),e=o(a),f=q(e);if(Array.isArray(e))return i.jsx(s,{nodes:e},f);try{a=m(e);var g=a[0];a=a[1];a=b.getComponentForName(a);var h;g.extensions!=null&&(h=g.extensions.map(function(a,c){try{var d=m(a);d[0];d=d[1];var g=b.getComponentForName(d);c=d+f+c;return i.jsx(g,{node:babelHelpers["extends"]({},a,(g={},g[d]=babelHelpers["extends"]({},a[d],{parent:e}),g))},c)}catch(a){}}));if(n(e)==null){g=babelHelpers["extends"]({},e);var j=Object.keys(g)[0];g[j].id=c("guid")();return i.jsxs(i.Fragment,{children:[i.jsx(a,{node:g},f),h]})}return i.jsxs(i.Fragment,{children:[i.jsx(a,{node:e},f),h]})}catch(a){throw a}}r.displayName=r.name+" [from "+f.id+"]";function s(a){a=a.nodes;return a.map(function(a,b){return i.jsx(r,{node:a},b)})}s.displayName=s.name+" [from "+f.id+"]";function a(a){a=a.node;var b=q(a);return Array.isArray(a)?i.jsx(s,{nodes:a},b):i.jsx(r,{node:a},b)}a.displayName=a.name+" [from "+f.id+"]";g.getNode=m;g.getNodeId=n;g.BloksNode=a}),98);
__d("PolarisBloksEnvironmentUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.type==="gs"||a.type==="mock"}function b(a){return a.type==="ls"||a.type==="mock"}function c(a){return a.type==="scalar_native_prop"||a.type==="mock"}f.isGlobalStoreEntry=a;f.isLocalStoreEntry=b;f.isScalarNativePropEntry=c}),66);
__d("PolarisBloksGlobalStore",["PolarisBloksEnvironmentUtils","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map(),j=new Map();function a(a){var c={get:function(a){return i.get(a)},initialValue:function(b){var c=b.data,e=b.id;if(!d("PolarisBloksEnvironmentUtils").isGlobalStoreEntry(b)||c.initial==null&&c.initial_lispy==null||c.key===void 0)return{id:e,value:null};b=c.key;if(i.has(b))return{id:e,value:i.get(b)};b=null;c.initial!=null&&(b=c.initial);c.initial_lispy!=null&&(b=a.execute(c.initial_lispy));i.set(e,b);return{id:e,value:b}},registerManifest:function(a){j.set(a.getID(),a)},reset:function(){i.clear()},resolve:function(a){return(h||(h=b("Promise"))).resolve(c.initialValue(a))},set:function(a,b,c){i.set(a,b);c.snapshot();for(var a=j.entries(),b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;e[0];e=e[1];e.getID()!==c.getID()&&e.snapshot()}}};return{gs:c}}g.globalStoreModule=a}),98);
__d("PolarisBloksLocalStore",["PolarisBloksEnvironmentUtils","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c=new Map(),e={get:function(a){return c.get(a)},initialValue:function(b){var e=b.data,f=b.id;if(!d("PolarisBloksEnvironmentUtils").isLocalStoreEntry(b)||e.initial==null&&e.initial_lispy==null)return{id:f,value:null};if(c.has(f))return{id:f,value:c.get(f)};b=null;e.initial!=null&&(b=e.initial);e.initial_lispy!=null&&(b=a.execute(e.initial_lispy));c.set(f,b);return{id:f,value:b}},registerManifest:function(){},resolve:function(a){return(h||(h=b("Promise"))).resolve(e.initialValue(a))},set:function(a,b,d){c.set(a,b),d.snapshot()},store:c};return{ls:e}}g.localStoreModule=a}),98);
__d("PolarisBloksScreenManager",["PolarisBloksDataBinding","PolarisBloksGlobalStore","PolarisBloksLocalStore","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=function(){function a(a,b){a===void 0&&(a=[]),b===void 0&&(b=!1),this.$1=new Set(),this.$2=[].concat(a),this.$4=b,this.$3=[]}var b=a.prototype;b.push=function(a,b){if(this.$2.length>0&&a===null)return;var c=null;if(a!=null&&!i.isValidElement(a.screen)){b=new(d("PolarisBloksDataBinding").BloksDataManifest)(babelHelpers["extends"]({},d("PolarisBloksGlobalStore").globalStoreModule(b),d("PolarisBloksLocalStore").localStoreModule(b),b.environment.dataModules));b.initialize();c={layout:{},manifest:b}}b=a!=null?babelHelpers["extends"]({},a,{index:this.$2.length}):a;b!=null&&c!=null&&(b=babelHelpers["extends"]({},b,{appContext:c}));this.$2=[].concat(this.$2,[b]);this.$5()};b.pop=function(){this.$2=this.$2.slice(0,-1);var a=this.$3.pop();a!=null&&a();this.$5()};b.clear=function(){this.$2=[],this.$3.reverse().forEach(function(a){a!=null&&a()}),this.$3=[],this.$5()};b.listen=function(a){this.$1.add(a)};b.unlisten=function(a){this.$1["delete"](a)};b.getScreenCount=function(){return this.$2.length};b.setOnDismissCallback=function(a,b){var c=this.$3.length,d=a;while(c<d)this.$3[c]=null,c++;this.$3[a]=b};b.$5=function(){var a=this.$2.filter(Boolean);this.$4||(a=a.slice(-1));for(var b=this.$1,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e(a)}};return a}();g.BloksScreenManager=a}),98);
__d("PolarisBloksRenderContext.react",["PolarisBloksScreenManager","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext;c={modalManager:new(d("PolarisBloksScreenManager").BloksScreenManager)(),params:{},screenManager:new(d("PolarisBloksScreenManager").BloksScreenManager)()};var j=b.createContext(c);function a(){return i(j)}g.DEFAULT_CONTEXT=c;g.BloksReactContext=j;g.useBloksRenderContext=a}),98);
__d("PolarisBloksContext.react",["PolarisBloksAppContext.react","PolarisBloksComponentContext.react","PolarisBloksEnvironmentContext.react","PolarisBloksErrors","PolarisBloksNode.react","PolarisBloksRenderContext.react","Promise","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;c=i||d("react");c.useMemo;var j=c.unstable_useMemoCache;function a(a){var c=j(11),e=d("PolarisBloksAppContext.react").useBloksAppContext(),f=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment(),g=d("PolarisBloksRenderContext.react").useBloksRenderContext(),i;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=[],c[0]=i):i=c[0];var k,l,m;c[1]===Symbol["for"]("react.memo_cache_sentinel")?(k=function(){return(h||(h=b("Promise"))).resolve()},l=function(){return(h||(h=b("Promise"))).resolve()},m=function(){return new(d("PolarisBloksComponentContext.react").BloksComponentContext)({},function(){})},c[1]=k,c[2]=l,c[3]=m):(k=c[1],l=c[2],m=c[3]);var n;c[4]!==e||c[5]!==f||c[6]!==g.modalManager||c[7]!==g.params||c[8]!==g.screenManager||c[9]!==a?(n=babelHelpers["extends"]({},e,{callArgs:i,environment:f,execute:k,executeAsync:l,getComponentContext:m,modals:g.modalManager,node:a,params:g.params,screens:g.screenManager}),n.getComponentContext=function(){if(a==null)throw new Error("Component context not available: node is invalid!");var b=d("PolarisBloksNode.react").getNodeId(a);if(b==null)throw new Error("Component context not available: node ID is invalid!");b=n.environment.componentContexts.get(b);if(b==null)throw new Error("Component context not available: component context is invalid!");return b},n.execute=function(a,b){return f.executor.execute(n,a,b)},n.executeAsync=function(a,c,e){return f.appLoader.get(a,(a=c)!=null?a:{},n.params.appGetOptions).then(function(a){var c=a.tree["bk.components.internal.Action"];if(c!=null){c=c.handler;c=n.execute(c);if(e===!0){a=(a=a.data)!=null?a:[];var f=n.manifest.getManifest();if(f==null)throw new(d("PolarisBloksErrors").BloksError)("Data manifest needs to be initialized");a.forEach(function(a){f.set(a.id,a)});n.manifest.snapshot()}return(h||(h=b("Promise"))).resolve(c)}return(h||(h=b("Promise"))).reject(new Error("action component exists"))})},c[4]=e,c[5]=f,c[6]=g.modalManager,c[7]=g.params,c[8]=g.screenManager,c[9]=a,c[10]=n):n=c[10];i=n;return i}g.useBloksContext=a}),98);
__d("PolarisBloksAnchor.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(10),c,d,e,f;b[0]!==a?(f=a.children,d=a.href,e=a.onClick,c=babelHelpers.objectWithoutPropertiesLoose(a,["children","href","onClick"]),b[0]=a,b[1]=c,b[2]=d,b[3]=e,b[4]=f):(c=b[1],d=b[2],e=b[3],f=b[4]);b[5]!==c||b[6]!==d||b[7]!==e||b[8]!==f?(a=j.jsx("a",babelHelpers["extends"]({},c,{href:d,onClick:e,children:f})),b[5]=c,b[6]=d,b[7]=e,b[8]=f,b[9]=a):a=b[9];return a}g["default"]=a}),98);
__d("PolarisBloksScriptParser",["PolarisBloksErrors"],(function(a,b,c,d,e,f,g){"use strict";var h=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function i(a){switch(a){case" ":case"\n":case"\r":case"\t":case",":return!0;default:return!1}}function a(a){var b=[],c=[b],e=0;function f(){while(i(a[e]))e++}while(e<a.length){f();var g=a[e];switch(g){case"(":b=[];c.push(b);e++;break;case")":g=c.pop();b=c[c.length-1];if(!b)throw new(d("PolarisBloksErrors").BloksScriptParseError)(e,"Unexpected ')'");b.push(g);e++;break;case'"':g=++e;var h=!1;while(!0){var l=a.indexOf('"',e);if(l===-1)throw new(d("PolarisBloksErrors").BloksScriptParseError)(g,"Unterminated string");var m=a.indexOf("\\",e);if(l<m||m===-1){e=l;break}e=m+2;h=!0}l=a.substring(g,e);b.push({type:"string",value:h?j(g,l):l});e++;break;default:m=e;while(!0){h=a[++e];if(i(h)||h===")"||h==="("||h===void 0){b.push(k(a.substring(m,e)));break}}}if(c.length===1)break}return b[0]}function j(a,b){return JSON.parse('"'+b+'"')}function k(a){if(h.test(a)){var b=parseFloat(a);if(b.toString()===a)return{type:"number",value:b};else return{type:"string",value:a}}return{type:"identifier",value:a}}g.parse=a}),98);
__d("PolarisBloksExecutor",["PolarisBloksErrors","PolarisBloksScriptParser","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var c=this;this.execute=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){if(typeof b==="function"){var f;f=(f=e)!=null?f:[];return b.apply(void 0,f)}f=d("PolarisBloksScriptParser").parse(b);b=e!=null?babelHelpers["extends"]({},a,{callArgs:e}):a;return yield c.$3(b,f)});return function(b,c,d){return a.apply(this,arguments)}}();this.$1=a}var c=a.prototype;c.$2=function(b){var a=this.$1[b];if(a==null)throw new(d("PolarisBloksErrors").BloksUnknownComponentError)(b);return a};c.$3=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c=this,e=b[0],f=b.slice(1);if(Array.isArray(e)||e.type!=="identifier")throw new(d("PolarisBloksErrors").BloksScriptError)("First arg of calls must be a token");b=e.value;if(e.value==="bk.action.core.FuncConst"){if(f.length!==1)throw new(d("PolarisBloksErrors").BloksScriptError)("FuncConst supports only single args");return function(){for(var b=arguments.length,d=new Array(b),e=0;e<b;e++)d[e]=arguments[e];var g=babelHelpers["extends"]({},a,{callArgs:d});return c.$4(g,f[0])}}if(e.value==="bk.action.core.GetArg"){e=a.callArgs;if(f.length!==1)throw new(d("PolarisBloksErrors").BloksScriptError)("GetArg supports only single args");if(e==null)throw new(d("PolarisBloksErrors").BloksScriptError)("GetArg received no callArgs");return e[Number(f[0].value)]}e=[];for(var g of f){var h=(yield this.$4(a,g));e.push(h)}h=this.$2(b);return yield h.apply(void 0,[a].concat(e))});function c(b,c){return a.apply(this,arguments)}return c}();c.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(Array.isArray(b))return yield this.$3(a,b);if(b.type==="identifier"&&b.value==="null")return null;if(b.type==="identifier")throw new(d("PolarisBloksErrors").BloksScriptError)('Unexpected identifier "'+b.value+'" in argument list');return b.value});function c(b,c){return a.apply(this,arguments)}return c}();return a}();g["default"]=a}),98);
__d("PolarisBloksEnvironment",["PolarisBloksAnchor.react","PolarisBloksErrors","PolarisBloksExecutor","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=new Map();return{listen:function(b,c){a.set(b,c);return function(){a["delete"](b)}},replace:function(b,c){var e=a.get(b);if(e==null)throw new(d("PolarisBloksErrors").BloksComponentIdNotFoundError)(b);a["delete"](b);e(c)}}}function i(){var a=new Map();return{get:function(b){return a.get(b)},set:function(b,c){c!=null?a.set(b,c):a["delete"](b)}}}function j(){var a=new Map();return{add:function(b,c){a.set(b,c)},get:function(b){var c=a.get(b);if(!c)throw new(d("PolarisBloksErrors").BloksComponentIdNotFoundError)(b);return c.getState()},reduce:function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=a.get(b);if(!c)throw new(d("PolarisBloksErrors").BloksComponentIdNotFoundError)(b);yield c.reduce()});function e(a){return c.apply(this,arguments)}return e}(),reflow:function(b){var c=a.get(b);if(!c)throw new(d("PolarisBloksErrors").BloksComponentIdNotFoundError)(b);c.reflow()},remove:function(b){return a["delete"](b)}}}a=function(a){var b=this;this.replacementNodes=h();this.componentContexts=i();this.shadowContexts=j();this.getComponentForName=function(c){var a=b.$1.components[c];if(a==null)throw new(d("PolarisBloksErrors").BloksUnknownComponentError)(c);return a};this.getStyleProps=function(a){var c;return(c=b.$1.getStyleProps==null?void 0:b.$1.getStyleProps(a))!=null?c:{style:a}};this.getAnchorComponent=function(){var a;return(a=b.$1.AnchorComponent)!=null?a:c("PolarisBloksAnchor.react")};this.openUrl=function(a,c){b.$1.openUrl(a,c)};var e=a.actions,g=a.appLoader,k=a.dataModules;k=k===void 0?{}:k;var l=a.eventLogger;this.$1=a;this.appLoader=g;this.dataModules=k;this.eventLogger=l;this.executor=new(c("PolarisBloksExecutor"))(e)};g.createBloksReplacementNodes=h;g.createBloksComponentContexts=i;g.createBloksShadowContexts=j;g.BloksEnvironment=a}),98);
__d("PolarisBloksIGAnchor.react",["PolarisFastLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(6),d,e;b[0]!==a?(e=a.children,d=babelHelpers.objectWithoutPropertiesLoose(a,["children"]),b[0]=a,b[1]=d,b[2]=e):(d=b[1],e=b[2]);a=d;b[3]!==a||b[4]!==e?(d=j.jsx(c("PolarisFastLink.react"),babelHelpers["extends"]({},a,{children:e})),b[3]=a,b[4]=e,b[5]=d):d=b[5];return d}g["default"]=a}),98);
__d("usePolarisBloksExecutor",["PolarisBloksContext.react"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("PolarisBloksContext.react").useBloksContext().execute}g.useBloksExecutor=a}),98);
__d("PolarisBloksAction.react",["PolarisBloksNode.react","react","usePolarisBloksExecutor"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){a=a.node;a=d("PolarisBloksNode.react").getNode(a);var b=a[0],c=d("usePolarisBloksExecutor").useBloksExecutor();i(function(){c(b.handler)},[]);return null}g["default"]=a}),98);
__d("PolarisBloksAddChild",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){b.addChildAtIndex(c,d)}f["default"]=a}),66);
__d("PolarisBloksAnimationFunctions",[],(function(a,b,c,d,e,f){"use strict";function g(a,b,c,d){var e=1e-6,f=3*a-3*c+1,g=3*c-6*a,h=3*a,i=3*b-3*d+1,j=3*d-6*b,k=3*b;function l(a){return(3*f*a+2*g)*a+h}function m(a){return((f*a+g)*a+h)*a}function n(a){return((i*a+j)*a+k)*a}function o(a){var b=a,c,d;for(var f=0;f<8;f++){d=m(b)-a;if(Math.abs(d)<e)return b;c=l(b);if(Math.abs(c)<e)break;b-=d/c}c=1;f=0;b=a;while(c>f){d=m(b)-a;if(Math.abs(d)<e)return b;d>0?c=b:f=b;b=(c+f)/2}return b}function p(a){return n(o(a))}return p}function a(){return g(0,0,1,1)}f.cubicBezier=g;f.linearInterpolator=a}),66);
__d("PolarisBloksAnimatedCreate",["PolarisBloksAnimationFunctions","guid"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g,h,i){var j=null,k={animation:{duration:h*1e3,format:function(a){return String(a)},from:parseFloat(f),interpolator:(a=i)!=null?a:d("PolarisBloksAnimationFunctions").linearInterpolator(),step:Math.abs(parseFloat(g)-parseFloat(f))/(h*1e3/20),style:"transform",to:parseFloat(g)},getCurrentValue:function(){return j},id:c("guid")(),onComplete:e,onUpdate:function(){},setCurrentValue:function(a){j=a},type:"___SINGLE___"};k.onUpdate=function(){b(k)};return k}g["default"]=a}),98);
__d("PolarisBloksAnimatedCreateColor",["PolarisBloksAnimationFunctions","guid"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return a?[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]:[]}function i(a,b,c){a=[a,b,c].map(function(a){return Math.floor(a).toString(16).padStart(2,"0")});return"#"+a.join("")}function a(a,b,e,f,g,j,k){var l=null,m={animation:{duration:j*1e3,format:i,from:h(f),interpolator:(a=k)!=null?a:d("PolarisBloksAnimationFunctions").linearInterpolator(),step:Array.from({length:3}).map(function(a,b){return Math.abs(h(g)[b]-h(f)[b])/(j*1e3/20)}),style:"color",to:h(g)},getCurrentValue:function(){return l},id:c("guid")(),onComplete:e,onUpdate:function(){},setCurrentValue:function(a){l=a},type:"___SINGLE___"};m.onUpdate=function(){b(m)};return m}g["default"]=a}),98);
__d("PolarisBloksAnimatedCreateCubicBezier",["PolarisBloksAnimationFunctions"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f){return d("PolarisBloksAnimationFunctions").cubicBezier(b,c,e,f)}g["default"]=a}),98);
__d("PolarisBloksUtils",["PolarisIGTheme.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return typeof a==="string"?a.replace("_","-"):a}function b(a){if(typeof a==="string"){var b=a.replace(/-/g,"_").split(/_/),c=b[0];for(var d=1;d<b.length;d++){var e=b[d];c+=e[0].toUpperCase()+e.slice(1)}return c}return a}function c(a){return typeof a==="string"?a.replace(/(dp|sp)/g,"px").replace(/\\u0025/g,"%"):a}function h(a){if(a.length===9){var b=parseInt(a.slice(1,3),16)/255,c=parseInt(a.slice(3,5),16),d=parseInt(a.slice(5,7),16),e=parseInt(a.slice(7,9),16);return[c,d,e,b]}else if(a.length===7){c=parseInt(a.slice(1,3),16);d=parseInt(a.slice(3,5),16);e=parseInt(a.slice(5,7),16);return[c,d,e,1]}b=a.slice(5,a.indexOf(")"));c=b.split(",").map(function(a){return Number(a)});d=c[0];e=c[1];a=c[2];b=c[3];return[d,e,a,b]}function i(a,b){b===void 0&&(b=2);a=a.toString(16);if(a.length===b)return a;while(a.length<b)a="0"+a;return a}function j(a){var b=a[0],c=a[1],d=a[2];a=a[3];return a===1?"#"+i(b)+i(c)+i(d):"rgba("+b+","+c+","+d+","+a.toFixed(4)+")"}function e(a,b){a=a["bk.types.ThemedColor"];var c=a.light_color;b===d("PolarisIGTheme.react").IGTheme.Dark&&(c=a.dark_color);return j(h(c))}function f(a){return j(h(a))}function k(a){var b="bk.action.map.Make",c="bk.action.array.Make";return a==null?"("+b+", ("+c+"), ("+c+"))":"("+b+", ("+c+", "+Object.keys(a).map(function(a){return JSON.stringify(a)}).join(", ")+"), ("+c+", "+Object.values(a).map(function(a){return JSON.stringify(a)}).join(", ")+"))"}g.toHyphen=a;g.toCamel=b;g.toPx=c;g.parseColor=h;g.formatColor=j;g.getColor=e;g.formatHex=f;g.constructBloksScriptParamsMap=k}),98);
__d("PolarisBloksAnimatedCreateDimension",["PolarisBloksAnimationFunctions","PolarisBloksErrors","PolarisBloksUtils","guid"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=/(^\d+)(%|px|dp$)/.exec(a);if(a==null)throw new(d("PolarisBloksErrors").BloksError)("failed to parse dimension");return{type:a[2],value:parseInt(a[1],10)}}function a(a,b,e,f,g,i,j){var k=null;a=h(f);var l=a.type;f=a.value;a=h(g).value;var m={animation:{duration:i*1e3,format:function(a){return d("PolarisBloksUtils").toPx(String(a)+l)},from:f,interpolator:(g=j)!=null?g:d("PolarisBloksAnimationFunctions").linearInterpolator(),step:Math.abs(f-a)/(i*1e3/20),style:"transform",to:a},getCurrentValue:function(){return k},id:c("guid")(),onComplete:e,onUpdate:function(){},setCurrentValue:function(a){k=a},type:"___SINGLE___"};m.onUpdate=function(){b(m)};return m}g["default"]=a}),98);
__d("PolarisBloksAnimatedGetCurrentColorValue",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(b.getCurrentValue!=null)return String(b.getCurrentValue())}f["default"]=a}),66);
__d("PolarisBloksAnimatedGetCurrentDimensionValue",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(b.getCurrentValue!=null)return String(b.getCurrentValue())}f["default"]=a}),66);
__d("PolarisBloksAnimatedGetCurrentValue",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(b.getCurrentValue!=null)return parseFloat(b.getCurrentValue())}f["default"]=a}),66);
__d("PolarisBloksAnimatedParallel",["guid"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){return{animations:e,id:c("guid")(),onComplete:b,startDelay:d,type:"___MULTIPLE___"}}g["default"]=a}),98);
__d("PolarisBloksAnimationScheduler",["Promise","asyncToGeneratorRuntime","clamp"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(){this.store={}}var d=a.prototype;d.cancel=function(a,b){a=this.store[a];if(!a)return;if(b!==void 0){window.cancelAnimationFrame(a.$1[b]);return}while(a.$1.length>0)window.cancelAnimationFrame(a.$1.pop())};d.playBloksAnimation=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c,d=this,e=a.id;this.store[e]={$1:(c=this.store[e].$1)!=null?c:[],animation:a,id:e};if(a.type==="___SINGLE___"){c=a.onComplete;yield this.playBloksSingleAnimation({bloksAnimation:a,index:0});c!=null&&c()}else{e=a.animations;c=a.onComplete;a=a.startDelay;yield i((a=a)!=null?a:0);yield (h||(h=b("Promise"))).all(e.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield d.playBloksAnimation(a)});return function(b){return a.apply(this,arguments)}}()));c!=null&&c()}});function c(b){return a.apply(this,arguments)}return c}();d.playBloksSingleAnimation=function(a){var d=this,e=a.bloksAnimation,f=a.index;a=e.animation;var g=e.id,i=e.onUpdate,j=e.setCurrentValue,k=a.duration,l=a.format,m=a.from,n=a.interpolator,o=a.to;return new(h||(h=b("Promise")))(function(a,b){var e=[].concat(m),h=[].concat(o),p;a=function a(b){var m;p=(m=p)!=null?m:b;m=b-p;b=k>0?m/k:1;m=c("clamp")(b,0,1);var o=[];for(var q=0;q<e.length;q++)h[q]>e[q]?o.push(e[q]+n(b)*(h[q]-e[q])):o.push(e[q]-n(b)*(e[q]-h[q]));j(l.apply(void 0,o));i();m!==1&&(d.store[g].$1[f]=window.requestAnimationFrame(a))};d.store[g].$1[f]=window.requestAnimationFrame(a)})};return a}();function i(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield new(h||(h=b("Promise")))(function(b){a>0?window.setTimeout(b,a*1e3):b()})});return j.apply(this,arguments)}d=new a();g.AnimationScheduler=a;g.animationScheduler=d}),98);
__d("PolarisBloksAnimatedStart",["PolarisBloksAnimationScheduler"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){d("PolarisBloksAnimationScheduler").animationScheduler.playBloksAnimation(b)}g["default"]=a}),98);
__d("PolarisBloksApply",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){for(var c=arguments.length,d=new Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return b.apply(void 0,d)}f["default"]=a}),66);
__d("PolarisBloksArrayAppend",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){b.push(c);return b}f["default"]=a}),66);
__d("PolarisBloksArrayClone",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return[].concat(b)}f["default"]=a}),66);
__d("PolarisBloksArrayConcat",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b.concat(c)}f["default"]=a}),66);
__d("PolarisBloksArrayGet",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b[c]}f["default"]=a}),66);
__d("PolarisBloksArrayIndexOf",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b.indexOf(c)}f["default"]=a}),66);
__d("PolarisBloksArrayLength",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b.length}f["default"]=a}),66);
__d("PolarisBloksArrayMake",[],(function(a,b,c,d,e,f){"use strict";function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return c}f["default"]=a}),66);
__d("PolarisBloksArrayPut",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){c===b.length?b.push(d):b[c]=d}f["default"]=a}),66);
__d("PolarisBloksArrayPutAndGet",["PolarisBloksArrayPut"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){c("PolarisBloksArrayPut")(a,b,d,e);return b}g["default"]=a}),98);
__d("PolarisBloksArrayRemove",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){b.splice(c,1)}f["default"]=a}),66);
__d("PolarisBloksArrayRemoveAndGet",["PolarisBloksArrayRemove"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){c("PolarisBloksArrayRemove")(a,b,d);return b}g["default"]=a}),98);
__d("PolarisBloksArrayUpdate",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){for(a=0;a<c.length;a++){var e=c[a];b[e]=d[a]}}f["default"]=a}),66);
__d("PolarisBloksAsyncAction",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e,f){a.executeAsync(b,c).then(d)["catch"](e)}f["default"]=a}),66);
__d("PolarisBloksAsyncActionWithDataManifest",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e,f){a.executeAsync(b,c,!0).then(function(a){d(a)})["catch"](e)}f["default"]=a}),66);
__d("PolarisBloksAsyncLoadV2",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e){a.environment.appLoader.get(b,c,a.params.appGetOptions).then(function(a){d(a.tree)})["catch"](e)}f["default"]=a}),66);
__d("PolarisBloksBindWithArrayV2",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return function(){for(var a=arguments.length,d=new Array(a),e=0;e<a;e++)d[e]=arguments[e];return b.apply(void 0,c.concat(d))}}f["default"]=a}),66);
__d("PolarisBloksBooleanUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a===!0||a===1}function b(a){return a===!1||a===0}f.isTrue=a;f.isFalse=b}),66);
__d("PolarisBloksBoolAnd",["PolarisBloksBooleanUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return d("PolarisBloksBooleanUtils").isTrue(b)&&d("PolarisBloksBooleanUtils").isTrue(c)?1:0}g["default"]=a}),98);
__d("PolarisBloksBoolNot",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return Number(!b)}f["default"]=a}),66);
__d("PolarisBloksBoolOr",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return Boolean(b)||Boolean(c)?1:0}f["default"]=a}),66);
__d("PolarisBloksChildAtIndex",["PolarisBloksNode.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){b=b.getChildAtIndex(c);if(b==null)return null;c=d("PolarisBloksNode.react").getNodeId(b);return c==null?null:a.environment.componentContexts.get(c)}g["default"]=a}),98);
__d("PolarisBloksClipboardSetString",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){navigator.clipboard.writeText(b)}f["default"]=a}),66);
__d("usePolarisBloksDrawable",["PolarisBloksNode.react","PolarisBloksUtils","PolarisIGTheme.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo,k=b.useState,l=b.unstable_useMemoCache;function m(a){return[1,void 0,!0].includes(a)}function a(a,b,c){var d=l(5),e;d[0]!==c?(e=c===void 0?{}:c,d[0]=c,d[1]=e):e=d[1];c=e;e=n(a,b,c);a=o(a,b,c);d[2]!==e||d[3]!==a?(b=babelHelpers["extends"]({},e,a),d[2]=e,d[3]=a,d[4]=b):b=d[4];c=b;return c}function n(a,b,c){c===void 0&&({});var e=d("PolarisIGTheme.react").useTheme().getTheme();return j(function(){if(!a)return{};var b=q(e,a);return b==null?{}:{background:b}},[a,e])}function o(a,b,c){c===void 0&&(c={});var e=d("PolarisIGTheme.react").useTheme().getTheme(),f=k(m(c.enabled)?"default":"disabled"),g=f[0],h=f[1];i(function(){h(m(c.enabled)?"default":"disabled")},[c.enabled]);i(function(){var d=b.current;if(d==null)return function(){};function e(){h("pressed");function a(){h("default"),document.removeEventListener("mouseup",a),document.removeEventListener("touchend",a)}document.addEventListener("mouseup",a);document.addEventListener("touchend",a)}m(c.enabled)&&r(a,"pressed")&&(d.addEventListener("mousedown",e),d.addEventListener("touchstart",e));return function(){d.removeEventListener("mousedown",e),d.removeEventListener("touchstart",e)}},[a,c.enabled,b]);return j(function(){return a&&a["bk.components.StateDrawable"]?{background:s(e,a,g)}:{}},[e,a,g])}var p={bottom_left_to_top_right:"45deg",left_to_right:"90deg",top_left_to_bottom_right:"-45deg",top_to_bottom:"180deg"};function q(a,b){b=d("PolarisBloksNode.react").getNode(b);var c=b[0];b=b[1];switch(b){case"bk.components.ColorDrawable":return d("PolarisBloksUtils").formatHex(c.color);case"bk.components.ThemedColorDrawable":return d("PolarisBloksUtils").getColor(c.color,a);case"bk.components.GradientDrawable":b="";b+=p[c.orientation]+",";b+=d("PolarisBloksUtils").formatHex(c.begin_color)+",";c.middle_color&&(b+=d("PolarisBloksUtils").formatHex(c.middle_color)+",");b+=d("PolarisBloksUtils").formatHex(c.end_color);return"linear-gradient("+b+")";case"bk.components.GradientThemedColorDrawable":b="";b+=p[c.orientation]+",";b+=d("PolarisBloksUtils").getColor(c.begin_color,a)+",";c.middle_color&&(b+=d("PolarisBloksUtils").getColor(c.middle_color,a)+",");b+=d("PolarisBloksUtils").getColor(c.end_color,a);return"linear-gradient("+b+")";default:return null}}function r(a,b){if(!a)return!1;a=(a=(a=a["bk.components.StateDrawable"])==null?void 0:a.state_items)!=null?a:[];return a.some(function(a){a=a["bk.components.StateDrawableItem"];return a.state===b})}function s(a,b,c){b=b["bk.components.StateDrawable"].state_items;for(var b=b,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;f=f["bk.components.StateDrawableItem"];if(f.state===c)return q(a,f.drawable)}return null}g["default"]=a}),98);
__d("usePolarisBloksDecoration",["PolarisBloksBooleanUtils","PolarisBloksUtils","react","usePolarisBloksDrawable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache,j=0,k=3,l=6,m="#000000";function a(a,b,e){var f=i(2),g=a.decoration,h=a.enabled,n={};g=g==null?void 0:g["bk.components.BoxDecoration"];var o=g==null?void 0:g.corner_radius;if(o!=null){var p;f[0]!==o?(p=d("PolarisBloksUtils").toPx(o),f[0]=o,f[1]=p):p=f[1];n.borderRadius=p}o=g==null?void 0:g.border_width;f=(g==null?void 0:g.border_themed_color)!=null?d("PolarisBloksUtils").getColor(g.border_themed_color,b):g==null?void 0:g.border_color;if(o!=null&&f!=null){p=d("PolarisBloksUtils").toPx(o);n.border=p+" solid "+f}o=g==null?void 0:g.shadow_opacity;p=g==null?void 0:g.shadow_themed_color;if(o!=null){f=m;if(p!=null){p=d("PolarisBloksUtils").getColor(p,b);b=d("PolarisBloksUtils").parseColor(p);p=b[0];var q=b[1],r=b[2];b=b[3];b=b*o;f=d("PolarisBloksUtils").formatColor([p,q,r,b])}p=(o=g==null?void 0:g.shadow_offset_width)!=null?o:j;r=(q=g==null?void 0:g.shadow_offset_height)!=null?q:k;o=(b=g==null?void 0:g.shadow_radius)!=null?b:l;n.boxShadow=p+"px "+r+"px "+o+"px "+f}q=g==null?void 0:g.clipping;d("PolarisBloksBooleanUtils").isTrue(q)&&(n.overflow="hidden");b=g==null?void 0:g.background;p=c("usePolarisBloksDrawable")(b,e,a);Object.prototype.hasOwnProperty.call(a,"on_click")&&h!==0&&(n.cursor="pointer");return babelHelpers["extends"]({},n,p)}g["default"]=a}),98);
__d("usePolarisBloksDataBinding",["PolarisBloksAppContext.react","react","usePolarisBloksExecutor"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.useRef,k=b.useState,l=b.unstable_useMemoCache;function m(a){return a.reduce(function(a,b){var c=b[1];b=b[2];a[c]=b;return a},{})}function a(a){var b=l(8),c;b[0]!==a?(c=a||{},b[0]=a,b[1]=c):c=b[1];a=c;var e=a.on_bind;c=d("PolarisBloksAppContext.react").useBloksAppContext();a=c.manifest;var f=d("usePolarisBloksExecutor").useBloksExecutor(),g=a.getSnapshot();b[2]===Symbol["for"]("react.memo_cache_sentinel")?(c={},b[2]=c):c=b[2];a=k(c);c=a[0];var h=a[1],n=j(null),o;b[3]!==e||b[4]!==f||b[5]!==g?(a=function(){if(e!=null){var a=f(e,[g]);n.current=a;a.then(function(b){n.current===a&&h(m(b))})}else n.current=null,h({})},o=[f,e,g],b[3]=e,b[4]=f,b[5]=g,b[6]=a,b[7]=o):(a=b[6],o=b[7]);i(a,o);return c}g["default"]=a}),98);
__d("usePolarisBloksLayout",["PolarisBloksUtils","react","usePolarisBloksDataBinding"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.unstable_useMemoCache,j={end:"right",marginEnd:"marginRight",marginStart:"marginLeft",paddingEnd:"paddingRight",paddingStart:"paddingLeft",start:"left"};function a(a,b,e){b=i(5);if(b[0]!==a._style){e=((e=a._style)==null?void 0:e.flex)||{};b[0]=a._style;b[1]=e}else e=b[1];e=e;var f=e.id;e=e.on_bind;f=f!=null&&e!=null?{id:f,on_bind:e}:null;e=c("usePolarisBloksDataBinding")(f);if(b[2]!==a._style||b[3]!==e){var g;f={};if((g=a._style)==null?void 0:g.flex){g=a._style.flex;g=Object.entries(g);for(var h=0;h<g.length;h++){var k=g[h],l=k[0];k=k[1];l=d("PolarisBloksUtils").toCamel(l);bb0:switch(l){case"grow":f.flexGrow=String(k);break bb0;case"shrink":f.flexShrink=String(k);break bb0;case"position_type":case"positionType":f.position=String(k);break bb0;case"bottom":case"left":case"right":case"top":f[l]=d("PolarisBloksUtils").toPx(String(k));f.position="absolute";break bb0;case"aspectRatio":break bb0;case"start":case"end":case"marginStart":case"marginEnd":case"paddingStart":case"paddingEnd":f[j[l]]=d("PolarisBloksUtils").toPx(d("PolarisBloksUtils").toHyphen(String(k)));break bb0;default:f[l]=d("PolarisBloksUtils").toPx(d("PolarisBloksUtils").toHyphen(String(k)))}}}if((l=a._style)==null?void 0:l.collection){k=a._style.collection;g=Object.entries(k);for(h=0;h<g.length;h++){l=g[h];k=l[0];l=l[1];k=d("PolarisBloksUtils").toCamel(k);bb1:switch(k){case"isSticky":l===!0&&(f.position="sticky");break bb1;case"onAppear":case"onDisappear":break bb1;case"height":f.height=d("PolarisBloksUtils").toPx(String(l));break bb1;case"width":f.width=d("PolarisBloksUtils").toPx(String(l));break bb1;default:f[k]=d("PolarisBloksUtils").toPx(d("PolarisBloksUtils").toHyphen(String(l)))}}}((k=a._style)==null?void 0:k["ig.style.SearchStyle"])&&(f.width="100%");for(l in e)bb2:switch(l){case"bottom":case"left":case"right":case"top":f[l]=d("PolarisBloksUtils").toPx(String(e[l]));break bb2;default:f[l]=e[l]}f.ntDebugMetadataV2!=null&&(f.ntDebugMetadataV2=void 0);b[2]=a._style;b[3]=e;b[4]=f}else f=b[4];g=f;return g}g["default"]=a}),98);
__d("PolarisBloksStyle.react",["PolarisIGTheme.react","react","usePolarisBloksDecoration","usePolarisBloksLayout","usePolarisBloksWrapper"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));e=h;var i=e.useRef,j=e.unstable_useMemoCache;function a(a){switch(a){case"gone":return{display:"none"};case"invisible":return{visibility:"hidden"};case"visible":default:return Object.freeze({})}}function b(a){var b=j(11),e=i(null),f=d("PolarisIGTheme.react").useTheme().getTheme(),g=c("usePolarisBloksLayout")(a,f,e),h=c("usePolarisBloksDecoration")(a,f,e);a=c("usePolarisBloksWrapper")(a,g);var k=a.hasWrapper;a=a.wrapper;var l;b[0]!==k||b[1]!==g?(l=k?{height:"100%",width:"100%"}:g,b[0]=k,b[1]=g,b[2]=l):l=b[2];k=l;b[3]!==h||b[4]!==k?(g=babelHelpers["extends"]({},h,k),b[3]=h,b[4]=k,b[5]=g):g=b[5];b[6]!==e||b[7]!==g||b[8]!==f||b[9]!==a?(l={ref:e,style:g,theme:f,wrapper:a},b[6]=e,b[7]=g,b[8]=f,b[9]=a,b[10]=l):l=b[10];return l}g.getVisibilityStyle=a;g.useStyle=b}),98);
__d("PolarisBloksShadowContext.react",["PolarisBloksEnvironmentContext.react","PolarisBloksNode.react","Promise","react","usePolarisBloksExecutor"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));f=i;var k=f.useContext,l=f.useEffect,m=f.unstable_useMemoCache;f=function(){function a(a,b){this.$3=new Set(),this.$4=new Set(),this.$1=a,this.$2=b}var c=a.prototype;c.addReduceListener=function(a){this.$3.add(a)};c.removeReduceListener=function(a){this.$3["delete"](a)};c.addReflowListener=function(a){this.$4.add(a)};c.removeReflowListener=function(a){this.$4["delete"](a)};c.getState=function(){return this.$1};c.reduce=function(){return(h||(h=b("Promise"))).all(Array.from(this.$3).map(function(a){return a()}))};c.reflow=function(){this.$4.forEach(function(a){return a()}),this.$2()};c.update=function(){this.$2()};return a}();var n=j.createContext(new f([],function(){}));function a(a,b,c){var d=m(4),e=k(n);o(a,b,c);d[0]!==b||d[1]!==e?(a=function(){var a=function(){return b.reflow()};e.addReflowListener(a);return function(){return e.removeReflowListener(a)}},c=[e,b],d[0]=b,d[1]=e,d[2]=a,d[3]=c):(a=d[2],c=d[3]);l(a,c)}function o(a,b,c){var e=m(6),f=d("usePolarisBloksExecutor").useBloksExecutor(),g,h;e[0]!==c||e[1]!==f||e[2]!==a||e[3]!==b?(g=function(){if(c!=null){var d=function(){return f(c,[a])};b.addReduceListener(d);return function(){return b.removeReduceListener(d)}}return function(){}},h=[a,f,c,b],e[0]=c,e[1]=f,e[2]=a,e[3]=b,e[4]=g,e[5]=h):(g=e[4],h=e[5]);l(g,h)}function p(a,b,c){var e=m(6),f=d("usePolarisBloksExecutor").useBloksExecutor(),g,h;e[0]!==c||e[1]!==f||e[2]!==a||e[3]!==b?(g=function(){if(c!=null){var d=function(){return f(c,[a])};b.addReflowListener(d);return function(){return b.removeReflowListener(d)}}return function(){}},h=[a,f,c,b],e[0]=c,e[1]=f,e[2]=a,e[3]=b,e[4]=g,e[5]=h):(g=e[4],h=e[5]);l(g,h)}function c(a,b){var c=b.on_reflow;b=b.reduce;var d=k(n);o(a,d,b);p(a,d,c);return d}function e(a){var b=m(12),c=a.shadowContext;a=a.shadowNode;var e;b[0]!==a?(e=d("PolarisBloksNode.react").getNode(a),b[0]=a,b[1]=e):e=b[1];a=e;e=a[0];a=e.child;var f=e.id;e=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();var g=e.shadowContexts,h;b[2]!==g||b[3]!==f||b[4]!==c?(e=function(){g.add(String(f),c);return function(){g.remove(String(f))}},h=[g,c,f],b[2]=g,b[3]=f,b[4]=c,b[5]=e,b[6]=h):(e=b[5],h=b[6]);l(e,h);b[7]!==a?(e=j.jsx(d("PolarisBloksNode.react").BloksNode,{node:a}),b[7]=a,b[8]=e):e=b[8];b[9]!==c||b[10]!==e?(h=j.jsx(n.Provider,{value:c,children:e}),b[9]=c,b[10]=e,b[11]=h):h=b[11];return h}g.BloksShadowContext=f;g.useShadowNode=a;g.useShadowContext=c;g.ShadowContextProvider=e}),98);
__d("usePolarisBloksNode",["PolarisBloksComponentContext.react","PolarisBloksNode.react","PolarisBloksShadowContext.react","usePolarisBloksDataBinding"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=d("PolarisBloksNode.react").getNode(a);var b=a[0];a=a[1];var e=d("PolarisBloksComponentContext.react").useComponentContext(b),f=c("usePolarisBloksDataBinding")(b);b=babelHelpers["extends"]({},b,f,e.getOverrides());d("PolarisBloksShadowContext.react").useShadowContext(e,b);return[b,a,e,f]}g["default"]=a}),98);
__d("PolarisBloksViewTransformsExtensionWrapper.react",["PolarisBloksEnvironmentContext.react","PolarisBloksUtils","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(3),e=a.children;a=a.node;a=c("usePolarisBloksNode")(a);a=a[0];var f=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();f=f.getStyleProps;var g=[],h=a.alpha,k=a.rotation,l=a.scale_x,m=a.scale_y,n=a.translate_x;a=a.translate_y;n!=null&&g.push("translateX("+d("PolarisBloksUtils").toPx(n)+")");a!=null&&g.push("translateY("+d("PolarisBloksUtils").toPx(a)+")");l!=null&&g.push("scaleX("+l+")");m!=null&&g.push("scaleY("+m+")");k!=null&&g.push("rotate("+k+"deg)");n=g.join(" ");a=f({height:"100%",opacity:h,transform:n,width:"100%"});b[0]!==a||b[1]!==e?(l=j.jsx("div",babelHelpers["extends"]({"data-bloks-name":"bk.components.ViewTransformsExtension"},a,{children:e})),b[0]=a,b[1]=e,b[2]=l):l=b[2];return l}g["default"]=a}),98);
__d("usePolarisBloksWrapper",["invariant","PolarisBloksContext.react","PolarisBloksEnvironmentContext.react","PolarisBloksNode.react","PolarisBloksStyle.react","PolarisBloksViewTransformsExtensionWrapper.react","PolarisViewpointReact.react","guid","nullthrows","react","usePolarisBloksDrawable","usePolarisBloksExecutor","useStable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useLayoutEffect,l=b.useMemo,m=b.useRef,n=b.useState;function a(a,b){var e=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment(),f=e.getComponentForName,g=e.getStyleProps,h=(e=a._style)==null?void 0:(e=e.flex)==null?void 0:e.aspect_ratio,i=(e=a.decoration)==null?void 0:e["bk.components.BoxDecoration"].foreground,k=l(function(){return[].concat(w(a.extensions,"bk.components.VisibilityExtension"),w(a.extensions,"ig.components.ViewpointExtension"))},[a.extensions]),m=x(a.extensions,"bk.components.AnchorIdExtension"),n=x(a.extensions,"ig.components.AnchorTagExtension"),q=x(a.extensions,"bk.components.AutomationTestExtension"),u=x(a.extensions,"bk.components.AccessibilityExtension"),y=x(a.extensions,"ig.components.ShoppingNavBarExtension"),z=x(a.extensions,"bk.components.ViewTransformsExtension"),A=a._style,B=(A==null?void 0:A.collection)!=null&&(A.collection.on_appear!=null||A.collection.on_disappear!=null),C=h!=null||i!=null||k.length>0||B||m!=null||n!=null||q!=null||u!=null||y!=null||z,D=h!=null||i!=null||m!=null||n!=null||q!=null||y!=null||z!=null;e=l(function(){return!C?function(a){return a}:function(e){e=e;h!=null&&(e=j.jsx(p,{aspectRatio:h,children:e}));if(i!=null){var l=d("PolarisBloksNode.react").getNode(i);l=l[1];if(l==="bk.components.showreel.AnimatedGradientDrawable")try{l=f("bk.components.showreel.AnimatedGradientDrawable");e=j.jsxs(j.Fragment,{children:[j.jsx(l,{node:i}),e]})}catch(a){}else e=j.jsxs(j.Fragment,{children:[j.jsx(o,{drawable:i}),e]})}k.length>0&&(e=j.jsx(s,{id:a.id,nodes:k,children:e}));B&&A!=null&&(e=j.jsx(t,{id:a.id,style:A,children:e}));n!=null&&(e=j.jsx(r,{layoutStyles:b,node:n,children:e}));u!=null&&(e=j.jsx(v,{node:u,children:e}));if(y!=null){try{l=f("ig.components.ShoppingNavBarExtension")}catch(a){l=null}l&&(e=j.jsx(l,{node:{"ig.components.ShoppingNavBarExtension":babelHelpers["extends"]({children:e},y["ig.components.ShoppingNavBarExtension"])}}))}z!=null&&(e=j.jsx(c("PolarisBloksViewTransformsExtensionWrapper.react"),{node:z,children:e}));l={};if(m!=null){var w=d("PolarisBloksNode.react").getNode(m);w=w[0];w=Object.entries(w);for(var x=0;x<w.length;x++){var C=w[x],E=C[0];C=C[1];if(E==="key")continue;E=E.replace("_","-");l["data-"+E]=C}}if(q!=null){E=d("PolarisBloksNode.react").getNode(q);C=E[0].testing_id;C!=null&&(l["data-testid"]=C)}return D?j.jsx("div",babelHelpers["extends"]({},l,g(babelHelpers["extends"]({},d("PolarisBloksStyle.react").getVisibilityStyle(a.visibility),{alignSelf:h==null?void 0:"flex-start"},b,{maxHeight:"100%",maxWidth:"100%",zIndex:0})),{children:e})):e}},[C,h,i,k,B,A,n,u,y,z,m,q,D,a.id,a.visibility,b,f,g]);return{hasWrapper:D,wrapper:e}}function o(a){a=a.drawable;var b=m(null);a=c("usePolarisBloksDrawable")(a,b);var e=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();e=e.getStyleProps;return j.jsx("div",babelHelpers["extends"]({"data-bloks-name":"bk.components.BoxDecoration",ref:b},e(babelHelpers["extends"]({bottom:0,left:0,pointerEvents:"none",position:"absolute",right:0,top:0,zIndex:9e3},a))))}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.aspectRatio;a=a.children;var c=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();c=c.getStyleProps;return j.jsx("div",babelHelpers["extends"]({"data-bloks-name":"bk.components.AspectRatio"},c({height:"0",paddingBottom:1/b*100+"%",pointerEvents:"none",position:"relative",width:"100%"}),{children:j.jsx("div",babelHelpers["extends"]({"data-bloks-name":"bk.components.AspectRatio"},c({bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:0}),{children:a}))}))}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=m(null);k(function(){var c;a.current=(c=(c=b.current)==null?void 0:c.children[0])!=null?c:null});return b}function r(a){var b=a.children,e=a.layoutStyles;a=a.node;a=d("PolarisBloksNode.react").getNode(a);var f=a[0];f.on_click!=null||f.href!=null||h(0,63800);a=d("PolarisBloksContext.react").useBloksContext();var g=a.environment,i=g.getAnchorComponent;g=g.getStyleProps;var k=a.execute;a=f.on_click?function(a){k(c("nullthrows")(f.on_click)),f.stop_propagation&&a.stopPropagation()}:void 0;i=i();return j.jsx(i,babelHelpers["extends"]({href:f.href,onClick:a},g(babelHelpers["extends"]({color:"unset",cursor:"pointer"},e)),{children:b}))}r.displayName=r.name+" [from "+f.id+"]";function s(a){var b=a.children,e=a.id,f=a.nodes;a=c("useStable")(function(){return c("guid")()});var g=n(!1),h=g[0],i=g[1];g=n(0);var k=g[0],l=g[1],m=d("usePolarisBloksExecutor").useBloksExecutor();function o(a){var b=babelHelpers["extends"]({},a,{hasSeenBefore:h,lastImpressionTimeMS:k});f.forEach(function(c){c=d("PolarisBloksNode.react").getNode(c);c=c[0];switch(a.state){case"entered":c.on_appear&&m(c.on_appear,[b]);break;case"exited":c.on_disappear&&m(c.on_disappear,[b]);break;default:}});!h&&a.state==="entered"&&i(!0);a.state==="entered"&&l(Date.now())}o=d("PolarisViewpointReact.react").useViewpoint({action:o,id:(g=e)!=null?g:a});e=q(o);g=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();a=g.getStyleProps;return j.jsx("div",babelHelpers["extends"]({"data-bloks-name":"bk.components.VisibilityExtension",ref:e},a({display:"contents"}),{children:b}))}s.displayName=s.name+" [from "+f.id+"]";function t(a){var b=a.children,e=a.id,f=a.style;a=m(c("guid")());var g=d("usePolarisBloksExecutor").useBloksExecutor();function h(a){switch(a.state){case"entered":f.collection&&f.collection.on_appear&&g(f.collection.on_appear);break;case"exited":f.collection&&f.collection.on_disappear&&g(f.collection.on_disappear);break}}e=d("PolarisViewpointReact.react").useViewpoint({action:h,id:(h=e)!=null?h:a.current});h=q(e);a=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();e=a.getStyleProps;return j.jsx("div",babelHelpers["extends"]({ref:h},e({display:"contents"}),{children:b}))}t.displayName=t.name+" [from "+f.id+"]";var u={Button:"button",Header:"heading",Image:"img","Image Button":"button","Selected Button":"button",Text:""};function v(a){var b=a.children;a=a.node;var c=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();c=c.getStyleProps;a=d("PolarisBloksNode.react").getNode(a);a=a[0];if(a.enabled!==1)return b;a=a.role?u[a.role]:void 0;return j.jsx("div",babelHelpers["extends"]({role:a},c({display:"contents"}),{children:b}))}v.displayName=v.name+" [from "+f.id+"]";function w(a,b){return a==null?[]:a.filter(function(a){a=d("PolarisBloksNode.react").getNode(a);a=a[1];return a===b})}function x(a,b){return a==null?null:a.find(function(a){a=d("PolarisBloksNode.react").getNode(a);a=a[1];return a===b})}g["default"]=a}),98);
__d("PolarisBloksCollection.react",["PolarisBloksEnvironmentContext.react","PolarisBloksNode.react","PolarisBloksStyle.react","PolarisBloksUtils","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function k(a,b,c){if(c||b==null)return{};else if(a==="row")return{marginRight:d("PolarisBloksUtils").toPx(b)};return{marginBottom:d("PolarisBloksUtils").toPx(b)}}function a(a){var b=i(11);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0];a=a[1];var f=e.children,g=e.direction,h=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment(),l=h.getStyleProps;h=d("PolarisBloksStyle.react").useStyle(e);var m=h.ref,n=h.style;h=h.wrapper;g=g==="row"?{overflowX:"auto",overflowY:"hidden"}:{overflowX:"hidden",overflowY:"auto"};n=l(babelHelpers["extends"]({},n,g,{flexDirection:e.direction,width:"100%"}));g=l({flex:"1 1 auto",flexDirection:e.direction});var o=f&&f.map(function(a,b){return j.jsx("div",babelHelpers["extends"]({},l(babelHelpers["extends"]({},k(e.direction,e.item_spacing,b===f.length),{flexDirection:e.direction,flexShrink:0})),{children:j.jsx(d("PolarisBloksNode.react").BloksNode,{node:a})}),b)}),p;b[0]!==g||b[1]!==o?(p=j.jsx("div",babelHelpers["extends"]({},g,{children:o})),b[0]=g,b[1]=o,b[2]=p):p=b[2];b[3]!==a||b[4]!==m||b[5]!==n||b[6]!==p?(g=j.jsx("div",babelHelpers["extends"]({"data-bloks-name":a,ref:m},n,{children:p})),b[3]=a,b[4]=m,b[5]=n,b[6]=p,b[7]=g):g=b[7];b[8]!==h||b[9]!==g?(o=h(g),b[8]=h,b[9]=g,b[10]=o):o=b[10];return o}g["default"]=a}),98);
__d("PolarisBloksConstNumber",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return Number(b)}f["default"]=a}),66);
__d("PolarisBloksCurrentTimeMillis",[],(function(a,b,c,d,e,f){"use strict";function a(a){return Date.now()}f["default"]=a}),66);
__d("PolarisBloksDangerouslyGetTreeFromParseResult",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b.tree}f["default"]=a}),66);
__d("PolarisBloksDatetimeTextProvider.react",["CurrentLocale","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){var a=c("CurrentLocale").get().split("_"),b=a[0];a=a[1];return b+"-"+a.toUpperCase()}(),i={full:{day:"numeric",hour:"numeric",minute:"numeric",month:"long",second:"numeric",timeZoneName:"long",weekday:"long",year:"numeric"},"long":{day:"numeric",hour:"numeric",minute:"numeric",month:"long",second:"numeric",timeZoneName:"short",year:"numeric"},medium:{day:"numeric",hour:"numeric",minute:"numeric",month:"short",second:"numeric",year:"numeric"},"short":{day:"numeric",hour:"numeric",minute:"2-digit",month:"numeric",year:"2-digit"}};function j(a,b){a=babelHelpers["extends"]({},i[a]);b==="date"?(delete a.hour,delete a.minute,delete a.second,delete a.timeZoneName):b==="time"&&(delete a.weekday,delete a.year,delete a.month,delete a.day);return a}function a(a){a=a.node;a=c("usePolarisBloksNode")(a);a=a[0];var b=a.format,d=a.timestamp;a=a.type;return new Intl.DateTimeFormat(h,j(b,a)).format(d*1e3)}g["default"]=a}),98);
__d("PolarisBloksDefault",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b}f["default"]=a}),66);
__d("PolarisBloksDelay",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){window.setTimeout(c,b)}f["default"]=a}),66);
__d("PolarisBloksDismissBottomSheet",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a.modals.clear(),a.execute(b)}f["default"]=a}),66);
__d("PolarisBloksDismissKeyboard",[],(function(a,b,c,d,e,f){"use strict";function a(a){(a=document.activeElement)==null?void 0:a.blur()}f["default"]=a}),66);
__d("PolarisBloksDummy",[],(function(a,b,c,d,e,f){"use strict";function a(){}f["default"]=a}),66);
__d("PolarisBloksDummyComponent",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){a=(a=Object.keys(a.node).pop())!=null?a:"This component";throw new Error(a+" is not yet implemented. Please override in renderer")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisBloksFindComponentContext",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.environment.componentContexts.get(String(b))}f["default"]=a}),66);
__d("usePolarisClickableProps",["PolarisBloksContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache;function a(a,b){var c=i(10);b=d("PolarisBloksContext.react").useBloksContext(b);var e=b.execute;if(a==null){c[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=Object.freeze({}),c[0]=b):b=c[0];return b}c[1]!==e||c[2]!==a?(b=function(b){b.preventDefault(),b.stopPropagation(),e(a)},c[1]=e,c[2]=a,c[3]=b):b=c[3];b=b;var f;c[4]!==e||c[5]!==a?(f=function(b){(b.key===" "||b.key==="Enter")&&(b.preventDefault(),b.stopPropagation(),e(a))},c[4]=e,c[5]=a,c[6]=f):f=c[6];f=f;var g;c[7]!==b||c[8]!==f?(g={onClick:b,onKeyPress:f,role:"button",tabIndex:0},c[7]=b,c[8]=f,c[9]=g):g=c[9];return g}g["default"]=a}),98);
__d("PolarisBloksFlexbox.react",["PolarisBloksBooleanUtils","PolarisBloksContext.react","PolarisBloksEnvironmentContext.react","PolarisBloksNode.react","PolarisBloksStyle.react","PolarisBloksUtils","react","usePolarisBloksNode","usePolarisClickableProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){a=a.node;var b=c("usePolarisBloksNode")(a),e=b[0];b=b[1];var f=d("PolarisBloksStyle.react").useStyle(e),g=f.ref,h=f.style;f=f.wrapper;var k=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();k=k.getStyleProps;var l=c("usePolarisClickableProps")(e.on_click,a);a=d("PolarisBloksContext.react").useBloksContext(a);var m=a.execute;j(function(){if(e.on_mount==null)return;m(e.on_mount)},[e.on_mount]);a=!d("PolarisBloksBooleanUtils").isFalse(e.enabled);return f(i.jsx("div",babelHelpers["extends"]({"data-bloks-name":b,ref:g},k(babelHelpers["extends"]({},h,d("PolarisBloksStyle.react").getVisibilityStyle(e.visibility),{alignContent:(f=d("PolarisBloksUtils")).toHyphen(e.align_content),alignItems:f.toHyphen(e.align_items),flexDirection:f.toHyphen(e.flex_direction),flexWrap:f.toHyphen(e.flex_wrap),justifyContent:f.toHyphen(e.justify_content),overflow:h.borderRadius!=null?"hidden":h.overflow,pointerEvents:a&&l.onClick!=null?"auto":"none"})),a?l:{},{children:e.children&&i.jsx(d("PolarisBloksNode.react").BloksNode,{node:e.children})})))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisBloksGetAttr",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b.getAttrs()[c]}f["default"]=a}),66);
__d("PolarisBloksGetState",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.environment.shadowContexts.get(String(b))}f["default"]=a}),66);
__d("PolarisBloksGetVariable2",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.manifest.getVariable(String(b))}f["default"]=a}),66);
__d("PolarisBloksImage.react",["PolarisBloksEnvironmentContext.react","PolarisBloksStyle.react","PolarisIGTheme.react","PolarisMonitorErrors","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){switch(a){case"contain":return"contain";case"stretch":return"fill";case"cover":default:return"cover"}}function a(a){a=a.node;a=c("usePolarisBloksNode")(a);var b=a[0];a=a[1];var e=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();e=e.getStyleProps;var f=d("PolarisBloksStyle.react").useStyle(b),g=f.ref,h=f.style,k=f.theme;f=f.wrapper;var l=b.dark_url,m=b.scale_type;b=b.url;k=k===d("PolarisIGTheme.react").IGTheme.Light||l==null?b:l;b=null;try{b=k==null?void 0:k.replace(/\\/g,"")}catch(a){d("PolarisMonitorErrors").logError(a)}h.position==="absolute"&&(h.top==="0px"&&h.bottom==="0px"&&(h.height="100%"),h.left==="0px"&&h.right==="0px"&&(h.width="100%"));return f(i.jsx("img",babelHelpers["extends"]({"data-bloks-name":a,ref:g,src:b},e(babelHelpers["extends"]({},h,{objectFit:j(m),overflow:"hidden"})))))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisBloksIndexOfChild",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b.getIndexOfChild(String(c))}f["default"]=a}),66);
__d("PolarisBloksInflateSync",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b}f["default"]=a}),66);
__d("PolarisBloksInsertChildrenAfter",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){a=a.environment.componentContexts.get(String(b));if(a==null)return;a.insertChildrenAfter(String(d),c)}f["default"]=a}),66);
__d("PolarisBloksInternalMerge.react",["PolarisBloksNode.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(4);a=a.node;var c;b[0]!==a?(c=d("PolarisBloksNode.react").getNode(a),b[0]=a,b[1]=c):c=b[1];a=c;c=a[0];b[2]!==c.children?(a=c.children!=null&&j.jsx(d("PolarisBloksNode.react").BloksNode,{node:c.children}),b[2]=c.children,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("usePolarisTriggerRender",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useState,j=b.unstable_useMemoCache;function a(){var a=j(2),b=i(),c=b[1];a[0]!==c?(b=function(){return c(Object.create(null))},a[0]=c,a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("PolarisBloksInternalShadow.react",["PolarisBloksShadowContext.react","react","usePolarisBloksExecutor","usePolarisBloksNode","usePolarisTriggerRender","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(3);a=a.node;var e=c("usePolarisBloksNode")(a),f=e[0];e=e[2];var g=d("usePolarisBloksExecutor").useBloksExecutor(),h=c("usePolarisTriggerRender")(),k=c("useStable")(function(){var a=g(f.init_state);return new(d("PolarisBloksShadowContext.react").BloksShadowContext)(a,h)});d("PolarisBloksShadowContext.react").useShadowNode(e,k,f.reduce);b[0]!==k||b[1]!==a?(e=j.jsx(d("PolarisBloksShadowContext.react").ShadowContextProvider,{shadowContext:k,shadowNode:a}),b[0]=k,b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("PolarisBloksJsonEncode",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return JSON.stringify(b)}f["default"]=a}),66);
__d("PolarisBloksLogEvent",[],(function(a,b,c,d,e,f){"use strict";function a(b,c,a,d){b.environment.eventLogger.logEvent(c,a,d)}f["default"]=a}),66);
__d("PolarisBloksMakeFlat",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b={};for(var c=0;c<(arguments.length<=1?0:arguments.length-1)-1;c+=2){var d=String(c+1<1||arguments.length<=c+1?void 0:arguments[c+1]);b[d]=c+1+1<1||arguments.length<=c+1+1?void 0:arguments[c+1+1]}return b}f["default"]=a}),66);
__d("PolarisBloksMapClone",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return babelHelpers["extends"]({},b)}f["default"]=a}),66);
__d("PolarisBloksMapGet",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b[c]}f["default"]=a}),66);
__d("PolarisBloksMapKeys",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return Object.keys(b)}f["default"]=a}),66);
__d("PolarisBloksMapMake",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a={};for(var d=0;d<b.length;d++)a[b[d]]=c[d];return a}f["default"]=a}),66);
__d("PolarisBloksMapUpdate",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){Object.assign(b,c)}f["default"]=a}),66);
__d("PolarisBloksMatch",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){a=a.callArgs;for(var e=0;e<c.length;e++){var f=c[e];if(f["case"]===b||f["case"]===null&&b==null)return f.expression.apply(f,a)}return d.apply(void 0,a)}f["default"]=a}),66);
__d("PolarisBloksMatchesRegex",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){a=new RegExp(c,d);return!!b.match(a)}f["default"]=a}),66);
__d("PolarisBloksNumberAnd",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b&c}f["default"]=a}),66);
__d("PolarisBloksNumberEq",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return Number(b===c)}f["default"]=a}),66);
__d("PolarisBloksNumberGt",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return Number(b>c)}f["default"]=a}),66);
__d("PolarisBloksNumberLt",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return Number(b<c)}f["default"]=a}),66);
__d("PolarisBloksNumberMod",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b%c}f["default"]=a}),66);
__d("PolarisBloksNumberOr",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b|c}f["default"]=a}),66);
__d("PolarisBloksNumberRand",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return Math.floor(Math.random()*(c-b))+b}f["default"]=a}),66);
__d("PolarisBloksOnMount.react",["PolarisBloksContext.react","PolarisBloksEnvironmentContext.react","PolarisBloksNode.react","PolarisBloksStyle.react","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){a=a.node;a=c("usePolarisBloksNode")(a);var b=a[0];a=a[1];var e=d("PolarisBloksStyle.react").useStyle(b),f=e.ref,g=e.style;e=e.wrapper;var h=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment(),k=h.componentContexts;h=h.getStyleProps;var l=d("PolarisBloksContext.react").useBloksContext(),m=l.execute,n=k.get(String(b.id));j(function(){var a={};b.on_mount!=null&&m(b.on_mount,[(n==null?void 0:n.getAttrs())||a]);return function(){b.on_unmount!=null&&m(b.on_unmount,[(n==null?void 0:n.getAttrs())||a])}},[]);return e(i.jsx("div",babelHelpers["extends"]({"data-bloks-name":a,ref:f},h(g),{children:b.children&&i.jsx(d("PolarisBloksNode.react").BloksNode,{node:b.children})})))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisBloksOpenBottomSheetV2",["PolarisBloksAppContext.react","PolarisBloksDataBinding","PolarisBloksGlobalStore","PolarisBloksLocalStore","PolarisBloksNode.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b,c){c=a.environment;c=new(d("PolarisBloksDataBinding").BloksDataManifest)(babelHelpers["extends"]({},d("PolarisBloksGlobalStore").globalStoreModule(a),d("PolarisBloksLocalStore").localStoreModule(a),c.dataModules));c.initialize(b.variables);c=i.jsx(d("PolarisBloksAppContext.react").BloksAppContextProvider,{context:{layout:{},manifest:c},children:i.jsx(d("PolarisBloksNode.react").BloksNode,{node:b.tree})});a.modals.push({params:{},screen:c},a)}g["default"]=a}),98);
__d("PolarisBloksIGScreenSpinner.react",["IGDSSpinner.react","PolarisBloksEnvironmentContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(){var a=i(3),b=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();b=b.getStyleProps;b=b({alignItems:"center",height:"100%",justifyContent:"center"});var e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("IGDSSpinner.react"),{}),a[0]=e):e=a[0];a[1]!==b?(e=j.jsx("div",babelHelpers["extends"]({"data-visualcompletion":"loading-state"},b,{children:e})),a[1]=b,a[2]=e):e=a[2];return e}g["default"]=a}),98);
__d("PolarisBloksScalarNativePropsStore",["PolarisBloksEnvironmentUtils","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map(),j={get:function(a){return i.get(a)},initialValue:function(a){var b=a.data,c=a.id;if(!d("PolarisBloksEnvironmentUtils").isScalarNativePropEntry(a))return{id:c,value:null};a=null;b.value!=null&&(a=b.value);i.set(c,a);return{id:c,value:a}},registerManifest:function(){},resolve:function(a){return(h||(h=b("Promise"))).resolve(j.initialValue(a))},set:function(a,b,c){i.set(a,b),c.snapshot()},store:i};a={scalar_native_prop:j};g.scalarNativePropsStoreModule=a}),98);
__d("usePolarisBloksApp",["PolarisBloksAppContext.react","PolarisBloksContext.react","PolarisBloksDataBinding","PolarisBloksEnvironmentContext.react","PolarisBloksGlobalStore","PolarisBloksLocalStore","PolarisBloksNode.react","PolarisBloksScalarNativePropsStore","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useMemo,l=b.useState;function a(a,b,c,e){var f,g=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment(),h=d("PolarisBloksContext.react").useBloksContext(),m=k(function(){return new(d("PolarisBloksDataBinding").BloksDataManifest)(babelHelpers["extends"]({},d("PolarisBloksGlobalStore").globalStoreModule(h),d("PolarisBloksLocalStore").localStoreModule(h),d("PolarisBloksScalarNativePropsStore").scalarNativePropsStoreModule,g.dataModules))},[g.dataModules,h]),n=l((e==null?void 0:e.cached)===!1||a===void 0?null:g.appLoader.getCached(a,b)),o=n[0],p=n[1];n=k(function(){return[]},[]);var q=k(function(){return[]},[]),r=(f=o==null?void 0:o.data)!=null?f:n,s=(f=o==null?void 0:o.props)!=null?f:q;k(function(){return m.initialize(r,s,c)},[r,m,s,c]);var t=(e==null?void 0:e.fetchRetryAttempts)||0;n=l(0);var u=n[0],v=n[1];j(function(){o||a===void 0||g.appLoader.get(a,b,e).then(p)["catch"](function(a){if(u<t)v(u+1);else throw a})},[a,g,m,JSON.stringify(b),u]);return k(function(){return!o?{App:function(){return null},appData:{manifest:m,node:null},isReady:!1}:{App:function(){return i.jsx(d("PolarisBloksAppContext.react").BloksAppContextProvider,{context:{layout:{},manifest:m},children:i.jsx(d("PolarisBloksNode.react").BloksNode,{node:o.tree})})},appData:{manifest:m,node:o.tree},isReady:!0}},[o,m])}g["default"]=a}),98);
__d("PolarisBloksOpenScreen.react",["PolarisBloksEnvironmentContext.react","PolarisBloksIGScreenSpinner.react","PolarisBloksRenderContext.react","PolarisIGTheme.react","react","usePolarisBloksApp"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function k(a){var b=i(3),e=a.appId;a=a.params;var f=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();f=f.getStyleProps;var g=d("PolarisBloksRenderContext.react").useBloksRenderContext();g=g.params;e=c("usePolarisBloksApp")(e,a,{},g.appGetOptions);a=e.App;g=e.isReady;e=f({backgroundColor:d("PolarisIGTheme.react").useThemeColor("ig-primary-background"),flexDirection:"column",height:"100%"});g=g?j.jsx("div",babelHelpers["extends"]({},f({flex:1,overflow:"auto"}),{children:j.jsx(a,{})})):j.jsx(c("PolarisBloksIGScreenSpinner.react"),{});b[0]!==e||b[1]!==g?(f=j.jsx("div",babelHelpers["extends"]({},e,{children:g})),b[0]=e,b[1]=g,b[2]=f):f=b[2];return f}function a(a,b,c){a.screens.push({params:{},screen:j.jsx(k,{appId:b,params:c},b)},a)}g["default"]=a}),98);
__d("PolarisBloksOpenSendMessage",[],(function(a,b,c,d,e,f){"use strict";function a(b,c,a,d){b.params.onOpenSendMessage&&b.params.onOpenSendMessage(c,a,d)}f["default"]=a}),66);
__d("PolarisBloksOpenUrl",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a.environment.openUrl(b)}f["default"]=a}),66);
__d("PolarisBloksOpenUrlV2",["PolarisBloksBooleanUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){c=c==null?void 0:c["bk.data.navigation.OpenUrlOptions"];a.environment.openUrl(b,{openInNewTab:d("PolarisBloksBooleanUtils").isTrue(c==null?void 0:c.open_in_new_tab)})}g["default"]=a}),98);
__d("PolarisBloksParseEmbedded",["PolarisBloksErrors"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=JSON.parse(b);var c=b.layout.bloks_payload,e=c.data;c=c.referenced;if(e!==void 0){var f=a.manifest.getManifest();if(f==null)throw new(d("PolarisBloksErrors").BloksError)("Data manifest needs to be initialized");e.forEach(function(a){f.has(a.id)||f.set(a.id,a)});a.manifest.snapshot()}var g=[];if(c.length!==0){var h=a.manifest.getManifest();if(h==null)throw new(d("PolarisBloksErrors").BloksError)("Data manifest needs to be initialized");c.forEach(function(a){a=h.get(a);if(a==null)throw new(d("PolarisBloksErrors").BloksError)("Data manifest needs to be initialized");g.push(a)})}e=b.layout.bloks_payload.tree;return{tree:e,variables:g}}g["default"]=a}),98);
__d("PolarisBloksPattern",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return{"case":b,expression:c}}f["default"]=a}),66);
__d("PolarisBloksReduce",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";function a(a,b){return g.apply(this,arguments)}function g(){g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){yield a.environment.shadowContexts.reduce(String(b))});return g.apply(this,arguments)}f["default"]=a}),66);
__d("PolarisBloksReflow",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a.environment.shadowContexts.reflow(String(b))}f["default"]=a}),66);
__d("PolarisBloksRemoveChild",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a.environment.componentContexts.get(String(b));if(a==null)return;a.removeChild(String(c))}f["default"]=a}),66);
__d("PolarisBloksRemoveChildrenBetween",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){b.removeChildrenBetween(String(c),String(d))}f["default"]=a}),66);
__d("PolarisBloksRenderLifecycleExtension",[],(function(a,b,c,d,e,f){"use strict";function a(a){a.node;return null}f["default"]=a}),66);
__d("PolarisBloksReplaceChild",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){return a.environment.replacementNodes.replace(String(d),c)}f["default"]=a}),66);
__d("PolarisBloksReplaceChildren",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a.environment.componentContexts.get(String(b));if(a==null)return;a.replaceChildren(c)}f["default"]=a}),66);
__d("PolarisBloksReplaceEmbeddedChild",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){throw new Error("Not yet implemented.")}f["default"]=a}),66);
__d("PolarisBloksTextStyle",["PolarisBloksNode.react","PolarisBloksUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){if(a!=null)return{color:d("PolarisBloksUtils").formatHex(a)};return b&&c?{color:d("PolarisBloksUtils").getColor(b,c)}:{}}function b(a){var b,c;switch(a){case"normal":break;case"heavy":b=900;break;case"bold":b=700;break;case"italic":c="italic";break;case"bold_italic":b=700;c="italic";break;case"light":b=300;break;case"semibold":b=600;break}return{fontStyle:c,fontWeight:b}}function h(a){var b="";switch(a){case"top_to_bottom":b="180deg";break;case"left_to_right":b="90deg";break;case"bottom_left_to_top_right":b="45deg";break;case"top_left_to_bottom_right":b="135deg";break}return b}function i(a,b){return a.map(function(a){return d("PolarisBloksUtils").getColor(a,b)}).join(", ")}function c(a,b,c){if(a==null||a.length===0||b==null)return{};b=h(b);var e=i(a,c);return{WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",background:"linear-gradient("+b+", "+e+")",backgroundColor:d("PolarisBloksUtils").getColor(a[0],c),backgroundSize:"100%",textFillColor:"transparent"}}function e(a,b){var c;c=(c=a.extensions)==null?void 0:c.find(function(a){return a["bk.components.TextInputMaskExtension"]!=null});if(c==null)return void 0;c=d("PolarisBloksNode.react").getNode(c);var e=c[0].mask;c=function(c){if(b.current==null)return;a.type==="number"&&(b.current.value=b.current.value.replace(/[^0-9]/g,""));c=c.target.value;if(c.length===e.length)return;c=c.replace(/[^0-9]/g,"").split("");var d=e.split(""),f="";while(c.length&&f.length<e.length){var g=d.shift();g!=="#"?f+=g:f+=c.shift()}b.current&&(b.current.value=f)};return{maxLength:e.length,onChange:c,typeOverride:"text"}}function f(a){return a==null?{}:{WebkitBoxOrient:"vertical",WebkitLineClamp:a,display:"-webkit-inline-box",overflow:"hidden",textOverflow:"ellipsis",wordBreak:"break-word"}}function j(a){a===void 0&&(a=1);return 1.3*a}function k(a){return a==="AvenyT"?"Instagram Sans Condensed":a}g.getTextColor=a;g.getTextStyle=b;g.getGradientTextStyle=c;g.getNumericalMask=e;g.getLineClampStyle=f;g.getLineHeight=j;g.getFontFamily=k}),98);
__d("PolarisBloksRichText.react",["PolarisBloksEnvironmentContext.react","PolarisBloksNode.react","PolarisBloksStyle.react","PolarisBloksTextStyle","PolarisBloksUtils","react","usePolarisBloksNode","usePolarisClickableProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(11);a=a.node;var e=c("usePolarisBloksNode")(a),f=e[0];e=e[1];var g=d("PolarisBloksStyle.react").useStyle(f),h=g.ref,k=g.style;g=g.wrapper;var l=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();l=l.getStyleProps;a=c("usePolarisClickableProps")(f.on_click,a);var m=f.children.slice(-1)[0];m=c("usePolarisBloksNode")(m);m=m[0];l=l(babelHelpers["extends"]({},k,{color:m.text_color,display:"block",textAlign:d("PolarisBloksUtils").toHyphen(f.text_align)},d("PolarisBloksTextStyle").getLineClampStyle(f.max_number_of_lines)));b[0]!==f.children?(k=j.jsx(d("PolarisBloksNode.react").BloksNode,{node:f.children}),b[0]=f.children,b[1]=k):k=b[1];b[2]!==e||b[3]!==h||b[4]!==l||b[5]!==a||b[6]!==k?(m=j.jsx("div",babelHelpers["extends"]({"data-bloks-name":e,ref:h},l,a,{children:k})),b[2]=e,b[3]=h,b[4]=l,b[5]=a,b[6]=k,b[7]=m):m=b[7];b[8]!==g||b[9]!==m?(f=g(m),b[8]=g,b[9]=m,b[10]=f):f=b[10];return f}g["default"]=a}),98);
__d("PolarisBloksRotate3D",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e,f){b.rotate3D(c,d,e,f);return b}f["default"]=a}),66);
__d("PolarisBloksScale3D",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e){b.scale(c,d,e);return b}f["default"]=a}),66);
__d("PolarisBloksNavbar.react",["fbt","IGDSChevronIcon.react","IGDSIconButton.react","PolarisBloksAppContext.react","PolarisBloksBooleanUtils","PolarisBloksContext.react","PolarisBloksDataBinding","PolarisBloksEnvironmentContext.react","PolarisBloksGlobalStore","PolarisBloksLocalStore","PolarisBloksNode.react","PolarisBloksRenderContext.react","PolarisBloksStyle.react","PolarisIGTheme.react","asyncToGeneratorRuntime","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;var k=e.useEffect,l=e.useState,m=e.unstable_useMemoCache;function a(a){var e=m(9);a=a.node;a=c("usePolarisBloksNode")(a);var f=a[0];a=a[1];var g=d("PolarisBloksStyle.react").useStyle(f),i=g.ref;g=g.style;var n=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();n=n.getStyleProps;var o=d("PolarisBloksRenderContext.react").useBloksRenderContext(),p=o.screenManager,q=d("PolarisBloksContext.react").useBloksContext();o=l(null);var r=o[0],s=o[1];o=d("PolarisIGTheme.react").useThemeColor("ig-elevated-background");var t=d("PolarisIGTheme.react").useThemeColor("ig-elevated-separator"),u=f.contribs,v=f.hide_navbar,w=f.title;k(function(){var a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(d("PolarisBloksBooleanUtils").isTrue(v))return;if(u!==void 0)for(var a of u){var b=d("PolarisBloksNode.react").getNode(a);b=b[0];if(b.custom_title_parseresult!==void 0){b=(yield q.execute(b.custom_title_parseresult));var c=q.environment;c=new(d("PolarisBloksDataBinding").BloksDataManifest)(babelHelpers["extends"]({},d("PolarisBloksGlobalStore").globalStoreModule(q),d("PolarisBloksLocalStore").localStoreModule(q),c.dataModules));c.initialize(b.variables);c=j.jsx(d("PolarisBloksAppContext.react").BloksAppContextProvider,{context:{layout:{},manifest:c},children:j.jsx(d("PolarisBloksNode.react").BloksNode,{node:b.tree})});s(c)}}else s(w)});return function(){return a.apply(this,arguments)}}();a()},[q,u,v,w]);if(d("PolarisBloksBooleanUtils").isTrue(v))return null;f=n(babelHelpers["extends"]({},g,{backgroundColor:o,borderBottom:"1px solid "+t,flexBasis:"auto",flexShrink:0,height:44}));g=p.getScreenCount()>1&&j.jsx("div",babelHelpers["extends"]({},n({bottom:0,left:0,position:"absolute",top:0}),{children:j.jsx(c("IGDSIconButton.react"),{onClick:function(){return p.pop()},children:j.jsx(c("IGDSChevronIcon.react"),{alt:h._("__JHASH__mmIrN12C7sN__JHASH__"),color:"ig-primary-text",direction:"back"})})}));o=n({alignItems:"center",flexGrow:1,fontSize:"16px",fontWeight:600,justifyContent:"center",margin:"0 40px"});e[0]!==o||e[1]!==r?(t=j.jsx("div",babelHelpers["extends"]({},o,{children:r})),e[0]=o,e[1]=r,e[2]=t):t=e[2];e[3]!==a||e[4]!==i||e[5]!==f||e[6]!==g||e[7]!==t?(n=j.jsxs("div",babelHelpers["extends"]({"data-bloks-name":a,ref:i},f,{children:[g,t]})),e[3]=a,e[4]=i,e[5]=f,e[6]=g,e[7]=t,e[8]=n):n=e[8];return n}g["default"]=a}),226);
__d("PolarisBloksScreenWrapper.react",["PolarisBloksBooleanUtils","PolarisBloksEnvironmentContext.react","PolarisBloksNavbar.react","PolarisBloksNode.react","PolarisBloksStyle.react","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(11);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0];a=a[1];var f=d("PolarisBloksStyle.react").useStyle(e),g=f.ref;f=f.style;var h=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();h=h.getStyleProps;var k=e.content,l=e.contribs;e=e.navbar;if(l!==void 0&&l.length>0)for(var l=l,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o;if(m){if(n>=l.length)break;o=l[n++]}else{n=l.next();if(n.done)break;o=n.value}o=o;o=d("PolarisBloksNode.react").getNode(o);o=o[0];if(d("PolarisBloksBooleanUtils").isFalse(o.should_wrap))return j.jsx(d("PolarisBloksNode.react").BloksNode,{node:k})}o=h(babelHelpers["extends"]({},f,{flexDirection:"column",width:"100%"}));n=e?j.jsx(c("PolarisBloksNavbar.react"),{node:e}):j.jsx(c("PolarisBloksNavbar.react"),{node:{"bk.data.screen.Navbar":{title:""}}});m=h({flexGrow:1,overflow:"auto"});b[0]!==k?(l=j.jsx(d("PolarisBloksNode.react").BloksNode,{node:k}),b[0]=k,b[1]=l):l=b[1];b[2]!==m||b[3]!==l?(f=j.jsx("div",babelHelpers["extends"]({},m,{children:l})),b[2]=m,b[3]=l,b[4]=f):f=b[4];b[5]!==a||b[6]!==g||b[7]!==o||b[8]!==n||b[9]!==f?(e=j.jsxs("div",babelHelpers["extends"]({"data-bloks-name":a,ref:g},o,{children:[n,f]})),b[5]=a,b[6]=g,b[7]=o,b[8]=n,b[9]=f,b[10]=e):e=b[10];return e}g["default"]=a}),98);
__d("PolarisBloksSessionStoreGet",[],(function(a,b,c,d,e,f){"use strict";var g=Object.create(null);function a(a){return g}f["default"]=a}),66);
__d("PolarisTransform3D",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.matrix=[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}var b=a.prototype;b.toString=function(){return this.matrix.flat().join(",")};b.translate=function(a,b,c){a=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[a,b,c,1]];this.matrix=i(a,this.matrix);return this};b.scale=function(a,b,c){a=[[a,0,0,0],[0,b,0,0],[0,0,c,0],[0,0,0,1]];this.matrix=i(a,this.matrix);return this};b.rotate3D=function(a,b,c,d){b=h(b,c,d);c=b.x_norm;d=b.y_norm;b=b.z_norm;var e=g();b=[[0,b,-d,0],[-b,0,c,0],[d,-c,0,0],[0,0,0,0]];d=b.map(function(b){return b.map(function(b){return Math.sin(a)*b})});c=i(b,b).map(function(b){return b.map(function(b){return(1-Math.cos(a))*b})});b=g();for(var f=0;f<4;f++)for(var j=0;j<4;j++)b[f][j]=e[f][j]+d[f][j]+c[f][j];this.matrix=i(b,this.matrix);return this};return a}();function g(){return[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}function h(a,b,c){var d=a*a,e=b*b,f=c*c;d=d+e+f;return{x_norm:a/d,y_norm:b/d,z_norm:c/d}}function i(a,b){var c=a.length,d=a[0].length,e=b[0].length,f=new Array(c);for(var g=0;g<c;g++){f[g]=new Array(e);for(var h=0;h<e;h++){f[g][h]=0;for(var i=0;i<d;i++)f[g][h]+=a[g][i]*b[i][h]}}return f}f["default"]=a}),66);
__d("PolarisBloksSetAttr",["PolarisTransform3D"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){a=d;var f=e;if(d==="transform3d"&&e instanceof c("PolarisTransform3D")){d=b.getAttrs()._style;if(d==null)return;var g=d;if(d.flex!=null){d=babelHelpers["extends"]({},d.flex);d.transform="matrix3d("+e.toString()+")";g={flex:d}}a="_style";f=g}b.setAttr(String(a),f)}g["default"]=a}),98);
__d("PolarisBloksShareText",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){navigator.share&&navigator.share({text:b})}f["default"]=a}),66);
__d("PolarisBloksStringConcat",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b+c}f["default"]=a}),66);
__d("PolarisBloksStringLength",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b.length}f["default"]=a}),66);
__d("PolarisBloksStringValueOfNumber",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return String(b)}f["default"]=a}),66);
__d("PolarisBloksT3DFromArray",["PolarisTransform3D"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return new(c("PolarisTransform3D"))(b.map(function(a){return parseFloat(a)}))}g["default"]=a}),98);
__d("PolarisBloksTakeLast",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;return b=(arguments.length<=1?0:arguments.length-1)-1+1,b<1||arguments.length<=b?void 0:arguments[b]}f["default"]=a}),66);
__d("PolarisBloksText.react",["PolarisBloksEnvironmentContext.react","PolarisBloksNode.react","PolarisBloksStyle.react","PolarisBloksTextStyle","PolarisBloksUtils","react","resize-observer-polyfill-deprecated","throttle","usePolarisBloksNode","usePolarisClickableProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useLayoutEffect,k=b.useRef,l=1e3/60;function m(a,b,d){var e=k({innerText:""});j(function(){a.current!=null&&a.current.innerText!=null&&(e.current.innerText=a.current.innerText)},[d]);j(function(){var d=a.current,f=c("throttle")(function(){if(d!=null&&b!=null){d.style.whiteSpace="nowrap";d.scrollWidth<=d.clientWidth&&(d.innerText=e.current.innerText);var a=!1;while(d.scrollWidth>d.clientWidth&&d.innerText!=null)d.innerText=""+d.innerText.slice(0,-1+(a?-1*b.length:0))+b,a=!0}},l),g;d!=null&&b!=null&&(f(),g=new(c("resize-observer-polyfill-deprecated"))(function(){f()}),g.observe(d));return function(){d!=null&&b!=null&&(g&&g.unobserve(d))}},[b,d])}function a(a){a=a.node;var b=c("usePolarisBloksNode")(a),e=b[0];b=b[1];var f=d("PolarisBloksStyle.react").useStyle(e),g=f.ref,h=f.style;f=f.theme;f=e.text_color!=null&&d("PolarisBloksUtils").formatHex(e.text_color)||e.text_themed_color&&d("PolarisBloksUtils").getColor(e.text_themed_color,f);var j=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();j=j.getStyleProps;a=c("usePolarisClickableProps")(e.on_click,a);var k=e.text_provider!=null?i.jsx(d("PolarisBloksNode.react").BloksNode,{node:e.text_provider}):e.text==null?e.text:e.text===" "?i.jsx(i.Fragment,{children:"\xa0"}):e.text;m(g,e.truncation_string,k);return i.jsx("span",babelHelpers["extends"]({"data-bloks-name":b,ref:g},j(babelHelpers["extends"]({},h,d("PolarisBloksTextStyle").getLineClampStyle(e.max_number_of_lines),d("PolarisBloksTextStyle").getTextStyle(e.text_style),{color:f,fontSize:d("PolarisBloksUtils").toPx(e.text_size),lineHeight:d("PolarisBloksTextStyle").getLineHeight(e.line_height_multiplier),textAlign:d("PolarisBloksUtils").toHyphen(e.text_align),textDecoration:e.strikethrough===!0||e.strikethrough===1?"line-through":"",whiteSpace:"pre-wrap"})),a,{children:k}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisBloksTextInput.react",["Keys","PolarisBloksEnvironmentContext.react","PolarisBloksStyle.react","PolarisBloksTextStyle","PolarisBloksUtils","react","usePolarisBloksExecutor","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(10);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0],f=a[1],g=a[2];a=d("PolarisBloksStyle.react").useStyle(e);var h=a.ref,k=a.style;a=a.theme;a=e.text_color!=null&&d("PolarisBloksUtils").formatHex(e.text_color)||e.text_themed_color&&d("PolarisBloksUtils").getColor(e.text_themed_color,a);var l=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();l=l.getStyleProps;var m=d("usePolarisBloksExecutor").useBloksExecutor(),n=d("PolarisBloksTextStyle").getNumericalMask(e,h),o=n==null?void 0:n.typeOverride,p=n==null?void 0:n.onChange,q=function(a){g.setAttr("text",a.target.value),e.on_text_change!=null&&m(e.on_text_change,[g]),p!=null&&p(a)},r=function(a){a.keyCode===c("Keys").RETURN&&(e.on_submit!=null&&m(e.on_submit,[g]))};n=(n=n==null?void 0:n.maxLength)!=null?n:e.max_length;o=(o=o)!=null?o:d("PolarisBloksUtils").toHyphen(e.type);l=l(babelHelpers["extends"]({},k,d("PolarisBloksTextStyle").getTextStyle(e.text_style),{background:"transparent",border:"none",boxSizing:"border-box",color:a,fontFamily:d("PolarisBloksTextStyle").getFontFamily(e.font_family),fontSize:d("PolarisBloksUtils").toPx(e.text_size),lineHeight:d("PolarisBloksTextStyle").getLineHeight(),outline:"none",textAlign:d("PolarisBloksUtils").toHyphen(e.text_align),width:"100%"}));b[0]!==f||b[1]!==n||b[2]!==q||b[3]!==r||b[4]!==e.hint||b[5]!==e.text||b[6]!==h||b[7]!==o||b[8]!==l?(k=j.jsx("input",babelHelpers["extends"]({"data-bloks-name":f,maxLength:n,onChange:q,onKeyDown:r,placeholder:e.hint,ref:h,type:o,value:e.text},l)),b[0]=f,b[1]=n,b[2]=q,b[3]=r,b[4]=e.hint,b[5]=e.text,b[6]=h,b[7]=o,b[8]=l,b[9]=k):k=b[9];return k}g["default"]=a}),98);
__d("PolarisBloksTextInputGetText",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=b.getAttrs();b=a.text;return typeof b==="string"?b:""}f["default"]=a}),66);
__d("PolarisBloksTextSpan.react",["PolarisBloksEnvironmentContext.react","PolarisBloksNode.react","PolarisBloksStyle.react","PolarisBloksTextStyle","PolarisBloksUtils","react","usePolarisBloksNode","usePolarisClickableProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(6);a=a.node;var e=c("usePolarisBloksNode")(a),f=e[0];e=e[1];var g=d("PolarisBloksStyle.react").useStyle(f),h=g.ref,k=g.style;g=g.theme;var l=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();l=l.getStyleProps;a=c("usePolarisClickableProps")(f.on_click,a);var m=f.text_provider!=null?j.jsx(d("PolarisBloksNode.react").BloksNode,{node:f.text_provider}):f.text;l=l(babelHelpers["extends"]({},k,d("PolarisBloksTextStyle").getTextColor(f.text_color,f.text_themed_color,g),d("PolarisBloksTextStyle").getTextStyle(f.text_style),{display:"inline",fontSize:d("PolarisBloksUtils").toPx(f.text_size),lineHeight:d("PolarisBloksTextStyle").getLineHeight(),textDecoration:f.strikethrough?"line-through":void 0}));b[0]!==e||b[1]!==h||b[2]!==l||b[3]!==a||b[4]!==m?(k=j.jsx("span",babelHelpers["extends"]({"data-bloks-name":e,ref:h},l,a,{children:m})),b[0]=e,b[1]=h,b[2]=l,b[3]=a,b[4]=m,b[5]=k):k=b[5];return k}g["default"]=a}),98);
__d("PolarisBloksToast",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.params.onToast;a&&a(b)}f["default"]=a}),66);
__d("PolarisBloksTranslate3D",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e){b.translate(c,d,e);return b}f["default"]=a}),66);
__d("PolarisBloksVisibilityContextGetTimeSinceLastImpressionInMS",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return Date.now()-b.lastImpressionTimeMS}f["default"]=a}),66);
__d("PolarisBloksVisibilityContextHasSeenBefore",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b.hasSeenBefore}f["default"]=a}),66);
__d("PolarisBloksWhile",["PolarisBloksBooleanUtils","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){var e=a.callArgs;while(d("PolarisBloksBooleanUtils").isTrue(yield a.execute(b,e)))yield a.execute(c,e);return});return h.apply(this,arguments)}g["default"]=a}),98);
__d("PolarisBloksWriteGlobalConsistencyStore",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a.manifest;var d=a.getGlobalStore();d!=null&&d.set(String(b),c,a)}f["default"]=a}),66);
__d("PolarisBloksWriteLocalState",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){d=a.manifest;a=d.getLocalStore();a!=null&&a.set(b,c,d)}f["default"]=a}),66);
__d("PolarisBloksf32Convert",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return parseFloat(b)}f["default"]=a}),66);
__d("PolarisBloksNumberUtils",[],(function(a,b,c,d,e,f){"use strict";function a(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=((""+b[0]).split(".")[1]||"").length,e=b.reduce(function(a,b){b=((""+b).split(".")[1]||"").length;return Math.max(a,b)},d);return Math.pow(10,e)}f.getConversionFactor=a}),66);
__d("PolarisBloksf32NumberAdd",["PolarisBloksNumberUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){a=d("PolarisBloksNumberUtils").getConversionFactor(b,c);return Math.round(b*a+c*a)/a}g["default"]=a}),98);
__d("PolarisBloksf32NumberDiv",["PolarisBloksNumberUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){a=d("PolarisBloksNumberUtils").getConversionFactor(b,c);return Math.round(a*b)/Math.round(a*c)}g["default"]=a}),98);
__d("PolarisBloksf32NumberMul",["PolarisBloksNumberUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){a=d("PolarisBloksNumberUtils").getConversionFactor(b,c);return Math.round(b*a*(c*a))/(a*a)}g["default"]=a}),98);
__d("PolarisBloksf32NumberSub",["PolarisBloksNumberUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){a=d("PolarisBloksNumberUtils").getConversionFactor(b,c);return Math.round(b*a-c*a)/a}g["default"]=a}),98);
__d("PolarisBloksi32Convert",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return parseInt(b,10)}f["default"]=a}),66);
__d("PolarisBloksi32NumberAdd",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b+c}f["default"]=a}),66);
__d("PolarisBloksi32NumberDiv",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return parseInt(b/c,10)}f["default"]=a}),66);
__d("PolarisBloksi32NumberMul",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b*c}f["default"]=a}),66);
__d("PolarisBloksi32NumberSub",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return b-c}f["default"]=a}),66);
__d("PolarisBloksi64ConstNumber",["WebBloksInt64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=c("WebBloksInt64").fromString(String(b));return a.toString()}g["default"]=a}),98);
__d("PolarisBloksi64NumberAdd",["WebBloksInt64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){a=c("WebBloksInt64").fromString(String(b));b=c("WebBloksInt64").fromString(String(d));return a.add(b).toString()}g["default"]=a}),98);
__d("PolarisBloksi64NumberEq",["WebBloksInt64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){a=c("WebBloksInt64").fromString(String(b));b=c("WebBloksInt64").fromString(String(d));return a.equals(b)?1:0}g["default"]=a}),98);
__d("PolarisBloksi64NumberGt",["WebBloksInt64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){a=c("WebBloksInt64").fromString(String(b));b=c("WebBloksInt64").fromString(String(d));return a.greaterThan(b)?1:0}g["default"]=a}),98);
__d("PolarisBloksi64NumberLt",["WebBloksInt64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){a=c("WebBloksInt64").fromString(String(b));b=c("WebBloksInt64").fromString(String(d));return a.lessThan(b)?1:0}g["default"]=a}),98);
__d("PolarisBloksi64NumberMod",["WebBloksInt64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){a=c("WebBloksInt64").fromString(String(b));b=c("WebBloksInt64").fromString(String(d));return a.modulo(b).toString()}g["default"]=a}),98);
__d("PolarisBloksi64NumberSub",["WebBloksInt64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){a=c("WebBloksInt64").fromString(String(b));b=c("WebBloksInt64").fromString(String(d));return a.subtract(b).toString()}g["default"]=a}),98);
__d("PolarisBloksPrimitives",["PolarisBloksAction.react","PolarisBloksAddChild","PolarisBloksAnimatedCreate","PolarisBloksAnimatedCreateColor","PolarisBloksAnimatedCreateCubicBezier","PolarisBloksAnimatedCreateDimension","PolarisBloksAnimatedGetCurrentColorValue","PolarisBloksAnimatedGetCurrentDimensionValue","PolarisBloksAnimatedGetCurrentValue","PolarisBloksAnimatedParallel","PolarisBloksAnimatedStart","PolarisBloksApply","PolarisBloksArrayAppend","PolarisBloksArrayClone","PolarisBloksArrayConcat","PolarisBloksArrayGet","PolarisBloksArrayIndexOf","PolarisBloksArrayLength","PolarisBloksArrayMake","PolarisBloksArrayPut","PolarisBloksArrayPutAndGet","PolarisBloksArrayRemove","PolarisBloksArrayRemoveAndGet","PolarisBloksArrayUpdate","PolarisBloksAsyncAction","PolarisBloksAsyncActionWithDataManifest","PolarisBloksAsyncLoadV2","PolarisBloksBindWithArrayV2","PolarisBloksBoolAnd","PolarisBloksBoolNot","PolarisBloksBoolOr","PolarisBloksChildAtIndex","PolarisBloksClipboardSetString","PolarisBloksCollection.react","PolarisBloksConstNumber","PolarisBloksCurrentTimeMillis","PolarisBloksDangerouslyGetTreeFromParseResult","PolarisBloksDatetimeTextProvider.react","PolarisBloksDefault","PolarisBloksDelay","PolarisBloksDismissBottomSheet","PolarisBloksDismissKeyboard","PolarisBloksDummy","PolarisBloksDummyComponent","PolarisBloksFindComponentContext","PolarisBloksFlexbox.react","PolarisBloksGetAttr","PolarisBloksGetState","PolarisBloksGetVariable2","PolarisBloksImage.react","PolarisBloksIndexOfChild","PolarisBloksInflateSync","PolarisBloksInsertChildrenAfter","PolarisBloksInternalMerge.react","PolarisBloksInternalShadow.react","PolarisBloksJsonEncode","PolarisBloksLogEvent","PolarisBloksMakeFlat","PolarisBloksMapClone","PolarisBloksMapGet","PolarisBloksMapKeys","PolarisBloksMapMake","PolarisBloksMapUpdate","PolarisBloksMatch","PolarisBloksMatchesRegex","PolarisBloksNumberAnd","PolarisBloksNumberEq","PolarisBloksNumberGt","PolarisBloksNumberLt","PolarisBloksNumberMod","PolarisBloksNumberOr","PolarisBloksNumberRand","PolarisBloksOnMount.react","PolarisBloksOpenBottomSheetV2","PolarisBloksOpenScreen.react","PolarisBloksOpenSendMessage","PolarisBloksOpenUrl","PolarisBloksOpenUrlV2","PolarisBloksParseEmbedded","PolarisBloksPattern","PolarisBloksReduce","PolarisBloksReflow","PolarisBloksRemoveChild","PolarisBloksRemoveChildrenBetween","PolarisBloksRenderLifecycleExtension","PolarisBloksReplaceChild","PolarisBloksReplaceChildren","PolarisBloksReplaceEmbeddedChild","PolarisBloksRichText.react","PolarisBloksRotate3D","PolarisBloksScale3D","PolarisBloksScreenWrapper.react","PolarisBloksSessionStoreGet","PolarisBloksSetAttr","PolarisBloksShareText","PolarisBloksStringConcat","PolarisBloksStringLength","PolarisBloksStringValueOfNumber","PolarisBloksT3DFromArray","PolarisBloksTakeLast","PolarisBloksText.react","PolarisBloksTextInput.react","PolarisBloksTextInputGetText","PolarisBloksTextSpan.react","PolarisBloksToast","PolarisBloksTranslate3D","PolarisBloksVisibilityContextGetTimeSinceLastImpressionInMS","PolarisBloksVisibilityContextHasSeenBefore","PolarisBloksWhile","PolarisBloksWriteGlobalConsistencyStore","PolarisBloksWriteLocalState","PolarisBloksf32Convert","PolarisBloksf32NumberAdd","PolarisBloksf32NumberDiv","PolarisBloksf32NumberMul","PolarisBloksf32NumberSub","PolarisBloksi32Convert","PolarisBloksi32NumberAdd","PolarisBloksi32NumberDiv","PolarisBloksi32NumberMul","PolarisBloksi32NumberSub","PolarisBloksi64ConstNumber","PolarisBloksi64NumberAdd","PolarisBloksi64NumberEq","PolarisBloksi64NumberGt","PolarisBloksi64NumberLt","PolarisBloksi64NumberMod","PolarisBloksi64NumberSub"],(function(a,b,c,d,e,f,g){"use strict";a={"bk.components.Collection":c("PolarisBloksCollection.react"),"bk.components.DatetimeTextProvider":c("PolarisBloksDatetimeTextProvider.react"),"bk.components.Flexbox":c("PolarisBloksFlexbox.react"),"bk.components.Image":c("PolarisBloksImage.react"),"bk.components.internal.Action":c("PolarisBloksAction.react"),"bk.components.internal.Merge":c("PolarisBloksInternalMerge.react"),"bk.components.internal.Shadow":c("PolarisBloksInternalShadow.react"),"bk.components.OnMount":c("PolarisBloksOnMount.react"),"bk.components.RenderLifecycleExtension":c("PolarisBloksRenderLifecycleExtension"),"bk.components.RichText":c("PolarisBloksRichText.react"),"bk.components.screen.Wrapper":c("PolarisBloksScreenWrapper.react"),"bk.components.Text":c("PolarisBloksText.react"),"bk.components.TextInput":c("PolarisBloksTextInput.react"),"bk.components.TextSpan":c("PolarisBloksTextSpan.react"),"bk.components.Video":c("PolarisBloksDummyComponent"),"bk.components.VideoVersion":c("PolarisBloksDummyComponent"),"bk.type.VideoIdentifier":c("PolarisBloksDummyComponent")};d={"bk.action.animated.Create":c("PolarisBloksAnimatedCreate"),"bk.action.animated.CreateColor":c("PolarisBloksAnimatedCreateColor"),"bk.action.animated.CreateDimension":c("PolarisBloksAnimatedCreateDimension"),"bk.action.animated.easing.CreateCubicBezier":c("PolarisBloksAnimatedCreateCubicBezier"),"bk.action.animated.GetCurrentColorValue":c("PolarisBloksAnimatedGetCurrentColorValue"),"bk.action.animated.GetCurrentDimensionValue":c("PolarisBloksAnimatedGetCurrentDimensionValue"),"bk.action.animated.GetCurrentValue":c("PolarisBloksAnimatedGetCurrentValue"),"bk.action.animated.Parallel":c("PolarisBloksAnimatedParallel"),"bk.action.animated.Start":c("PolarisBloksAnimatedStart"),"bk.action.array.Append":c("PolarisBloksArrayAppend"),"bk.action.array.Clone":c("PolarisBloksArrayClone"),"bk.action.array.Concat":c("PolarisBloksArrayConcat"),"bk.action.array.Get":c("PolarisBloksArrayGet"),"bk.action.array.IndexOf":c("PolarisBloksArrayIndexOf"),"bk.action.array.Length":c("PolarisBloksArrayLength"),"bk.action.array.Make":c("PolarisBloksArrayMake"),"bk.action.array.Put":c("PolarisBloksArrayPut"),"bk.action.array.PutAndGet":c("PolarisBloksArrayPutAndGet"),"bk.action.array.Remove":c("PolarisBloksArrayRemove"),"bk.action.array.RemoveAndGet":c("PolarisBloksArrayRemoveAndGet"),"bk.action.array.Update":c("PolarisBloksArrayUpdate"),"bk.action.bloks.AddChild":c("PolarisBloksAddChild"),"bk.action.bloks.AsyncAction":c("PolarisBloksAsyncAction"),"bk.action.bloks.AsyncActionWithDataManifest":c("PolarisBloksAsyncActionWithDataManifest"),"bk.action.bloks.AsyncLoadV2":c("PolarisBloksAsyncLoadV2"),"bk.action.bloks.ChildAtIndex":c("PolarisBloksChildAtIndex"),"bk.action.bloks.DangerouslyGetTreeFromParseResult":c("PolarisBloksDangerouslyGetTreeFromParseResult"),"bk.action.bloks.DismissBottomSheet":c("PolarisBloksDismissBottomSheet"),"bk.action.bloks.DismissKeyboard":c("PolarisBloksDismissKeyboard"),"bk.action.bloks.Find":c("PolarisBloksFindComponentContext"),"bk.action.bloks.FindContainer":c("PolarisBloksFindComponentContext"),"bk.action.bloks.GetState":c("PolarisBloksGetState"),"bk.action.bloks.GetVariable2":c("PolarisBloksGetVariable2"),"bk.action.bloks.IndexOfChild":c("PolarisBloksIndexOfChild"),"bk.action.bloks.InflateSync":c("PolarisBloksInflateSync"),"bk.action.bloks.InsertChildrenAfter":c("PolarisBloksInsertChildrenAfter"),"bk.action.bloks.OpenBottomSheetV2":c("PolarisBloksOpenBottomSheetV2"),"bk.action.bloks.OpenScreen":c("PolarisBloksOpenScreen.react"),"bk.action.bloks.ParseEmbedded":c("PolarisBloksParseEmbedded"),"bk.action.bloks.Reduce":c("PolarisBloksReduce"),"bk.action.bloks.Reflow":c("PolarisBloksReflow"),"bk.action.bloks.RemoveChild":c("PolarisBloksRemoveChild"),"bk.action.bloks.RemoveChildrenBetween":c("PolarisBloksRemoveChildrenBetween"),"bk.action.bloks.ReplaceChild":c("PolarisBloksReplaceChild"),"bk.action.bloks.ReplaceChildren":c("PolarisBloksReplaceChildren"),"bk.action.bloks.ReplaceEmbeddedChild":c("PolarisBloksReplaceEmbeddedChild"),"bk.action.bloks.WriteGlobalConsistencyStore":c("PolarisBloksWriteGlobalConsistencyStore"),"bk.action.bloks.WriteLocalState":c("PolarisBloksWriteLocalState"),"bk.action.bool.And":c("PolarisBloksBoolAnd"),"bk.action.bool.Not":c("PolarisBloksBoolNot"),"bk.action.bool.Or":c("PolarisBloksBoolOr"),"bk.action.component.GetAttr":c("PolarisBloksGetAttr"),"bk.action.component.SetAttr":c("PolarisBloksSetAttr"),"bk.action.core.Apply":c("PolarisBloksApply"),"bk.action.core.Default":c("PolarisBloksDefault"),"bk.action.core.Delay":c("PolarisBloksDelay"),"bk.action.core.FuncConst":b=c("PolarisBloksDummy"),"bk.action.core.GetArg":b,"bk.action.core.If":b,"bk.action.core.Match":c("PolarisBloksMatch"),"bk.action.core.Pattern":c("PolarisBloksPattern"),"bk.action.core.TakeLast":c("PolarisBloksTakeLast"),"bk.action.core.While":c("PolarisBloksWhile"),"bk.action.f32.Add":c("PolarisBloksf32NumberAdd"),"bk.action.f32.Const":c("PolarisBloksConstNumber"),"bk.action.f32.Convert":c("PolarisBloksf32Convert"),"bk.action.f32.Div":c("PolarisBloksf32NumberDiv"),"bk.action.f32.Eq":c("PolarisBloksNumberEq"),"bk.action.f32.Gt":c("PolarisBloksNumberGt"),"bk.action.f32.Lt":c("PolarisBloksNumberLt"),"bk.action.f32.Mul":c("PolarisBloksf32NumberMul"),"bk.action.f32.Sub":c("PolarisBloksf32NumberSub"),"bk.action.flipper.SendData":b,"bk.action.function.BindWithArrayV2":c("PolarisBloksBindWithArrayV2"),"bk.action.i32.Add":c("PolarisBloksi32NumberAdd"),"bk.action.i32.And":c("PolarisBloksNumberAnd"),"bk.action.i32.Const":c("PolarisBloksConstNumber"),"bk.action.i32.Convert":c("PolarisBloksi32Convert"),"bk.action.i32.Div":c("PolarisBloksi32NumberDiv"),"bk.action.i32.Eq":c("PolarisBloksNumberEq"),"bk.action.i32.Gt":c("PolarisBloksNumberGt"),"bk.action.i32.Lt":c("PolarisBloksNumberLt"),"bk.action.i32.Mod":c("PolarisBloksNumberMod"),"bk.action.i32.Mul":c("PolarisBloksi32NumberMul"),"bk.action.i32.Or":c("PolarisBloksNumberOr"),"bk.action.i32.Rand":c("PolarisBloksNumberRand"),"bk.action.i32.Sub":c("PolarisBloksi32NumberSub"),"bk.action.i64.Add":c("PolarisBloksi64NumberAdd"),"bk.action.i64.Const":c("PolarisBloksi64ConstNumber"),"bk.action.i64.Eq":c("PolarisBloksi64NumberEq"),"bk.action.i64.Gt":c("PolarisBloksi64NumberGt"),"bk.action.i64.Lt":c("PolarisBloksi64NumberLt"),"bk.action.i64.Mod":c("PolarisBloksi64NumberMod"),"bk.action.i64.Sub":c("PolarisBloksi64NumberSub"),"bk.action.io.clipboard.SetString":c("PolarisBloksClipboardSetString"),"bk.action.io.CurrentTimeMillis":c("PolarisBloksCurrentTimeMillis"),"bk.action.io.Toast":c("PolarisBloksToast"),"bk.action.logging.LogEvent":c("PolarisBloksLogEvent"),"bk.action.map.Append":b,"bk.action.map.Clone":c("PolarisBloksMapClone"),"bk.action.map.Get":c("PolarisBloksMapGet"),"bk.action.map.Keys":c("PolarisBloksMapKeys"),"bk.action.map.Make":c("PolarisBloksMapMake"),"bk.action.map.MakeFlat":c("PolarisBloksMakeFlat"),"bk.action.map.Update":c("PolarisBloksMapUpdate"),"bk.action.navigation.OpenSendMessage":c("PolarisBloksOpenSendMessage"),"bk.action.navigation.OpenUrl":c("PolarisBloksOpenUrl"),"bk.action.navigation.OpenUrlV2":c("PolarisBloksOpenUrlV2"),"bk.action.navigation.SetNavBar":b,"bk.action.session_store.Get":c("PolarisBloksSessionStoreGet"),"bk.action.share.Text":c("PolarisBloksShareText"),"bk.action.string.Concat":c("PolarisBloksStringConcat"),"bk.action.string.JsonEncode":c("PolarisBloksJsonEncode"),"bk.action.string.JsonEncodeV2":c("PolarisBloksJsonEncode"),"bk.action.string.Length":c("PolarisBloksStringLength"),"bk.action.string.MatchesRegex":c("PolarisBloksMatchesRegex"),"bk.action.string.ValueOfNumber":c("PolarisBloksStringValueOfNumber"),"bk.action.t3d.FromArray":c("PolarisBloksT3DFromArray"),"bk.action.t3d.Rotate":c("PolarisBloksRotate3D"),"bk.action.t3d.Scale":c("PolarisBloksScale3D"),"bk.action.t3d.Translate":c("PolarisBloksTranslate3D"),"bk.action.textinput.GetText":c("PolarisBloksTextInputGetText"),"bk.action.visibility_context.GetTimeSinceLastImpressionInMS":c("PolarisBloksVisibilityContextGetTimeSinceLastImpressionInMS"),"bk.action.visibility_context.HasSeenBefore":c("PolarisBloksVisibilityContextHasSeenBefore"),"bk.versioning.bloks.GlobalStateWithInitialLispy":b};g.COMPONENTS=a;g.ACTIONS=d}),98);
__d("PolarisIGBloksAppLoader",["PolarisBloksErrors","PolarisInstajax","nullthrows","polarisConfigureUrlForIgsrvAPI","polarisDeveloperSettings"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function i(a,b){var c;return JSON.stringify((c={},c[a]=b,c))}function j(a,b){return(a=h.get(i(a,b)))==null?void 0:a.app}function k(a,b){var e=c("polarisConfigureUrlForIgsrvAPI")("/api/v1/bloks/apps/"+a+"/");b=babelHelpers["extends"]({},b,{nest_data_manifest:!0});var f={headers:{"X-BLOKS-VERSION-ID":d("polarisDeveloperSettings").getBloksVersionId()}};return d("PolarisInstajax").post_UNTYPED(e,b,f).then(function(b){return l(a,b)})["catch"](function(b){throw new(d("PolarisBloksErrors").BloksError)('Failed to fetch bloks app "'+a+'"',b)})}function l(a,b){var c=b.layout,e=b.status;if(e!=="ok")throw new(d("PolarisBloksErrors").BloksError)('Recieved bad response status, "'+e+'"');if(!c)throw new(d("PolarisBloksErrors").BloksError)('Could not get Bloks layout for "'+a+'"');if(!c.bloks_payload)return{data:b.data,props:b.props,tree:c};e=c.bloks_payload;a=e.data;b=e.props;c=e.tree;return{data:a,props:b,tree:c}}function m(a,b,d){var e=i(a,b);if((d==null?void 0:d.cached)!==!1&&h.has(e))return c("nullthrows")(h.get(e)).promise;var f={app:void 0,promise:k(a,b).then(function(a){f.app=a;return a})};h.set(e,f);return f.promise}function a(){return{get:m,getCached:j}}g.getAppLoader=a}),98);
__d("PolarisIGBloksEventLogger",["FalcoLoggerInternal","PolarisConfig","WebBloksFalcoPolicyData"],(function(a,b,c,d,e,f,g){"use strict";function h(b,a,e){var g=d("PolarisConfig").getViewerId();a=d("FalcoLoggerInternal").create(b,c("WebBloksFalcoPolicyData").get(b));a.log(function(){return babelHelpers["extends"]({pk:g},e)})}function a(){return{logEvent:h}}g.createEventLogger=a}),98);
__d("PolarisBloksRenderer.react",["PolarisBloksAppContext.react","PolarisBloksNode.react","PolarisBloksRenderContext.react","PolarisBloksScreenManager","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useMemo,l=b.useRef,m=b.useState,n=i.createContext({}),o=i.createContext();function p(a,b){a===void 0&&(a=[]);b===void 0&&(b=!1);var c=m(a),e=c[0],f=c[1],g=l(null);g.current==null&&(g.current=new(d("PolarisBloksScreenManager").BloksScreenManager)(a,b));j(function(){function a(a){f(a)}g.current.listen(a);return function(){g.current.unlisten(a)}},[]);return[e,g]}function q(a){a=a.screen;return i.isValidElement(a.screen)?a.screen:i.jsx(d("PolarisBloksNode.react").BloksNode,{node:a.screen})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.initialScreen,c=a.node,e=a.params;a=[];c&&a.push(null);b&&a.push(b);b=p(a,!0);a=b[0];var f=b[1];b=p();var g=b[0],h=b[1];b=k(function(){return{modalManager:h.current,params:e||d("PolarisBloksRenderContext.react").DEFAULT_CONTEXT.params,screenManager:f.current}},[e,f,h]);a=a[a.length-1];var j=null;a!=null&&(j=i.jsx(n.Provider,{value:a.params,children:i.jsx(q,{screen:a})}),a.appContext!=null&&(j=i.jsx(d("PolarisBloksAppContext.react").BloksAppContextProvider,{context:a.appContext,children:j})));return i.jsxs(d("PolarisBloksRenderContext.react").BloksReactContext.Provider,{value:b,children:[c&&!a&&i.jsx(d("PolarisBloksNode.react").BloksNode,{node:c}),j,g.filter(Boolean).map(function(a,b){var c=i.jsx(q,{screen:a});a.appContext!=null&&(c=i.jsx(d("PolarisBloksAppContext.react").BloksAppContextProvider,{context:a.appContext,children:c}));return i.jsx(n.Provider,{value:a.params,children:i.jsx(o.Provider,{value:a.index,children:c})},b)})]})}a.displayName=a.name+" [from "+f.id+"]";g.ScreenParamsContext=n;g.ScreenIndexContext=o;g.BloksRenderer=a}),98);
__d("PolarisBloksBottomSheet.react",["PolarisBloksNode.react","PolarisBloksRenderContext.react","PolarisBloksRenderer.react","PolarisIGCoreSheetOrModal","PolarisUA","react","usePolarisBloksExecutor","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect,l=b.unstable_useMemoCache;function a(a){var b=l(17);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0];a=a[1];var f=d("PolarisBloksRenderContext.react").useBloksRenderContext(),g=f.modalManager,h=d("usePolarisBloksExecutor").useBloksExecutor(),m=j(d("PolarisBloksRenderer.react").ScreenIndexContext),n;b[0]!==e.on_dismiss||b[1]!==h||b[2]!==m||b[3]!==g?(f=function(){var a=e.on_dismiss,b=a?function(){h(a)}:null;m!=null&&g.setOnDismissCallback(m,b)},n=[h,m,g,e.on_dismiss],b[0]=e.on_dismiss,b[1]=h,b[2]=m,b[3]=g,b[4]=f,b[5]=n):(f=b[4],n=b[5]);k(f,n);b[6]!==g?(f=function(){g.pop()},b[6]=g,b[7]=f):f=b[7];n=f;f=e.title;!d("PolarisUA").isMobile()&&f==null&&(f="");var o;b[8]!==e.content?(o=e.content&&i.jsx(d("PolarisBloksNode.react").BloksNode,{node:e.content}),b[8]=e.content,b[9]=o):o=b[9];var p;b[10]!==n||b[11]!==f||b[12]!==o?(p=i.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{desktopMaxHeight:"100%",onClose:n,title:f,children:o}),b[10]=n,b[11]=f,b[12]=o,b[13]=p):p=b[13];b[14]!==a||b[15]!==p?(n=i.jsx("div",{"data-bloks-name":a,children:p}),b[14]=a,b[15]=p,b[16]=n):n=b[16];return n}g["default"]=a}),98);
__d("PolarisBloksCCSSupportUserChatThread.react",["PolarisBloksEnvironmentContext.react","URI","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(7);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0];a=a[1];var f=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();f=f.getStyleProps;e=new(h||(h=c("URI")))("https://www.instagram.com/support/chat/embed/ig/").addQueryData({thread_key:e.thread_key,user_id:e.user_id});var g=window.innerHeight,i=f({flexGrow:1});f=f({flexGrow:1,pointerEvents:"auto"});e=e.toString();b[0]!==f||b[1]!==e?(g=k.jsx("iframe",babelHelpers["extends"]({},f,{frameBorder:"0",height:g-38-30,id:"support-chat-thread-iframe",method:"get",sandbox:"allow-same-origin allow-scripts allow-popups",scrolling:"yes",src:e,title:"Support User Chat Thread"})),b[0]=f,b[1]=e,b[2]=g):g=b[2];b[3]!==i||b[4]!==a||b[5]!==g?(f=k.jsx("div",babelHelpers["extends"]({},i,{"data-bloks-name":a,children:g})),b[3]=i,b[4]=a,b[5]=g,b[6]=f):f=b[6];return f}g["default"]=a}),98);
__d("PolarisBloksCheckoutGetCreditCardToken",["PolarisAPIGenerateCreditCardToken"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f,g){a={creditCardNumber:b,csc:c,payment_dev_cycle:e};d("PolarisAPIGenerateCreditCardToken").generateCreditCardToken(a).then(function(a){a=JSON.parse(a)||{};a=a.token;if(!a)throw new Error("Unexpected empty token");f(a)})["catch"](function(a){g()})}g["default"]=a}),98);
__d("PolarisBloksIGActionSheet.react",["IGCoreDialog.react","PolarisBloksEnvironmentContext.react","PolarisBloksNode.react","PolarisBloksRenderContext.react","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(10);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0];a=a[1];var f=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();f=f.getStyleProps;var g=d("PolarisBloksRenderContext.react").useBloksRenderContext(),h=g.modalManager;b[0]!==h?(g=function(){h.pop()},b[0]=h,b[1]=g):g=b[1];g=g;f=f({display:"content"});var k;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(k=function(a,b){return j.jsx(d("PolarisBloksNode.react").BloksNode,{node:a},b)},b[2]=k):k=b[2];e=e.items.map(k);b[3]!==g||b[4]!==e?(k=j.jsx(d("IGCoreDialog.react").IGCoreDialog,{onModalClose:g,children:e}),b[3]=g,b[4]=e,b[5]=k):k=b[5];b[6]!==a||b[7]!==f||b[8]!==k?(g=j.jsx("div",babelHelpers["extends"]({"data-bloks-name":a},f,{children:k})),b[6]=a,b[7]=f,b[8]=k,b[9]=g):g=b[9];return g}g["default"]=a}),98);
__d("PolarisBloksIGActionSheetItem.react",["IGCoreDialog.react","PolarisBloksEnvironmentContext.react","react","usePolarisBloksExecutor","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(11);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0];a=a[1];var f=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();f=f.getStyleProps;var g=d("usePolarisBloksExecutor").useBloksExecutor();f=f({justifyContent:"center"});var h=e.style==="destructive"?"ig-error-or-destructive":void 0,k;b[0]!==g||b[1]!==e.on_press?(k=function(){return g(e.on_press)},b[0]=g,b[1]=e.on_press,b[2]=k):k=b[2];var l;b[3]!==h||b[4]!==k||b[5]!==e.title?(l=j.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:h,onClick:k,children:e.title}),b[3]=h,b[4]=k,b[5]=e.title,b[6]=l):l=b[6];b[7]!==f||b[8]!==a||b[9]!==l?(h=j.jsx("div",babelHelpers["extends"]({},f,{"data-bloks-name":a,children:l})),b[7]=f,b[8]=a,b[9]=l,b[10]=h):h=b[10];return h}g["default"]=a}),98);
__d("PolarisBloksIGAnnotateTTIEvent",["QuickPerformanceLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,d){Object.entries(b).forEach(function(a){var b,e=a[0];a=a[1];(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(c("qpl")._(719983200,"2401"),{string:(b={},b[e]=String(a),b)},{instanceKey:d})})}g["default"]=a}),98);
__d("PolarisBloksIGBottomSheet.react",["PolarisBloksEnvironmentContext.react","PolarisBloksNode.react","PolarisBloksRenderContext.react","PolarisBloksRenderer.react","PolarisIGCoreSheetOrModal","react","usePolarisBloksExecutor","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useEffect,l=b.useState,m=b.unstable_useMemoCache;function a(a){var b=m(29);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0];a=a[1];var f=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();f=f.getStyleProps;var g=d("PolarisBloksRenderContext.react").useBloksRenderContext(),h=g.modalManager,n=d("usePolarisBloksExecutor").useBloksExecutor(),o=j(d("PolarisBloksRenderer.react").ScreenIndexContext);g=l(!1);var p=g[0],q=g[1];g=l(!1);var r=g[0],s=g[1];g=l(!1);var t=g[0],u=g[1],v;b[0]!==e.on_dismiss||b[1]!==n||b[2]!==o||b[3]!==h?(g=function(){var a=e.on_dismiss,b=a?function(){n(a)}:null;o!=null&&h.setOnDismissCallback(o,b)},v=[n,o,h,e.on_dismiss],b[0]=e.on_dismiss,b[1]=n,b[2]=o,b[3]=h,b[4]=g,b[5]=v):(g=b[4],v=b[5]);k(g,v);g=e.partial_height_percentage!=null?e.partial_height_percentage+"%":"auto";var w;b[6]!==p||b[7]!==r||b[8]!==t||b[9]!==h?(v=function(){(p||r)&&!t&&u(!0),(p||r)&&t&&(p?h.clear():t&&h.pop())},w=[p,r,t,h],b[6]=p,b[7]=r,b[8]=t,b[9]=h,b[10]=v,b[11]=w):(v=b[10],w=b[11]);k(v,w);b[12]===Symbol["for"]("react.memo_cache_sentinel")?(v=function(){q(!0)},b[12]=v):v=b[12];w=v;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(v=function(){s(!0)},b[13]=v):v=b[13];v=v;var x=j(d("PolarisBloksRenderer.react").ScreenParamsContext),y;b[14]!==g||b[15]!==e.is_full_screen_enabled?(y=[g],(e.is_full_screen_enabled===!0||e.is_full_screen_enabled===1)&&y.push("100%"),b[14]=g,b[15]=e.is_full_screen_enabled,b[16]=y):y=b[16];g=f({display:"content"});f=!p&&!r;x=x.addToBackStack===1?v:null;b[17]!==e.content?(v=e.content&&i.jsx(d("PolarisBloksNode.react").BloksNode,{node:e.content}),b[17]=e.content,b[18]=v):v=b[18];b[19]!==f||b[20]!==x||b[21]!==y||b[22]!==e.title||b[23]!==v?(w=i.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{desktopMaxHeight:"100%",isVisible:f,onBack:x,onClose:w,stops:y,title:e.title,children:v}),b[19]=f,b[20]=x,b[21]=y,b[22]=e.title,b[23]=v,b[24]=w):w=b[24];b[25]!==g||b[26]!==a||b[27]!==w?(f=i.jsx("div",babelHelpers["extends"]({},g,{"data-bloks-name":a,children:w})),b[25]=g,b[26]=a,b[27]=w,b[28]=f):f=b[28];return f}g["default"]=a}),98);
__d("PolarisBloksIGClearChallenge",["PolarisNavigationUtils","PolarisRoutes","PolarisUA"],(function(a,b,c,d,e,f,g){"use strict";var h="instagram://checkpoint/dismiss";function a(a,b,c){d("PolarisNavigationUtils").openURLWithFullPageReload(d("PolarisUA").isIGWebview()||d("PolarisUA").isWebview()?h:d("PolarisRoutes").FEED_PATH)}g["default"]=a}),98);
__d("PolarisBloksIGCloseModal",[],(function(a,b,c,d,e,f){"use strict";function a(a){a.modals.pop()}f["default"]=a}),66);
__d("PolarisBloksIGCloseModalWithResult",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a.modals.pop();return c}f["default"]=a}),66);
__d("PolarisBloksIGCloseScreen",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a.screens.pop()}f["default"]=a}),66);
__d("PolarisBloksIGCloseToScreen",["PolarisNavigationUtils","PolarisRoutes"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){a.screens.pop(),d("PolarisNavigationUtils").openURLWithFullPageReload(d("PolarisRoutes").FEED_PATH)}g["default"]=a}),98);
__d("PolarisBloksIGDialog.react",["IGCoreDialog.react","PolarisBloksEnvironmentContext.react","PolarisBloksNode.react","PolarisBloksRenderContext.react","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(22);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0];a=a[1];var f=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();f=f.getStyleProps;var g=d("PolarisBloksRenderContext.react").useBloksRenderContext(),h=g.modalManager;b[0]!==h?(g=function(){h.clear()},b[0]=h,b[1]=g):g=b[1];g=g;var k;b[2]!==e.header_data?(k=e.header_data&&j.jsx(d("PolarisBloksNode.react").BloksNode,{node:e.header_data}),b[2]=e.header_data,b[3]=k):k=b[3];k=k;f=f({display:"content"});var l;b[4]!==e.primary_button?(l=e.primary_button&&j.jsx(d("PolarisBloksNode.react").BloksNode,{node:e.primary_button}),b[4]=e.primary_button,b[5]=l):l=b[5];var m;b[6]!==e.auxillary_button?(m=e.auxillary_button&&j.jsx(d("PolarisBloksNode.react").BloksNode,{node:e.auxillary_button}),b[6]=e.auxillary_button,b[7]=m):m=b[7];var n;b[8]!==e.negative_button?(n=e.negative_button&&j.jsx(d("PolarisBloksNode.react").BloksNode,{node:e.negative_button}),b[8]=e.negative_button,b[9]=n):n=b[9];var o;b[10]!==e.message||b[11]!==e.title||b[12]!==k||b[13]!==g||b[14]!==l||b[15]!==m||b[16]!==n?(o=j.jsxs(d("IGCoreDialog.react").IGCoreDialog,{body:e.message,disableMediaMargin:!0,media:k,onModalClose:g,title:e.title,children:[l,m,n]}),b[10]=e.message,b[11]=e.title,b[12]=k,b[13]=g,b[14]=l,b[15]=m,b[16]=n,b[17]=o):o=b[17];b[18]!==f||b[19]!==a||b[20]!==o?(e=j.jsx("div",babelHelpers["extends"]({},f,{"data-bloks-name":a,children:o})),b[18]=f,b[19]=a,b[20]=o,b[21]=e):e=b[21];return e}g["default"]=a}),98);
__d("PolarisBloksIGDialogButton.react",["IGDSBox.react","IGDSDivider.react","PolarisBloksEnvironmentContext.react","PolarisBloksRenderContext.react","PolarisIGCoreButton.react","PolarisIGCoreText","react","usePolarisBloksExecutor","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(13);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0];a=a[1];var f=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();f=f.getStyleProps;var g=d("PolarisBloksRenderContext.react").useBloksRenderContext(),h=g.modalManager,k=d("usePolarisBloksExecutor").useBloksExecutor(),l=function(){h.clear()};b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){switch(a){case"red":case"red_bold":return"ig-error-or-destructive";case"blue":case"blue_bold":return"ig-primary-button";case"default":default:return"ig-primary-text"}},b[0]=g):g=b[0];g=g;var m;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(m=j.jsx(c("IGDSDivider.react"),{}),b[1]=m):m=b[1];f=f({display:"content"});var n=function(){e.on_click&&k(e.on_click),e.should_dismiss_on_click&&l()};g=g(e.style);var o=e.style==="default"?"normal":"semibold",p;b[2]!==g||b[3]!==o||b[4]!==e.text?(p=j.jsx(c("IGDSBox.react"),{paddingY:3,position:"relative",children:j.jsx(c("PolarisIGCoreText"),{color:g,size:"label",weight:o,children:e.text})}),b[2]=g,b[3]=o,b[4]=e.text,b[5]=p):p=b[5];b[6]!==n||b[7]!==p?(g=j.jsx(c("PolarisIGCoreButton.react"),{color:"web-always-white",fullWidth:!0,onClick:n,children:p}),b[6]=n,b[7]=p,b[8]=g):g=b[8];b[9]!==f||b[10]!==a||b[11]!==g?(o=j.jsxs(j.Fragment,{children:[m,j.jsx("div",babelHelpers["extends"]({},f,{"data-bloks-name":a,children:g}))]}),b[9]=f,b[10]=a,b[11]=g,b[12]=o):o=b[12];return o}g["default"]=a}),98);
__d("PolarisBloksIGDialogHeader.react",["fbt","PolarisBloksEnvironmentContext.react","PolarisIGCoreDialogCircleMedia","PolarisIGTheme.react","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(11);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0];a=a[1];var f=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();f=f.getStyleProps;var g=d("PolarisIGTheme.react").useTheme();g=g.getTheme();var i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._("__JHASH__hW4DSFAbth0__JHASH__"),b[0]=i):i=b[0];i=i;g=g===d("PolarisIGTheme.react").IGTheme.Light?e.image_url:e.dark_mode_image_url;if(g==null)return null;var l,m=32,n=f({height:"96px",objectFit:"cover",width:"96px"});bb0:switch(e.header_render_type){case"rectangle":case"full_width":l=k.jsx("img",babelHelpers["extends"]({},f({objectFit:"cover",width:"100%"}),{alt:i,src:g}));m=0;break bb0;case"square":b[1]!==n||b[2]!==g?(e=k.jsx("img",babelHelpers["extends"]({},n,{alt:i,src:g})),b[1]=n,b[2]=g,b[3]=e):e=b[3];l=k.jsx("div",babelHelpers["extends"]({},f({alignItems:"center",justifyContent:"center",margin:"0 auto"}),{children:e}));break bb0;case"circle":default:b[4]!==n||b[5]!==g?(e=k.jsx(c("PolarisIGCoreDialogCircleMedia"),{icon:k.jsx("img",babelHelpers["extends"]({},n,{alt:i,src:g}))}),b[4]=n,b[5]=g,b[6]=e):e=b[6];l=e}i=f({marginTop:m});b[7]!==i||b[8]!==a||b[9]!==l?(n=k.jsx("div",babelHelpers["extends"]({},i,{"data-bloks-name":a,children:l})),b[7]=i,b[8]=a,b[9]=l,b[10]=n):n=b[10];return n}g["default"]=a}),226);
__d("PolarisBloksIGEndTTIEvent",["QuickPerformanceLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,d){var e;b==="success"?e=2:b==="failure"?e=3:b==="cancel"&&(e=4);e!=null&&(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(719983200,"2401"),e,d)}g["default"]=a}),98);
__d("PolarisBloksIGEndTTIEventV2",["QuickPerformanceLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,d,e){(h||(h=c("QuickPerformanceLogger"))).markerEnd(b,e,d)}g["default"]=a}),98);
__d("PolarisBloksIGGradientText.react",["PolarisBloksEnvironmentContext.react","PolarisBloksStyle.react","PolarisBloksTextStyle","PolarisBloksUtils","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(5);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0];a=a[1];var f=d("PolarisBloksStyle.react").useStyle(e),g=f.ref,h=f.style;f=f.theme;var k=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();k=k.getStyleProps;k=k(babelHelpers["extends"]({},h,d("PolarisBloksTextStyle").getTextStyle(e.text_style),d("PolarisBloksTextStyle").getGradientTextStyle(e.gradient_colors,e.gradient_orientation,f),{fontSize:d("PolarisBloksUtils").toPx(e.text_size),textAlign:d("PolarisBloksUtils").toHyphen(e.text_align)}));b[0]!==a||b[1]!==g||b[2]!==k||b[3]!==e.text?(h=j.jsx("span",babelHelpers["extends"]({"data-bloks-name":a,ref:g},k,{children:e.text})),b[0]=a,b[1]=g,b[2]=k,b[3]=e.text,b[4]=h):h=b[4];return h}g["default"]=a}),98);
__d("PolarisBloksIGIcon.react",["PolarisBloksEnvironmentContext.react","PolarisBloksStyle.react","PolarisBloksUtils","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(4);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0];a=a[1];var f=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();f=f.getStyleProps;var g=d("PolarisBloksStyle.react").useStyle(e),h=g.ref,k=g.style;g=g.theme;var l=e.height,m=e.tint_themed_color,n=e.url;e=e.width;m=m&&n?{backgroundColor:d("PolarisBloksUtils").getColor(m,g),maskImage:"url("+n+")",maskSize:"contain"}:{};g=f(babelHelpers["extends"]({},k,m,{flexShrink:"0",height:d("PolarisBloksUtils").toPx(l),width:d("PolarisBloksUtils").toPx(e)}));b[0]!==a||b[1]!==h||b[2]!==g?(n=j.jsx("div",babelHelpers["extends"]({"data-bloks-name":a,ref:h},g)),b[0]=a,b[1]=h,b[2]=g,b[3]=n):n=b[3];return n}g["default"]=a}),98);
__d("PolarisBloksIGLanguageSwitcher.react",["PolarisBloksNode.react","PolarisIGCorePressable.react","PolarisLanguageSwitcher.react","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k={languageSwitcher:{fontWeight:"x17j2mab",pointerEvents:"x67bb7w",width:"xh8yej3",$$css:!0}};function a(a){var b=i(6);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0];a=a[1];e=e.children;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a){a.stopPropagation()},b[0]=f):f=b[0];var g;b[1]!==e?(g=j.jsx(c("PolarisLanguageSwitcher.react"),{useCurrentLanguageLabel:!1,useQueryParam:!0,xstyle:k.languageSwitcher,children:j.jsx(d("PolarisBloksNode.react").BloksNode,{node:e})}),b[1]=e,b[2]=g):g=b[2];b[3]!==a||b[4]!==g?(e=j.jsx(c("PolarisIGCorePressable.react"),{"data-bloks-name":a,onPress:f,children:g}),b[3]=a,b[4]=g,b[5]=e):e=b[5];return e}g["default"]=a}),98);
__d("PolarisBloksIGLineChartV2.react",["JSResourceForInteraction","PolarisAsyncComponent.react","memoize","react","xigRequireInterop"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(){return d("PolarisAsyncComponent.react").createAsyncComponent_DEPRECATED({displayName:"AsyncBloksIGLineChartV2",resolve:function(){return c("JSResourceForInteraction")("PolarisAsyncBloksIGLineChartV2.react").__setRef("PolarisBloksIGLineChartV2.react").load().then(function(a){return c("xigRequireInterop")(a)})}})}var k=c("memoize")(a);function b(a){var b=i(3);a=a.node;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=k(),b[0]=c):c=b[0];c=c;b[1]!==a?(c=j.jsx(c,{node:a}),b[1]=a,b[2]=c):c=b[2];return c}g["default"]=b}),98);
__d("PolarisBloksIGLogEvent",[],(function(a,b,c,d,e,f){"use strict";function a(b,c,a,d){b.environment.eventLogger.logEvent(c,a,d)}f["default"]=a}),66);
__d("PolarisBloksIGLogout",["polarisSendLogoutRequest"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("polarisSendLogoutRequest").sendLogoutRequest("bloks_js")}g["default"]=a}),98);
__d("PolarisBloksIGModal.react",["IGCoreModal.react","PolarisBloksContext.react","PolarisBloksNode.react","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(7);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0];a=a[1];var f=d("PolarisBloksContext.react").useBloksContext(),g=f.environment,h=f.modals;f=g.getStyleProps;g=function(){h.pop()};e=e.children;f=f({display:"content"});e=e?e.map(function(a,b){return j.jsx(d("PolarisBloksNode.react").BloksNode,{node:a},b)}):null;var k;b[0]!==g||b[1]!==e?(k=j.jsx(c("IGCoreModal.react"),{onClose:g,children:e}),b[0]=g,b[1]=e,b[2]=k):k=b[2];b[3]!==a||b[4]!==f||b[5]!==k?(g=j.jsx("div",babelHelpers["extends"]({"data-bloks-name":a},f,{children:k})),b[3]=a,b[4]=f,b[5]=k,b[6]=g):g=b[6];return g}g["default"]=a}),98);
__d("PolarisBloksIGNavbar.react",["fbt","IGDSChevronIcon.react","IGDSIconButton.react","PolarisBloksEnvironmentContext.react","PolarisBloksNode.react","PolarisBloksRenderContext.react","PolarisIGTheme.react","browserHistory_DO_NOT_USE","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=b.useState,n=b.unstable_useMemoCache;function a(a){var b=n(5);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0];a=a[1];var f=m(0),g=f[0],i=f[1],o=l(null);f=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();f=f.getStyleProps;var p=d("PolarisBloksRenderContext.react").useBloksRenderContext(),q=p.screenManager,r;b[0]!==g?(p=function(){var a=o.current;a&&a.clientWidth!==g&&i(a.clientWidth)},r=[g],b[0]=g,b[1]=p,b[2]=r):(p=b[1],r=b[2]);k(p,r);p=q.getScreenCount()>1||d("browserHistory_DO_NOT_USE").canGoBack();b[3]!==q?(r=function(){q.getScreenCount()>1?q.pop():d("browserHistory_DO_NOT_USE").canGoBack()&&d("browserHistory_DO_NOT_USE").browserHistory.goBack()},b[3]=q,b[4]=r):r=b[4];b=r;r="1px solid "+d("PolarisIGTheme.react").useThemeColor("ig-elevated-separator");return j.jsx("div",babelHelpers["extends"]({"data-bloks-name":a},f({height:44}),{children:j.jsxs("div",babelHelpers["extends"]({},f({alignItems:"center",backgroundColor:d("PolarisIGTheme.react").useThemeColor("ig-elevated-background"),borderBottom:e.hide_divider===1?void 0:r,flexDirection:"row",flexGrow:1,fontSize:"16px",fontWeight:"600",justifyContent:"center"}),{children:[j.jsx("div",babelHelpers["extends"]({ref:o},f({alignItems:"center",bottom:0,flex:0,flexDirection:"row",justifyContent:"center",left:0,position:"absolute",top:0}),{children:e.left_button?j.jsx(d("PolarisBloksNode.react").BloksNode,{node:e.left_button}):p&&j.jsx(c("IGDSIconButton.react"),{onClick:b,children:j.jsx(c("IGDSChevronIcon.react"),{alt:h._("__JHASH__mmIrN12C7sN__JHASH__"),color:"ig-primary-text",direction:"back"})})})),j.jsx("div",babelHelpers["extends"]({},f({alignItems:"center",flex:1,justifyContent:"center",margin:"0 "+g+"px"}),{children:e.title})),e.right_buttons&&e.right_buttons.map(function(a,b){return j.jsx(d("PolarisBloksNode.react").BloksNode,{node:a},b)})]}))}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisBloksIGNavbarButton.react",["fbt","IGDSChevronIcon.react","IGDSIconButton.react","IGDSMoreHorizontalPanoOutlineIcon.react","react","usePolarisBloksExecutor","usePolarisBloksNode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(8);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0],f=d("usePolarisBloksExecutor").useBloksExecutor();b[0]!==f||b[1]!==e.action?(a=function(){f(e.action)},b[0]=f,b[1]=e.action,b[2]=a):a=b[2];a=a;var g;bb0:switch(e.icon){case"back":var i;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=k.jsx(c("IGDSChevronIcon.react"),{alt:h._("__JHASH__mmIrN12C7sN__JHASH__"),direction:"back"}),b[3]=i):i=b[3];g=i;break bb0;case"menu_horizontal":b[4]===Symbol["for"]("react.memo_cache_sentinel")?(i=k.jsx(c("IGDSMoreHorizontalPanoOutlineIcon.react"),{alt:h._("__JHASH__lHm0hxg4L12__JHASH__"),size:32}),b[4]=i):i=b[4];g=i;break bb0;case"none":g=null}b[5]!==a||b[6]!==g?(i=k.jsx(c("IGDSIconButton.react"),{onClick:a,children:g}),b[5]=a,b[6]=g,b[7]=i):i=b[7];return i}g["default"]=a}),226);
__d("PolarisBloksIGOAuthPermissionResultCallbackDoNotUse",["URI","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("AsyncRequest").__setRef("PolarisBloksIGOAuthPermissionResultCallbackDoNotUse");function a(a,b,d){i.onReady(function(a){new a().setURI(b).setMethod("POST").setData(d).setHandler(function(a){a=a.getPayload();typeof (a==null?void 0:a.redirect_location)==="string"&&(a==null?void 0:a.redirect_location)&&(h||(h=c("URI"))).goURIOnWindow(a==null?void 0:a.redirect_location,window.open("","_self"),!0)}).send()})}g["default"]=a}),98);
__d("PolarisBloksIGOpenActionSheet",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a.modals.push({params:{},screen:b},a)}f["default"]=a}),66);
__d("PolarisBloksIGOpenBottomSheetOrDialog",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=a.modals.getScreenCount()>0?1:0;a.modals.push({params:{addToBackStack:c},screen:b},a)}f["default"]=a}),66);
__d("PolarisBloksIGOpenChallengeUrl",["InstagramQueryParamsHelper","PolarisChallengeRoutes","browserHistory_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f,g){a.screens.pop();if(b==null||c==null)d("browserHistory_DO_NOT_USE").redirect(d("PolarisChallengeRoutes").TAKE_CHALLENGE_BASE_PATH);else{g=e!=null?e+"/":"";a=d("PolarisChallengeRoutes").TAKE_CHALLENGE_BASE_PATH+"/"+b+"/"+c+"/"+g;f!=null&&(a=d("InstagramQueryParamsHelper").appendQueryParams(a,{cni:f}));d("browserHistory_DO_NOT_USE").redirect(a)}}g["default"]=a}),98);
__d("PolarisBloksIGOpenDiscoverPeople",["PolarisNavigationUtils","PolarisRoutes"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){d("PolarisNavigationUtils").openURL(d("PolarisRoutes").DISCOVER_PEOPLE_PATH)}g["default"]=a}),98);
__d("PolarisBloksIGOpenReportUser",[],(function(a,b,c,d,e,f){"use strict";function a(b,c,d,a){var f=b.params.onOpenReportUser;f&&(b.modals.pop(),f(c,d,a))}f["default"]=a}),66);
__d("PolarisBloksIGOpenScreen",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a.params.onIGOpenScreen!=null?a.params.onIGOpenScreen(a,b,c):a.screens.push({params:c,screen:b},a)}f["default"]=a}),66);
__d("PolarisBloksIGOpenShareSheet",[],(function(a,b,c,d,e,f){"use strict";function a(a){a.params.onOpenShareSheetClick&&a.params.onOpenShareSheetClick()}f["default"]=a}),66);
__d("PolarisBloksIGOpenURL",["PolarisNavigationUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=b.replace(/\\/g,"");d("PolarisNavigationUtils").openURLWithFullPageReload(a)}g["default"]=a}),98);
__d("PolarisBloksIGOpenUserDetail",["PolarisNavigationUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){a.screens.pop(),d("PolarisNavigationUtils").openURLWithFullPageReload("/uid/"+b)}g["default"]=a}),98);
__d("PolarisBloksIGOpenVoterInformationCenter",["PolarisRoutes","PolarisUA","browserHistory_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("PolarisUA").isDesktop()?document.location.href=d("PolarisRoutes").VOTING_INFORMATION_CENTER_PATH:d("browserHistory_DO_NOT_USE").browserHistory.push(d("PolarisRoutes").VOTING_INFORMATION_CENTER_PATH)}g["default"]=a}),98);
__d("PolarisBloksIGPhoneNumberInput.react",["PolarisBloksContext.react","PolarisBloksEnvironmentContext.react","PolarisCountryCodeUtils","PolarisPhoneCommonStrings","PolarisPhoneNumberCountryCodeInput.react","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function a(a){a=a.node;a=c("usePolarisBloksNode")(a);var b=a[0];a=a[1];var e=d("PolarisBloksContext.react").useBloksContext(),f=e.execute;e=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();e=e.getStyleProps;var g=j(d("PolarisCountryCodeUtils").countryCodeFromCode(b.country_code)),h=g[0],k=g[1];g=j(b.phone_number||"");var l=g[0],m=g[1];function n(a){k(a),p(a,l)}function o(a){a=a.target.value;m(a);p(h,a)}function p(a,c){b.on_change&&f(b.on_change,[d("PolarisCountryCodeUtils").stringFromCountryCode(a),c])}return i.jsx("div",babelHelpers["extends"]({"data-bloks-name":a},e({}),{children:i.jsx(c("PolarisPhoneNumberCountryCodeInput.react"),{countryCode:h,onChange:o,onChangeCountryCode:n,placeholder:d("PolarisPhoneCommonStrings").PHONE_NUMBER_LABEL,value:l})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisBloksIGPopover.react",["PolarisBloksContext.react","PolarisBloksNode.react","PolarisIGCoreAnchoredPopover.react","PolarisIGCoreAnchoredPopoverContentContainer.react","PolarisIGCorePressable.react","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useState,k=b.unstable_useMemoCache;function a(a){var b=k(28);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0];a=a[1];var f=d("PolarisBloksContext.react").useBloksContext(),g=f.execute;f=j(!1);var h=f[0],l=f[1];f=e.children;var m=e.content,n=e.display,o=e.height,p=e.offset_bottom,q=e.offset_left,r=e.offset_right,s=e.offset_top,t=e.on_close,u=e.position_type,v=e.preferred_position_x,w=e.preferred_position_y,x=e.show_on_hover;e=e.width;var y;b[0]!==t||b[1]!==g?(y=function(){t&&g(t),l(!1)},b[0]=t,b[1]=g,b[2]=y):y=b[2];y=y;var z;b[3]!==h||b[4]!==m||b[5]!==o||b[6]!==y||b[7]!==e?(z=h&&i.jsx(c("PolarisIGCoreAnchoredPopoverContentContainer.react"),{height:o,isVisible:h,onClose:y,width:e,children:i.jsx(d("PolarisBloksNode.react").BloksNode,{node:m})}),b[3]=h,b[4]=m,b[5]=o,b[6]=y,b[7]=e,b[8]=z):z=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){return l(function(a){return!a})},m={flex:"1 1 auto"},b[9]=h,b[10]=m):(h=b[9],m=b[10]);b[11]!==f?(o=i.jsx(d("PolarisBloksNode.react").BloksNode,{node:f}),b[11]=f,b[12]=o):o=b[12];b[13]!==a||b[14]!==o?(y=i.jsx(c("PolarisIGCorePressable.react"),{"data-bloks-name":a,onPress:h,style:m,children:o}),b[13]=a,b[14]=o,b[15]=y):y=b[15];b[16]!==z||b[17]!==n||b[18]!==p||b[19]!==q||b[20]!==r||b[21]!==s||b[22]!==u||b[23]!==v||b[24]!==w||b[25]!==x||b[26]!==y?(e=i.jsx(c("PolarisIGCoreAnchoredPopover.react"),{content:z,display:n,offsetBottom:p,offsetLeft:q,offsetRight:r,offsetTop:s,positionType:u,preferredPositionX:v,preferredPositionY:w,showOnHover:x,children:y}),b[16]=z,b[17]=n,b[18]=p,b[19]=q,b[20]=r,b[21]=s,b[22]=u,b[23]=v,b[24]=w,b[25]=x,b[26]=y,b[27]=e):e=b[27];return e}g["default"]=a}),98);
__d("PolarisBloksIGPresentModal",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a.modals.push({params:c,screen:b},a)}f["default"]=a}),66);
__d("PolarisBloksIGPresentModalWithModalObject",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){a.modals.push({params:c,screen:{"ig.components.screens.Modal":babelHelpers["extends"]({},d["ig.components.screens.Modal"],{children:[b]})}},a)}f["default"]=a}),66);
__d("PolarisBloksIGPresentModalWithResult",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){a.modals.push({params:c,screen:b},a);return a.execute(d)}f["default"]=a}),66);
__d("PolarisBloksIGPrintf",["sprintf"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e){return c("sprintf").apply(void 0,[b].concat(d))}g["default"]=a}),98);
__d("PolarisBloksIGReloadPage",[],(function(a,b,c,d,e,f){"use strict";function a(a){window.location.reload()}f["default"]=a}),66);
__d("PolarisBloksIGResumeStoryPlayback",[],(function(a,b,c,d,e,f){"use strict";function a(a){a.params.onResumeStoryPlayback&&a.params.onResumeStoryPlayback()}f["default"]=a}),66);
__d("PolarisBloksIGScreen.react",["PolarisBloksEnvironmentContext.react","PolarisBloksIGScreenSpinner.react","PolarisBloksNode.react","PolarisBloksRenderer.react","PolarisIGTheme.react","react","usePolarisBloksApp","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.unstable_useMemoCache;function a(a){var b=k(7);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0];a=a[1];var f=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();f=f.getStyleProps;var g=j(d("PolarisBloksRenderer.react").ScreenParamsContext),h=e.app_id,l=e.initial_content;e=e.navbar;h=c("usePolarisBloksApp")(h,g,{},{cached:!1});g=h.App;h=h.isReady;var m=f({backgroundColor:d("PolarisIGTheme.react").useThemeColor("ig-primary-background"),display:"flex",flexDirection:"column",height:"100%",width:"100%",zIndex:100}),n;b[0]!==e?(n=e&&i.jsx(d("PolarisBloksNode.react").BloksNode,{node:e}),b[0]=e,b[1]=n):n=b[1];e=h?i.jsx("div",babelHelpers["extends"]({},f({flex:1,overflow:"auto"}),{children:i.jsx(g,{})})):l?i.jsx("div",babelHelpers["extends"]({},f({flex:1,overflow:"auto"}),{children:i.jsx(d("PolarisBloksNode.react").BloksNode,{node:l})})):i.jsx(c("PolarisBloksIGScreenSpinner.react"),{});b[2]!==a||b[3]!==m||b[4]!==n||b[5]!==e?(h=i.jsxs("div",babelHelpers["extends"]({"data-bloks-name":a},m,{children:[n,e]})),b[2]=a,b[3]=m,b[4]=n,b[5]=e,b[6]=h):h=b[6];return h}g["default"]=a}),98);
__d("PolarisBloksIGSpinner.react",["IGDSArrowCcwPanoOutlineIcon.react","IGDSSpinner.react","PolarisBloksEnvironmentContext.react","PolarisGenericStrings","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(9);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0];a=a[1];var f=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();f=f.getStyleProps;if(e.state==="success")return null;f=f({alignItems:"center",height:48,justifyContent:"center",width:48});var g;b[0]!==e.state?(g=e.state==="loading"&&j.jsx(c("IGDSSpinner.react"),{}),b[0]=e.state,b[1]=g):g=b[1];var h;b[2]!==e.state?(h=e.state==="failed"&&j.jsx(c("IGDSArrowCcwPanoOutlineIcon.react"),{alt:d("PolarisGenericStrings").FAILED_TO_LOAD_TEXT}),b[2]=e.state,b[3]=h):h=b[3];b[4]!==a||b[5]!==f||b[6]!==g||b[7]!==h?(e=j.jsxs("div",babelHelpers["extends"]({"data-bloks-name":a},f,{children:[g,h]})),b[4]=a,b[5]=f,b[6]=g,b[7]=h,b[8]=e):e=b[8];return e}g["default"]=a}),98);
__d("PolarisBloksIGStartTTIEvent",["PolarisBloksIGTTIEventConstants","QuickPerformanceLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){(h||(h=c("QuickPerformanceLogger"))).markerStart(c("qpl")._(719983200,"2401"),e);h.markerAnnotate(c("qpl")._(719983200,"2401"),{string:(a={},a[d("PolarisBloksIGTTIEventConstants").START_TTI_ANNOTATION_KEY]=b,a)},{instanceKey:e})}g["default"]=a}),98);
__d("PolarisBloksIGStringEncryptPassword",["PolarisEncryptionHelper","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a={requestUUID:c("uuidv4")()};return d("PolarisEncryptionHelper").encrypt(b,a)}g["default"]=a}),98);
__d("PolarisBloksIGSwitch.react",["IGDSSwitch.react","PolarisBloksEnvironmentContext.react","react","usePolarisBloksExecutor","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l=b.unstable_useMemoCache;function a(a){var b=l(17);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0],f=a[1],g=a[2],h=d("usePolarisBloksExecutor").useBloksExecutor();a=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();a=a.getStyleProps;var m=k(e.state==="on"),n=m[0],o=m[1],p;b[0]!==e.state?(m=function(){o(e.state==="on")},p=[e.state],b[0]=e.state,b[1]=m,b[2]=p):(m=b[1],p=b[2]);j(m,p);b[3]!==n||b[4]!==e.on_toggle||b[5]!==h||b[6]!==g?(m=function(){var a=n?"off":"on";o(a==="on");e.on_toggle&&h(e.on_toggle,[g,a])},b[3]=n,b[4]=e.on_toggle,b[5]=h,b[6]=g,b[7]=m):m=b[7];p=m;m=e.enabled===!1?"disabled-polaris-bloks-switch":"polaris-bloks-switch";a=a({pointerEvents:"all"});var q=e.enabled===!1,r;b[8]!==q||b[9]!==p||b[10]!==n?(r=i.jsx(c("IGDSSwitch.react"),{disabled:q,onValueChange:p,value:n}),b[8]=q,b[9]=p,b[10]=n,b[11]=r):r=b[11];b[12]!==f||b[13]!==m||b[14]!==a||b[15]!==r?(q=i.jsx("div",babelHelpers["extends"]({"data-bloks-name":f,"data-testid":void 0},a,{children:r})),b[12]=f,b[13]=m,b[14]=a,b[15]=r,b[16]=q):q=b[16];return q}g["default"]=a}),98);
__d("PolarisBloksIGToast",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.params.onToast;a&&a(b,"MINI_TOAST")}f["default"]=a}),66);
__d("PolarisBloksIGViewpointExtensionContextGetPercentVisible",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b.percentVisible}f["default"]=a}),66);
__d("PolarisBloksOpenBottomSheetV3",["IGDSBox.react","PolarisBloksNode.react","PolarisIGCoreSheetOrModal","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b,c,d,e){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g){f=b["bk.data.screen.Screen"].app_id;g=(yield a.environment.appLoader.get(f,e).then(function(b){return i.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{onClose:function(){return a.modals.pop()},children:i.jsx(c("IGDSBox.react"),{direction:"row",display:"flex",height:"100%",position:"relative",children:i.jsx(d("PolarisBloksNode.react").BloksNode,{node:b.tree})})})}));b=a.modals.getScreenCount()>0?1:0;a.modals.push({params:{addToBackStack:b},screen:g},a)});return j.apply(this,arguments)}g["default"]=a}),98);
__d("PolarisBloksPopBottomSheet",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a.modals.pop()}f["default"]=a}),66);
__d("PolarisBloksPrivacyConsentCloseAllPrompts",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a.modals.clear(),c!=null&&a.execute(c)}f["default"]=a}),66);
__d("PolarisBloksPrivacyConsentCloseDialog",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a.modals.pop(),b!=null&&a.execute(b)}f["default"]=a}),66);
__d("PolarisBloksPrivacyConsentFlowCompletionCallback",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){a.params.onCloseConsentFlow&&a.params.onCloseConsentFlow(c)}f["default"]=a}),66);
__d("PolarisBloksPrivacyConsentUtils",["IGCoreModal.react","IGDSBox.react","PolarisBloksAppContext.react","PolarisBloksDataBinding","PolarisBloksGlobalStore","PolarisBloksLocalStore","PolarisBloksNode.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b,e,f,g){if(e==null)return;b=a.environment;b=new(d("PolarisBloksDataBinding").BloksDataManifest)(babelHelpers["extends"]({},d("PolarisBloksGlobalStore").globalStoreModule(a),d("PolarisBloksLocalStore").localStoreModule(a),b.dataModules));b.initialize(e.variables);var h=f==null?void 0:(f=f.tree)==null?void 0:(f=f["bk.data.consent.container.DialogOptions"])==null?void 0:f.handle_outside_tap_dismiss_action;f=h!=null?function(){a.execute(h),a.modals.pop()}:void 0;b=i.jsx(d("PolarisBloksAppContext.react").BloksAppContextProvider,{context:{layout:{},manifest:b},children:i.jsx(c("IGCoreModal.react"),{disablePopInAnimation:!0,fixedHeight:!0,fixedWidth:!0,isCriticalToPrivacyControls:!0,isMobileFullScreen:g,onClose:f,size:"large",children:i.jsx(c("IGDSBox.react"),{direction:"row",display:"flex",height:"100%",position:"relative",children:i.jsx(d("PolarisBloksNode.react").BloksNode,{node:e.tree})})})});a.modals.push({params:{},screen:b},a)}g.openDialogOrAsScreen=a}),98);
__d("PolarisBloksPrivacyConsentOpenDialog",["PolarisBloksPrivacyConsentUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){d("PolarisBloksPrivacyConsentUtils").openDialogOrAsScreen(a,a,b,c,!1)}g["default"]=a}),98);
__d("PolarisBloksPrivacyConsentOpenDialogAsScreenOnMobileDoNotUse",["PolarisBloksPrivacyConsentUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){d("PolarisBloksPrivacyConsentUtils").openDialogOrAsScreen(a,b,c,e,!0)}g["default"]=a}),98);
__d("PolarisBloksPushBottomSheet",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a.modals.push({params:{addToBackStack:c},screen:b},a)}f["default"]=a}),66);
__d("PolarisBloksQPClick",["PolarisNavigationUtils","PolarisQPHelperModule.react","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=b.replace(/\\/g,"");a.params.onQPClick&&a.params.onQPClick(e,b);if(e==="DISMISS"||b.length===0)return;e=d("PolarisQPHelperModule.react").getQPDeepLinkUrl(f);if(!c("isStringNullOrEmpty")(e))d("PolarisNavigationUtils").openURL(e);else if(f.includes("webview")){b=decodeURIComponent(f.split("url=")[1]);b.includes("www.instagram.com")&&(b=b.split("www.instagram.com")[1]);d("PolarisNavigationUtils").openURL(b);return}else if(f.includes("instagram://run_bloks_action")){b=(e=f.split("?")[1])!=null?e:"";e=new URLSearchParams(b);b=e.get("bloks_app_id");if(b==="com.bloks.www.privacy.consent.prompt.action"){var g=e.get("params");g!=null&&a.executeAsync(b,JSON.parse(g))}else if(b==="com.bloks.www.yp.supervision_launch_qp_landing.async"){g=e.get("page_type");g!=null&&a.executeAsync(b,{page_type:g})}}f.includes("instagram.com")?d("PolarisNavigationUtils").openURL(f):f.startsWith("/")&&window.location.origin==="https://www.instagram.com"?d("PolarisNavigationUtils").openURL("https://www.instagram.com"+f):d("PolarisNavigationUtils").openURLWithFullPageReload(f,{openInNewTab:!0})}g["default"]=a}),98);
__d("PolarisBloksStoryViewerTooltip.react",["cx","Locale","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(12);a=a.node;a=c("usePolarisBloksNode")(a);a=a[0];if(a.title===null||a.title==="")return null;var d=c("Locale").isRTL(),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="_aab9",b[0]=e):e=b[0];var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f="_aaba",b[1]=f):f=b[1];var g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g="_aabb",b[2]=g):g=b[2];b[3]!==a.title?(g=k.jsx("div",{className:g,children:a.title}),b[3]=a.title,b[4]=g):g=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a="_9znl",b[5]=a):a=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx("div",{className:a,style:{transform:d?"rotate(180deg)":void 0}}),b[6]=a):a=b[6];b[7]!==g?(d=k.jsxs("div",{className:f,role:"dialog",children:[g,a]}),b[7]=g,b[8]=d):d=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx("div",{className:"_aabc"}),b[9]=f):f=b[9];b[10]!==d?(a=k.jsxs("div",{className:e,children:[d,f]}),b[10]=d,b[11]=a):a=b[11];return a}g["default"]=a}),98);
__d("PolarisBloksStoryViewerTooltipExtension.react",["PolarisBloksContext.react","PolarisBloksNode.react","PolarisIGCorePressable.react","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(9);a=a.node;a=c("usePolarisBloksNode")(a);a=a[0];var e=d("PolarisBloksContext.react").useBloksContext();if(a.tooltip==null||a.on_tooltip_click==null)return null;var f=a.on_tooltip_click;a=a.tooltip;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={position:"absolute"},b[0]=g):g=b[0];var h;b[1]!==e||b[2]!==f?(h=function(a){a.stopPropagation(),e.execute(f)},b[1]=e,b[2]=f,b[3]=h):h=b[3];var k;b[4]!==a?(k=j.jsx(d("PolarisBloksNode.react").BloksNode,{node:a}),b[4]=a,b[5]=k):k=b[5];b[6]!==h||b[7]!==k?(a=j.jsx("div",{style:g,children:j.jsx(c("PolarisIGCorePressable.react"),{onPress:h,role:"button",children:k})}),b[6]=h,b[7]=k,b[8]=a):a=b[8];return a}g["default"]=a}),98);
__d("PolarisBloksSwitch.react",["IGDSSwitch.react","PolarisBloksBooleanUtils","PolarisBloksContext.react","PolarisBloksEnvironmentContext.react","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l=b.unstable_useMemoCache;function a(a){var b=l(8);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0],f=a[1],g=a[2],h=d("PolarisBloksContext.react").useBloksContext(),m=h.execute;a=d("PolarisBloksEnvironmentContext.react").useBloksEnvironment();a=a.getStyleProps;var n=k(d("PolarisBloksBooleanUtils").isTrue(e.checked)),o=n[0],p=n[1];j(function(){p(d("PolarisBloksBooleanUtils").isTrue(e.checked))},[e.checked]);n=function(){if(d("PolarisBloksBooleanUtils").isTrue(e.is_controlled))return;var a=!o;p(a);e.on_toggle&&m(e.on_toggle,[g,Number(a),h])};a=a({pointerEvents:"all"});var q=d("PolarisBloksBooleanUtils").isFalse(e.enabled),r;b[0]!==q||b[1]!==n||b[2]!==o?(r=i.jsx(c("IGDSSwitch.react"),{disabled:q,onValueChange:n,value:o}),b[0]=q,b[1]=n,b[2]=o,b[3]=r):r=b[3];b[4]!==f||b[5]!==a||b[6]!==r?(q=i.jsx("div",babelHelpers["extends"]({"data-bloks-name":f},a,{children:r})),b[4]=f,b[5]=a,b[6]=r,b[7]=q):q=b[7];return q}g["default"]=a}),98);
__d("PolarisBloksUFACImagePicker.react",["cx","PolarisIGCoreButton.react","PolarisImageFileForm.react","Promise","err","react","usePolarisBloksExecutor","usePolarisBloksNode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useState,m=e.unstable_useMemoCache,n=1024;function o(a,d){d===void 0&&(d=n);return new(i||(i=b("Promise")))(function(b,e){var f=new Image();f.onload=function(){var c=document.createElement("canvas"),e=f.width,g=f.height;(e>d||g>d)&&(e>g?(g*=d/e,e=d):(e*=d/g,g=d));c.width=e;c.height=g;var h=c.getContext("2d");h.drawImage(f,0,0,e,g);c.toBlob(function(c){c=new File([c],a.name,{type:"image/jpeg"});b(c)},a.type)};f.onerror=function(){e(c("err")("Failed to load image for resizing"))};f.src=URL.createObjectURL(a)})}function p(a,b,c,d,e){if(a.length===0){b(null);return c("")}a=a[0];if((e=e)!=null?e:!1){return o(a,(e=d)!=null?e:n).then(function(a){b(a);return a}).then(r).then(c)}else{b(a);return r(a).then(c)}}function q(a){return a==null?null:k.jsx("img",{alt:"",className:"_aatv",src:window.URL.createObjectURL(a)})}q.displayName=q.name+" [from "+f.id+"]";function r(a){return new(i||(i=b("Promise")))(function(b,c){var d=new FileReader();d.readAsArrayBuffer(a);d.onload=function(){var a=new Uint8Array(d.result),c="";for(var e=0;e<a.byteLength;e++)c+=String.fromCharCode(a[e]);b(window.btoa(c))};d.onerror=function(){c(d.error)}})}function a(a){var b=m(20);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0],f=a[1],g=a[2],h=d("usePolarisBloksExecutor").useBloksExecutor();a=l(null);var i=a[0],j=a[1];b[0]!==i?(a=q(i),b[0]=i,b[1]=a):a=b[1];a=a;var n;b[2]!==h||b[3]!==e.on_image_changed||b[4]!==g?(n=function(a){return h(e.on_image_changed,[g,a])},b[2]=h,b[3]=e.on_image_changed,b[4]=g,b[5]=n):n=b[5];var o=n;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(n=["image/*"],b[6]=n):n=b[6];var r;b[7]!==o||b[8]!==e.max_image_size||b[9]!==e.resize_image?(r=function(a){return p(a,j,o,e.max_image_size,e.resize_image)},b[7]=o,b[8]=e.max_image_size,b[9]=e.resize_image,b[10]=r):r=b[10];i=i===null?(i=e.upload_photo_text_string)!=null?i:"Upload a photo":(i=e.choose_another_photo_text_string)!=null?i:"Choose another photo";var s;b[11]!==i?(s=k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,fullWidth:!0,children:i}),b[11]=i,b[12]=s):s=b[12];b[13]!==r||b[14]!==s?(i=k.jsx(d("PolarisImageFileForm.react").ImageFileForm,{acceptMimeTypes:n,onFileChange:r,children:s}),b[13]=r,b[14]=s,b[15]=i):i=b[15];b[16]!==f||b[17]!==a||b[18]!==i?(n=k.jsxs("div",{"data-bloks-name":f,children:[a,i]}),b[16]=f,b[17]=a,b[18]=i,b[19]=n):n=b[19];return n}g["default"]=a}),98);
__d("PolarisBloksUFACRecaptcha.react",["PolarisRecaptcha","react","usePolarisBloksExecutor","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(7);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0],f=a[1],g=a[2],h=d("usePolarisBloksExecutor").useBloksExecutor();b[0]!==h||b[1]!==e.on_solved||b[2]!==g?(a=j.jsx(c("PolarisRecaptcha"),{onChange:function(a){return h(e.on_solved,[g,a])}}),b[0]=h,b[1]=e.on_solved,b[2]=g,b[3]=a):a=b[3];var k;b[4]!==f||b[5]!==a?(k=j.jsx("div",{"data-bloks-name":f,children:a}),b[4]=f,b[5]=a,b[6]=k):k=b[6];return k}g["default"]=a}),98);
__d("PolarisBloksUFACStickyHeader.react",["PolarisBloksNode.react","react","usePolarisBloksNode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(11);a=a.node;a=c("usePolarisBloksNode")(a);var e=a[0];a=a[1];var f=e.children;if(!f)return null;var g=null;if(e.bottom!=null){var h=e.bottom+"px",k;b[0]!==h?(k={bottom:h},b[0]=h,b[1]=k):k=b[1];g=k}else if(e.top!=null){h=e.top+"px";b[2]!==h?(k={top:h},b[2]=h,b[3]=k):k=b[3];g=k}b[4]===Symbol["for"]("react.memo_cache_sentinel")?(e="xixxii4 xh8yej3 x1swlcf7",b[4]=e):e=b[4];b[5]!==f?(h=j.jsx(d("PolarisBloksNode.react").BloksNode,{node:f}),b[5]=f,b[6]=h):h=b[6];b[7]!==a||b[8]!==g||b[9]!==h?(k=j.jsx("div",{className:e,"data-bloks-name":a,"data-testid":void 0,style:g,children:h}),b[7]=a,b[8]=g,b[9]=h,b[10]=k):k=b[10];return k}g["default"]=a}),98);
__d("PolarisIGBloksPrimitives",["PolarisBloksBottomSheet.react","PolarisBloksCCSSupportUserChatThread.react","PolarisBloksCheckoutGetCreditCardToken","PolarisBloksDismissBottomSheet","PolarisBloksIGActionSheet.react","PolarisBloksIGActionSheetItem.react","PolarisBloksIGAnnotateTTIEvent","PolarisBloksIGBottomSheet.react","PolarisBloksIGClearChallenge","PolarisBloksIGCloseModal","PolarisBloksIGCloseModalWithResult","PolarisBloksIGCloseScreen","PolarisBloksIGCloseToScreen","PolarisBloksIGDialog.react","PolarisBloksIGDialogButton.react","PolarisBloksIGDialogHeader.react","PolarisBloksIGEndTTIEvent","PolarisBloksIGEndTTIEventV2","PolarisBloksIGGradientText.react","PolarisBloksIGIcon.react","PolarisBloksIGLanguageSwitcher.react","PolarisBloksIGLineChartV2.react","PolarisBloksIGLogEvent","PolarisBloksIGLogout","PolarisBloksIGModal.react","PolarisBloksIGNavbar.react","PolarisBloksIGNavbarButton.react","PolarisBloksIGOAuthPermissionResultCallbackDoNotUse","PolarisBloksIGOpenActionSheet","PolarisBloksIGOpenBottomSheetOrDialog","PolarisBloksIGOpenChallengeUrl","PolarisBloksIGOpenDiscoverPeople","PolarisBloksIGOpenReportUser","PolarisBloksIGOpenScreen","PolarisBloksIGOpenShareSheet","PolarisBloksIGOpenURL","PolarisBloksIGOpenUserDetail","PolarisBloksIGOpenVoterInformationCenter","PolarisBloksIGPhoneNumberInput.react","PolarisBloksIGPopover.react","PolarisBloksIGPresentModal","PolarisBloksIGPresentModalWithModalObject","PolarisBloksIGPresentModalWithResult","PolarisBloksIGPrintf","PolarisBloksIGReloadPage","PolarisBloksIGResumeStoryPlayback","PolarisBloksIGScreen.react","PolarisBloksIGSpinner.react","PolarisBloksIGStartTTIEvent","PolarisBloksIGStringEncryptPassword","PolarisBloksIGSwitch.react","PolarisBloksIGToast","PolarisBloksIGViewpointExtensionContextGetPercentVisible","PolarisBloksOpenBottomSheetV3","PolarisBloksPopBottomSheet","PolarisBloksPrivacyConsentCloseAllPrompts","PolarisBloksPrivacyConsentCloseDialog","PolarisBloksPrivacyConsentFlowCompletionCallback","PolarisBloksPrivacyConsentOpenDialog","PolarisBloksPrivacyConsentOpenDialogAsScreenOnMobileDoNotUse","PolarisBloksPushBottomSheet","PolarisBloksQPClick","PolarisBloksStoryViewerTooltip.react","PolarisBloksStoryViewerTooltipExtension.react","PolarisBloksSwitch.react","PolarisBloksUFACImagePicker.react","PolarisBloksUFACRecaptcha.react","PolarisBloksUFACStickyHeader.react"],(function(a,b,c,d,e,f,g){"use strict";a={"bk.components.BottomSheet":c("PolarisBloksBottomSheet.react"),"bk.components.ig.ccs.SupportUserChatThread":c("PolarisBloksCCSSupportUserChatThread.react"),"bk.components.ig.ufac.ImagePicker":c("PolarisBloksUFACImagePicker.react"),"bk.components.ig.ufac.Recaptcha":c("PolarisBloksUFACRecaptcha.react"),"bk.components.ig.ufac.StickyHeader":c("PolarisBloksUFACStickyHeader.react"),"bk.components.StoryViewerTooltip":c("PolarisBloksStoryViewerTooltip.react"),"bk.components.StoryViewerTooltipExtension":c("PolarisBloksStoryViewerTooltipExtension.react"),"bk.components.Switch":c("PolarisBloksSwitch.react"),"ig.components.ActionSheet":c("PolarisBloksIGActionSheet.react"),"ig.components.ActionSheetItem":c("PolarisBloksIGActionSheetItem.react"),"ig.components.BottomSheet":c("PolarisBloksIGBottomSheet.react"),"ig.components.dialog.Button":c("PolarisBloksIGDialogButton.react"),"ig.components.dialog.Dialog":c("PolarisBloksIGDialog.react"),"ig.components.dialog.Header":c("PolarisBloksIGDialogHeader.react"),"ig.components.GradientText":c("PolarisBloksIGGradientText.react"),"ig.components.Icon":c("PolarisBloksIGIcon.react"),"ig.components.LanguageSwitcher":c("PolarisBloksIGLanguageSwitcher.react"),"ig.components.linechart.ChartV2":c("PolarisBloksIGLineChartV2.react"),"ig.components.PhoneNumberInput":c("PolarisBloksIGPhoneNumberInput.react"),"ig.components.Popover":c("PolarisBloksIGPopover.react"),"ig.components.screens.Modal":c("PolarisBloksIGModal.react"),"ig.components.screens.Navbar":c("PolarisBloksIGNavbar.react"),"ig.components.screens.NavbarButton":c("PolarisBloksIGNavbarButton.react"),"ig.components.screens.Screen":c("PolarisBloksIGScreen.react"),"ig.components.Spinner":c("PolarisBloksIGSpinner.react"),"ig.components.Switch":c("PolarisBloksIGSwitch.react")};b={"bk.action.bloks.OpenBottomSheetV3":c("PolarisBloksOpenBottomSheetV3"),"bk.action.checkout.GetCreditCardToken":c("PolarisBloksCheckoutGetCreditCardToken"),"bk.action.ig.oauth.PermissionResultCallbackDoNotUse":c("PolarisBloksIGOAuthPermissionResultCallbackDoNotUse"),"bk.action.navigation.CloseScreen":c("PolarisBloksIGCloseScreen"),"bk.action.privacy.consent.CloseAllPrompts":c("PolarisBloksPrivacyConsentCloseAllPrompts"),"bk.action.privacy.consent.CloseDialog":c("PolarisBloksPrivacyConsentCloseDialog"),"bk.action.privacy.consent.FlowCompletionCallback":c("PolarisBloksPrivacyConsentFlowCompletionCallback"),"bk.action.privacy.consent.OpenDialog":c("PolarisBloksPrivacyConsentOpenDialog"),"bk.action.privacy.consent.OpenDialogAsScreenOnMobileDoNotUse":c("PolarisBloksPrivacyConsentOpenDialogAsScreenOnMobileDoNotUse"),"ig.action.challenges.Logout":c("PolarisBloksIGLogout"),"ig.action.challenges.OpenChallengeUrl":c("PolarisBloksIGOpenChallengeUrl"),"ig.action.civic_action.RefreshVotingInfoCenter":c("PolarisBloksIGReloadPage"),"ig.action.logging.LogEvent":c("PolarisBloksIGLogEvent"),"ig.action.navigation.activityfeed.OpenDiscoverPeople":c("PolarisBloksIGOpenDiscoverPeople"),"ig.action.navigation.ClearChallenge":c("PolarisBloksIGClearChallenge"),"ig.action.navigation.CloseModal":c("PolarisBloksIGCloseModal"),"ig.action.navigation.CloseModalWithResult":c("PolarisBloksIGCloseModalWithResult"),"ig.action.navigation.CloseScreen":c("PolarisBloksIGCloseScreen"),"ig.action.navigation.CloseToScreen":c("PolarisBloksIGCloseToScreen"),"ig.action.navigation.DismissBottomSheetV2":c("PolarisBloksDismissBottomSheet"),"ig.action.navigation.IGToast":c("PolarisBloksIGToast"),"ig.action.navigation.OpenActionSheet":c("PolarisBloksIGOpenActionSheet"),"ig.action.navigation.OpenBottomSheet":c("PolarisBloksIGOpenBottomSheetOrDialog"),"ig.action.navigation.OpenDialog":c("PolarisBloksIGOpenBottomSheetOrDialog"),"ig.action.navigation.OpenReportUser":c("PolarisBloksIGOpenReportUser"),"ig.action.navigation.OpenScreen":c("PolarisBloksIGOpenScreen"),"ig.action.navigation.OpenShareSheet":c("PolarisBloksIGOpenShareSheet"),"ig.action.navigation.OpenUrl":c("PolarisBloksIGOpenURL"),"ig.action.navigation.OpenUrlSupportsDfa":c("PolarisBloksIGOpenURL"),"ig.action.navigation.OpenUserDetail":c("PolarisBloksIGOpenUserDetail"),"ig.action.navigation.OpenVoterInformationCenter":c("PolarisBloksIGOpenVoterInformationCenter"),"ig.action.navigation.PopBottomSheet":c("PolarisBloksPopBottomSheet"),"ig.action.navigation.PresentModal":c("PolarisBloksIGPresentModal"),"ig.action.navigation.PresentModalWithModalObject":c("PolarisBloksIGPresentModalWithModalObject"),"ig.action.navigation.PresentModalWithResult":c("PolarisBloksIGPresentModalWithResult"),"ig.action.navigation.PushBottomSheet":c("PolarisBloksPushBottomSheet"),"ig.action.navigation.ResumeStoryPlayback":c("PolarisBloksIGResumeStoryPlayback"),"ig.action.perf.AnnotateTTIEvent":c("PolarisBloksIGAnnotateTTIEvent"),"ig.action.perf.EndTTIEvent":c("PolarisBloksIGEndTTIEvent"),"ig.action.perf.EndTTIEventV2":c("PolarisBloksIGEndTTIEventV2"),"ig.action.perf.StartTTIEvent":c("PolarisBloksIGStartTTIEvent"),"ig.action.quickpromotion.HandleQuickPromotionActionClick":c("PolarisBloksQPClick"),"ig.action.string.EncryptPassword":c("PolarisBloksIGStringEncryptPassword"),"ig.action.string.Printf":c("PolarisBloksIGPrintf"),"ig.action.viewpoint_extension_context.GetPercentVisible":c("PolarisBloksIGViewpointExtensionContextGetPercentVisible")};g.COMPONENTS=a;g.ACTIONS=b}),98);
__d("PolarisIGBloksStyles",["css-in-js-utils-resolveArrayValue-wwwig","polarisPrefix"],(function(a,b,c,d,e,f,g){"use strict";var h={boxSizing:"border-box",display:"flex",flex:"0 1 auto",flexDirection:"row",pointerEvents:"auto",position:"relative",zIndex:"0"};function i(a,b){return Array.isArray(b)?c("css-in-js-utils-resolveArrayValue-wwwig")(a,b):b}function j(a){var b={};a.background!=null&&(b.background=a.background);a.WebkitBackgroundClip!=null&&(b.WebkitBackgroundClip=a.WebkitBackgroundClip);a.WebkitBoxOrient!=null&&(b.WebkitBoxOrient=a.WebkitBoxOrient);b.display=(a=a.display)!=null?a:h.display;return b}function a(a){var b=c("polarisPrefix")(babelHelpers["extends"]({},h,a)),d=Object.keys(b).reduce(function(a,c){a[c]=i(c,b[c]);return a},{});a=j(a);return{style:babelHelpers["extends"]({},d,a)}}g.getStyleProps=a}),98);
__d("PolarisIGBloksEnvironment",["PolarisBloksEnvironment","PolarisBloksIGAnchor.react","PolarisBloksPrimitives","PolarisIGBloksAppLoader","PolarisIGBloksEventLogger","PolarisIGBloksPrimitives","PolarisIGBloksStyles","PolarisNavigationUtils"],(function(a,b,c,d,e,f,g){"use strict";a=babelHelpers["extends"]({},d("PolarisBloksPrimitives").COMPONENTS,d("PolarisIGBloksPrimitives").COMPONENTS);b=babelHelpers["extends"]({},d("PolarisBloksPrimitives").ACTIONS,d("PolarisIGBloksPrimitives").ACTIONS);e=function(a,b){d("PolarisNavigationUtils").openURLWithFullPageReload(a,{openInNewTab:b==null?void 0:b.openInNewTab,replace:b==null?void 0:b.replace})};f=new(d("PolarisBloksEnvironment").BloksEnvironment)({AnchorComponent:c("PolarisBloksIGAnchor.react"),actions:b,appLoader:d("PolarisIGBloksAppLoader").getAppLoader(),components:a,eventLogger:d("PolarisIGBloksEventLogger").createEventLogger(),getStyleProps:d("PolarisIGBloksStyles").getStyleProps,openUrl:e});c=f;g["default"]=c}),98);
__d("PolarisIGBloksRenderer.react",["CometPlaceholder.react","IGDSDialogBackwardsCompatibilityWrapper.react","JSResource","PolarisBloksRenderer.react","PolarisDirectActionMessageFromProfile","PolarisReactRedux.react","PolarisReportConstants","PolarisToastActions","PolarisToastWrapper.react","lazyLoadComponent","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect;b.useMemo;var k=b.useRef,l=b.useState,m=b.unstable_useMemoCache,n=c("JSResource")("PolarisFRXReportModal.react").__setRef("PolarisIGBloksRenderer.react"),o=c("lazyLoadComponent")(n);function a(a){var b=m(30),e=a.appGetOptions,g=a.initialScreen,h=a.node,p=a.onCloseConsentFlow,q=a.onIGOpenScreen,r=a.onOpenShareSheetClick,s=a.onQPClick;a=a.onResumeStoryPlayback;var t=d("PolarisReactRedux.react").useDispatch(),u=k(!1),v;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(v={onReportSuccess:function(){},reportedUserID:null,showFRXModal:!1},b[0]=v):v=b[0];v=l(v);var w=v[0],x=v[1];b[1]!==w?(v=function(){x(function(a){return babelHelpers["extends"]({},a,{showFRXModal:!1})}),w.onReportSuccess()},b[1]=w,b[2]=v):v=b[2];var y=v;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(v=function(b,c,a){x({onReportSuccess:c,reportedUserID:b,showFRXModal:!0})},b[3]=v):v=b[3];var z;b[4]!==t?(z=function(a,b,c){if(u.current)return;b=function(){u.current=!1};u.current=!0;t(d("PolarisDirectActionMessageFromProfile").messageFromProfile(a)).then(b)["catch"](b)},b[4]=t,b[5]=z):z=b[5];var A;b[6]!==t?(A=function(a,b){return t(d("PolarisToastActions").showToast({text:a,toastType:(a=b)!=null?a:"DEFAULT_TOAST"}))},b[6]=t,b[7]=A):A=b[7];b[8]!==e||b[9]!==p||b[10]!==q||b[11]!==z||b[12]!==r||b[13]!==s||b[14]!==a||b[15]!==A?(v={appGetOptions:e,onCloseConsentFlow:p,onIGOpenScreen:q,onOpenReportUser:v,onOpenSendMessage:z,onOpenShareSheetClick:r,onQPClick:s,onResumeStoryPlayback:a,onToast:A},b[8]=e,b[9]=p,b[10]=q,b[11]=z,b[12]=r,b[13]=s,b[14]=a,b[15]=A,b[16]=v):v=b[16];e=v;p=e;b[17]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){n.preload()},z=[],b[17]=q,b[18]=z):(q=b[17],z=b[18]);j(q,z);b[19]!==g||b[20]!==h||b[21]!==p?(r=i.jsx(d("PolarisBloksRenderer.react").BloksRenderer,{initialScreen:g,node:h,params:p}),b[19]=g,b[20]=h,b[21]=p,b[22]=r):r=b[22];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(s=i.jsx(c("PolarisToastWrapper.react"),{}),b[23]=s):s=b[23];b[24]!==w||b[25]!==y?(a=w.showFRXModal&&i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("IGDSDialogBackwardsCompatibilityWrapper.react"),{children:i.jsx(o,{frxLocation:d("PolarisReportConstants").FRXLocation.PROFILE,frxObjectType:d("PolarisReportConstants").FRXObjectType.USER,onClose:function(){return y()},reportedObjectID:c("nullthrows")(w.reportedUserID),reportedOwner:{id:c("nullthrows")(w.reportedUserID),profilePicURL:null,username:null}})})}),b[24]=w,b[25]=y,b[26]=a):a=b[26];b[27]!==r||b[28]!==a?(A=i.jsxs(i.Fragment,{children:[r,s,a]}),b[27]=r,b[28]=a,b[29]=A):A=b[29];return A}g["default"]=a}),98);
__d("PolarisQPBloksRenderer.react",["cx","PolarisBloksAppContext.react","PolarisBloksContext.react","PolarisBloksDataBinding","PolarisBloksEnvironmentContext.react","PolarisBloksGlobalStore","PolarisBloksLocalStore","PolarisIGBloksEnvironment","PolarisIGBloksRenderer.react","PolarisLogger","PolarisQPConstants","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useEffect;b.useMemo;var l=b.useState,m=b.unstable_useMemoCache;function n(a){var b=m(16),e=a.logging_data,f=a.node,g=a.promotionId,h=a.surfaceId;a=a.triggers;var i=l(!0),n=i[0],o=i[1];i=d("PolarisBloksContext.react").useBloksContext();var p;b[0]!==e||b[1]!==h||b[2]!==g?(p={instance_log_data:e,nux_id:h,promotion_id:g},b[0]=e,b[1]=h,b[2]=g,b[3]=p):p=b[3];e=p;var q=e;b[4]!==q?(h=function(){d("PolarisLogger").logQuickPromotionEvent(d("PolarisQPConstants").LOG_EVENTS.view,q)},g=[q],b[4]=q,b[5]=h,b[6]=g):(h=b[5],g=b[6]);k(h,g);b[7]!==q?(p=function(a,b){(a==="DISMISS"||b.length===0)&&o(!1),d("PolarisLogger").logQuickPromotionEvent(d("PolarisQPConstants").LOG_EVENTS.click,babelHelpers["extends"]({},q,{object_id:a.toLowerCase()}))},b[7]=q,b[8]=p):p=b[8];e=p;if(!n)return null;h=new(d("PolarisBloksDataBinding").BloksDataManifest)(babelHelpers["extends"]({},d("PolarisBloksGlobalStore").globalStoreModule(i),d("PolarisBloksLocalStore").localStoreModule(i),i.environment.dataModules));h.initialize();if(b[9]!==a){g=a!=null&&a.includes(d("PolarisQPConstants").TRIGGERS.instagram_feed_header);p="_a9_9"+(d("PolarisUA").isDesktop()&&g?" _aeky":"");b[9]=a;b[10]=p}else p=b[10];b[11]===Symbol["for"]("react.memo_cache_sentinel")?(n="_a9_b",b[11]=n):n=b[11];b[12]===Symbol["for"]("react.memo_cache_sentinel")?(i={},b[12]=i):i=b[12];b[13]!==f||b[14]!==e?(g=j.jsx(c("PolarisIGBloksRenderer.react"),{node:f,onQPClick:e}),b[13]=f,b[14]=e,b[15]=g):g=b[15];return j.jsx("div",{className:p,children:j.jsx("div",{className:n,children:j.jsx(d("PolarisBloksAppContext.react").BloksAppContextProvider,{context:{layout:i,manifest:h},children:g})})})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=m(6),e=a.logging_data,f=a.node,g=a.promotionId,h=a.surfaceId;a=a.triggers;var i;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==a?(i=j.jsx(d("PolarisBloksEnvironmentContext.react").BloksEnvironmentProvider,{environment:c("PolarisIGBloksEnvironment"),children:j.jsx(n,{logging_data:e,node:f,promotionId:g,surfaceId:h,triggers:a})}),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=a,b[5]=i):i=b[5];return i}e=j.memo(a);g["default"]=e}),98);
__d("PolarisQPContainer.react",["PolarisLogger","PolarisQPConstants","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$4=function(){c.$3(d("PolarisQPConstants").OBJECT_IDS.primary)},c.$5=function(){c.$3(d("PolarisQPConstants").OBJECT_IDS.secondary)},c.$6=function(){c.$3(d("PolarisQPConstants").OBJECT_IDS.dismiss)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$1=function(){var a=this.props,b=a.promotionId;a=a.surfaceId;return{nux_id:c("nullthrows")(a),promotion_id:b}};e.componentDidMount=function(){this.props.component&&this.$2()};e.$3=function(a){var b=this.$1();d("PolarisLogger").logQuickPromotionEvent(d("PolarisQPConstants").LOG_EVENTS.click,babelHelpers["extends"]({object_id:a},b))};e.$2=function(){d("PolarisLogger").logQuickPromotionEvent(d("PolarisQPConstants").LOG_EVENTS.view,this.$1())};e.render=function(){var a=this.props.component,b=this.props,c=b.body,d=b.bulletList,e=b.dismissAction,f=b.image,g=b.imageSize,h=b.parameters,j=b.primaryAction,k=b.refetchPromotions,l=b.secondaryAction;b=b.title;return a!=null&&i.jsx(a,{body:c,bulletList:d,dismissAction:e,image:f,imageSize:g,onDismissButtonClick:this.$6,onPrimaryButtonClick:this.$4,onSecondaryButtonClick:this.$5,parameters:h,primaryAction:j,refetchPromotions:k,secondaryAction:l,title:b})};return b}(i.PureComponent);g["default"]=a}),98);
__d("PolarisQPFetaAccountAutoMigrationDialog.react",["FXFetaAccountAutoMigrationDialog.entrypoint","react","useIGDSEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).unstable_useMemoCache;b=i;var k=h||(h=c("react")),l=b.useEffect,m=b.useRef;function a(){var a=j(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){return k.jsx("div",{})},a[0]=b):b=a[0];b=c("useIGDSEntryPointDialog")(c("FXFetaAccountAutoMigrationDialog.entrypoint"),{},void 0,b);var d=b[0],e=m(!1),f;a[1]!==d?(b=function(){e.current===!1&&(e.current=!0,d({}))},f=[d],a[1]=d,a[2]=b,a[3]=f):(b=a[2],f=a[3]);l(b,f);return null}g["default"]=a}),98);
__d("PolarisQPStandardMegaphone.react",["cx","IGDSBox.react","InstagramODS","PolarisIGCoreButton.react","PolarisQPHelperModule.react","PolarisReactRedux.react","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function l(a){var b=j(13),d=a.action,e=a.isPrimary;a=a.onClick;var f=e?2:3,g=!e,h=!e,i;b[0]!==e||b[1]!==h?(i=(e?"_a9_v":"")+(h?" _a9_w":""),b[0]=e,b[1]=h,b[2]=i):i=b[2];b[3]!==i?(e={__className:i},b[3]=i,b[4]=e):e=b[4];b[5]!==g||b[6]!==e||b[7]!==a||b[8]!==d.title.text?(h=k.jsx(c("PolarisIGCoreButton.react"),{borderless:g,dangerouslySetClassName:e,fullWidth:!0,onClick:a,children:d.title.text}),b[5]=g,b[6]=e,b[7]=a,b[8]=d.title.text,b[9]=h):h=b[9];b[10]!==f||b[11]!==h?(i=k.jsx(c("IGDSBox.react"),{marginTop:f,position:"relative",children:h}),b[10]=f,b[11]=h,b[12]=i):i=b[12];return i}b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hideMegaphone:!1},c.$1=function(a,b,d){b===void 0&&(b=!0),b&&c.setState({hideMegaphone:!0}),a&&a(d)},c.$2=function(a){a.preventDefault(),c.$1(c.props.onDismissButtonClick,!0,a)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){c("InstagramODS").incr("web.notifications.react_qp_render")};e.render=function(){if(this.props.showCookieModal===!0||this.state.hideMegaphone)return null;var a=this.props,b=a.body,e=a.dismissAction,f=a.image,g=a.title;a=a.type;return k.jsx(c("IGDSBox.react"),{marginBottom:d("PolarisUA").isMobile()?0:8,position:"relative",children:k.jsx("section",{className:"_a9_x"+(a==="loggedOut"?" _a9_y":"")+(a==="loggedInHalfSheet"?" _a9_z":""),children:k.jsxs("div",{className:"_a9_-",children:[k.jsx(d("PolarisQPHelperModule.react").QPDismiss,{className:"_a9__",dismissAction:e,onClick:this.$2}),k.jsxs("div",{className:"_aa00",children:[k.jsx(d("PolarisQPHelperModule.react").QPImage,{className:"_aa01",image:f,size:this.props.imageSize}),k.jsxs("span",{className:"_aa02",children:[k.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_aa03",text:g}),k.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_aa04",text:b})]}),k.jsxs("span",{className:"_aa05",children:[k.jsx(d("PolarisQPHelperModule.react").QPButton,{Button:l,callback:this.$1,onPrimaryButtonClick:this.props.onPrimaryButtonClick,primaryAction:this.props.primaryAction,type:"primary"}),k.jsx(d("PolarisQPHelperModule.react").QPButton,{Button:l,callback:this.$1,onSecondaryButtonClick:this.props.onSecondaryButtonClick,secondaryAction:this.props.secondaryAction,type:"secondary"})]})]})]})})})};return b}(k.Component);b.defaultProps={type:"default"};function a(a){return{showCookieModal:a.cookieModal.visible}}e=d("PolarisReactRedux.react").connect(a)(b);g._QPStandardMegaphone=b;g.QPStandardMegaphone=e}),98);
__d("PolarisQPFooterBanner.react",["PolarisQPStandardMegaphone.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(11),c=a.body,e=a.dismissAction,f=a.image,g=a.imageSize,h=a.onDismissButtonClick,k=a.onPrimaryButtonClick,l=a.onSecondaryButtonClick,m=a.primaryAction,n=a.secondaryAction;a=a.title;var o;b[0]!==c||b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==h||b[5]!==k||b[6]!==l||b[7]!==m||b[8]!==n||b[9]!==a?(o=j.jsx(d("PolarisQPStandardMegaphone.react").QPStandardMegaphone,{body:c,dismissAction:e,image:f,imageSize:g,onDismissButtonClick:h,onPrimaryButtonClick:k,onSecondaryButtonClick:l,primaryAction:m,secondaryAction:n,title:a,type:"loggedOut"}),b[0]=c,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=k,b[6]=l,b[7]=m,b[8]=n,b[9]=a,b[10]=o):o=b[10];return o}g["default"]=a}),98);
__d("PolarisQPFullscreenBulletListInterstitial.react",["cx","fbt","IGDSAdPanoOutline24Icon.react","IGDSIconButton.react","IGDSLicensingPanoOutline24Icon.react","IGDSMetaLogoPrimaryIcon.react","IGDSPaymentsPanoOutline24Icon.react","IGDSShieldPanoOutlineIcon.react","IGDSUserCirclePanoOutlineIcon.react","IGDSUsersPanoOutline24Icon.react","IGDSXPanoOutlineIcon.react","PolarisFXAccountCenterStrings","PolarisFastLink.react","PolarisGenericStrings","PolarisQPHelperModule.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hideInterstitial:!1},c.$2=function(a){a.preventDefault(),c.$1(c.props.onDismissButtonClick,!0,a)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$1=function(a,b,c){b===void 0&&(b=!0),b&&(this.setState({hideInterstitial:!0}),this.props.refetchPromotions!=null&&this.props.refetchPromotions()),a&&a(c)};e.render=function(){var a;if(this.state.hideInterstitial)return null;var b=this.props.bulletList,e=[k.jsx(c("IGDSUserCirclePanoOutlineIcon.react"),{alt:i._("__JHASH__y2HYsl1GNm7__JHASH__"),color:"ig-primary-text",size:24},"user-circle-pano"),k.jsx(c("IGDSUsersPanoOutline24Icon.react"),{alt:i._("__JHASH__5GiTGGdhiYp__JHASH__"),color:"ig-primary-text",size:24},"users-pano"),k.jsx(c("IGDSShieldPanoOutlineIcon.react"),{alt:i._("__JHASH__Qw9kmMLG_Gv__JHASH__"),color:"ig-primary-text",size:24},"shield-pano"),k.jsx(c("IGDSLicensingPanoOutline24Icon.react"),{alt:i._("__JHASH__d33W1S_cGn-__JHASH__"),color:"ig-primary-text",size:24},"licensing-pano"),k.jsx(c("IGDSAdPanoOutline24Icon.react"),{alt:i._("__JHASH__Pj6SzNnXKmq__JHASH__"),color:"ig-primary-text",size:24},"ad-pano"),k.jsx(c("IGDSPaymentsPanoOutline24Icon.react"),{alt:i._("__JHASH__JQIo63LcK61__JHASH__"),color:"ig-primary-text",size:24},"payments-pano")];return k.jsx("div",{className:"_a9-g",children:k.jsxs("div",{className:"_a9-h",children:[k.jsx("div",{className:"_a9-i",children:k.jsx(c("IGDSIconButton.react"),{onClick:this.$2,padding:0,children:k.jsx(c("IGDSXPanoOutlineIcon.react"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"ig-primary-text",size:16})})}),k.jsx("div",{className:"_a9-j",children:k.jsx(c("IGDSMetaLogoPrimaryIcon.react"),{alt:d("PolarisFXAccountCenterStrings").WATERMARK_FAMILY_APPS_LOGO_ALT,color:"ig-primary-text",size:60})}),k.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_a9-k",text:this.props.title}),k.jsx("div",{className:"_a9-l",children:k.jsxs("p",{className:"_a9-m",children:[(a=this.props.body)==null?void 0:a.text," ",k.jsx(c("PolarisFastLink.react"),{className:"_a9-n",href:(a=this.props.secondaryAction)==null?void 0:a.url,target:"_blank",children:(a=this.props.secondaryAction)==null?void 0:a.title.text})]})}),b!=null?k.jsx("ul",{children:b.map(function(a,b){return k.jsxs("li",{className:"_a9-o",children:[e[b],k.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_a9-p",text:{text:a.title}})]},a.title)})}):null]})})};return b}(k.Component);g["default"]=a}),226);
__d("PolarisQPFullscreenInterstitial.react",["cx","IGDSBox.react","IGDSIconButton.react","IGDSXPanoOutlineIcon.react","PolarisGenericStrings","PolarisIGCoreButton.react","PolarisQPHelperModule.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));a=i;a.useCallback;var k=a.unstable_useMemoCache;function l(a){var b=k(6),d=a.action,e=a.isPrimary,f=a.onClick;b[0]!==f?(a=function(a){f(),a.preventDefault()},b[0]=f,b[1]=a):a=b[1];a=a;e=!e;var g;b[2]!==e||b[3]!==a||b[4]!==d.title.text?(g=j.jsx(c("PolarisIGCoreButton.react"),{borderless:e,fullWidth:!0,onClick:a,children:d.title.text}),b[2]=e,b[3]=a,b[4]=d.title.text,b[5]=g):g=b[5];return g}b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hideInterstitial:!1},c.$1=function(a,b,d){b===void 0&&(b=!0),b&&c.setState({hideInterstitial:!0}),a&&a(d)},c.$2=function(a){a.preventDefault(),c.$1(c.props.onDismissButtonClick,!0,a)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){return this.state.hideInterstitial?null:j.jsx("div",{className:"_a9_4",children:j.jsxs("div",{className:"_a9_5",children:[j.jsx("div",{className:"_aqt-",children:j.jsx(c("IGDSIconButton.react"),{onClick:this.$2,padding:0,children:j.jsx(c("IGDSXPanoOutlineIcon.react"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"ig-primary-text",size:16})})}),j.jsx(d("PolarisQPHelperModule.react").QPImage,{className:"_a9_6",image:this.props.image,size:this.props.imageSize}),j.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_a9_7",text:this.props.title}),j.jsx(d("PolarisQPHelperModule.react").QPText,{className:"_a9_8",text:this.props.body}),j.jsx(d("PolarisQPHelperModule.react").QPButton,{Button:l,callback:this.$1,onPrimaryButtonClick:this.props.onPrimaryButtonClick,primaryAction:this.props.primaryAction,type:"primary"}),j.jsx(c("IGDSBox.react"),{margin:2,position:"relative",children:j.jsx(d("PolarisQPHelperModule.react").QPButton,{Button:l,callback:this.$1,onSecondaryButtonClick:this.props.onSecondaryButtonClick,secondaryAction:this.props.secondaryAction,type:"secondary"})})]})})};return b}(j.Component);g["default"]=b}),98);
__d("PolarisQPManager.react",["cr:3656"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:3656")}),98);
__d("PolarisQPStandardDialog.react",["IGCoreDialog.react","IGRouter_DO_NOT_USE.react","PolarisIGCoreDialogCircleMedia","PolarisQPHelperModule.react","browserHistory_DO_NOT_USE","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hideDialog:!1},c.$3=function(a){c.props.primaryAction&&(c.$2(c.props.primaryAction),c.props.onPrimaryButtonClick&&c.props.onPrimaryButtonClick(a))},c.$4=function(a){c.props.secondaryAction&&(c.$2(c.props.secondaryAction),c.props.onSecondaryButtonClick&&c.props.onSecondaryButtonClick(a))},c.$5=function(){c.props.dismissAction&&(c.$1(),c.props.onDismissButtonClick&&c.props.onDismissButtonClick())},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$1=function(){this.setState({hideDialog:!0})};e.$2=function(a){a.dismiss_promotion&&this.$1();if(a.url){var b=d("PolarisQPHelperModule.react").getQPDeepLinkUrl(a.url);!c("isStringNullOrEmpty")(b)?this.props.history.push(b):d("browserHistory_DO_NOT_USE").redirect(a.url)}};e.render=function(){if(this.state.hideDialog)return null;var a=this.props,b=a.body,e=a.image,f=a.imageSize,g=a.primaryAction,h=a.secondaryAction;a=a.title;e=i.jsx(c("PolarisIGCoreDialogCircleMedia"),{icon:i.jsx(d("PolarisQPHelperModule.react").QPImage,{image:e,size:f})});return i.jsxs(d("IGCoreDialog.react").IGCoreDialog,{body:b==null?void 0:b.text,media:e,onModalClose:this.$5,title:a==null?void 0:a.text,children:[g&&i.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-primary-button",onClick:this.$3,children:(f=g.title)==null?void 0:f.text}),h&&i.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:this.$4,children:(b=h.title)==null?void 0:b.text})]})};return b}(i.Component);b=d("IGRouter_DO_NOT_USE.react").withIGRouter(a);g["default"]=b}),98);
__d("PolarisQPTooltipComponent.react",["IGDSBox.react","IGDSText.react","PolarisDisappearingTooltip.react","PolarisIGCoreConstants","PolarisNavigationHelpers","PolarisNavigationLayoutContext","PolarisQPActions","PolarisQPConstants","PolarisQPHelpers","PolarisReactRedux.react","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.unstable_useMemoCache,l=300;function a(a){var b=k(17),e=a.parameters;a=a.title;var f=d("PolarisReactRedux.react").useDispatch(),g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){return a.qp.qpDismissed},b[0]=g):g=b[0];g=d("PolarisReactRedux.react").useSelector(g);a=a==null?void 0:a.text;var h=d("PolarisQPHelpers").getQPParameter(e,d("PolarisQPConstants").QP_TOOLTIP_PARAMETERS.tooltip_duration),m;b[1]!==e?(m=d("PolarisQPHelpers").getQPArrowPositionParameter(e,d("PolarisQPConstants").QP_TOOLTIP_PARAMETERS.tooltip_arrow_position),b[1]=e,b[2]=m):m=b[2];m=m;e=(e=d("PolarisQPHelpers").getQPParameter(e,d("PolarisQPConstants").QP_TOOLTIP_PARAMETERS.max_width))!=null?e:l;h=Number(h)*1e3;h=h||c("PolarisIGCoreConstants").TOOLTIP.AUTO_HIDE_MS;var n;b[3]!==f?(n=function(){return f(d("PolarisQPActions").dismissQP())},b[3]=f,b[4]=n):n=b[4];n=n;var o=j(c("PolarisNavigationLayoutContext"));o=o.navigationPosition;var p=d("PolarisUA").isDesktop();e=d("PolarisUA").isDesktop()?"min("+e+"px, min(80vw, "+(p?d("PolarisNavigationHelpers").TOOLTIP_MAX_WIDTH:l)+"px))":"80vw";b[5]!==a?(p=i.jsx(c("IGDSText.react"),{breakWord:!0,color:"primaryText",textAlign:"center",weight:"semibold",zeroMargin:!0,children:a}),b[5]=a,b[6]=p):p=b[6];var q;b[7]!==e||b[8]!==p?(q=i.jsx(c("IGDSBox.react"),{maxWidth:e,position:"relative",children:p}),b[7]=e,b[8]=p,b[9]=q):q=b[9];e=q;q=(p=m)!=null?p:o;b[10]!==a||b[11]!==g||b[12]!==q||b[13]!==e||b[14]!==h||b[15]!==n?(m=a!=null&&g!==!0?i.jsx(c("PolarisDisappearingTooltip.react"),{autoHideAfter:h,color:"primary",disableTooltipHideOnDismount:!0,onTooltipHide:n,position:q==="bottom"?"above":q==="top"?"below":"start",tooltip:i.jsx("div",{className:"x1kuktng",children:i.jsx(c("IGDSText.react"),{color:"primaryText",size:"body",textAlign:"start",zeroMargin:!0,children:e})}),children:i.jsx("div",{})}):null,b[10]=a,b[11]=g,b[12]=q,b[13]=e,b[14]=h,b[15]=n,b[16]=m):m=b[16];return m}g["default"]=a}),98);
__d("PolarisQPManager_LEGACY.react",["cx","PolarisLogger","PolarisQPActions","PolarisQPBloksRenderer.react","PolarisQPConstants","PolarisQPContainer.react","PolarisQPFetaAccountAutoMigrationDialog.react","PolarisQPFooterBanner.react","PolarisQPFullscreenBulletListInterstitial.react","PolarisQPFullscreenInterstitial.react","PolarisQPStandardDialog.react","PolarisQPStandardMegaphone.react","PolarisQPTooltipComponent.react","PolarisReactRedux.react","polarisQPSelectors","polarisUnexpected","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");e=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.componentDidMount=function(){var a=this.props,b=a.promotion;a=a.slot;b||this.props.onLoadQPs(d("PolarisQPConstants").SLOT_TO_SURFACES[a])};e.$1=function(a){var b=d("PolarisQPConstants").TEMPLATES;switch(a.name){case b.standard_megaphone_ig:case b.standard_megaphone:return d("PolarisQPStandardMegaphone.react").QPStandardMegaphone;case b.iig_dialog:return c("PolarisQPStandardDialog.react");case b.iig_fullscreen_bullet_list:return c("PolarisQPFullscreenBulletListInterstitial.react");case b.iig_celebration_fullscreen:case b.iig_fullscreen:case b.iig_fullscreen_rectangular_image:return c("PolarisQPFullscreenInterstitial.react");case b.instagram_direct_launcher:c("polarisUnexpected")("IG Web does not currently support the instagram_direct_launcher template");return null;case b.instagram_footer_banner:return c("PolarisQPFooterBanner.react");case b.instagram_tool_tip:return c("PolarisQPTooltipComponent.react");case b.feta_account_auto_migration_dialog:return c("PolarisQPFetaAccountAutoMigrationDialog.react");default:c("polarisUnexpected")("Attempted to render unsupported QP template type: "+a.name);return null}};e.render=function(){var a=this,b=this.props,e=b.promotion;b=b.WrapperComponent;b=b===void 0?j.Fragment:b;if(!e)return null;var f=e.creatives,g=e.id,h=e.logging_data,i=e.surface_id,k=e.template;e=e.triggers;f=f[0];var l=f.bloks_payload,m=f.bullet_list,n=f.content,o=f.dismiss_action,p=f.image,q=f.primary_action,r=f.secondary_action;f=f.title;if(l){l=l.layout.bloks_payload?l.layout.bloks_payload.tree:l.layout;d("PolarisLogger").logAction("bloksRenderQP",{target_id:g});h=j.jsx(c("PolarisQPBloksRenderer.react"),{logging_data:h,node:l,promotionId:g,surfaceId:i,triggers:e});return k.name==="fixed_banner_ig"?j.jsx(b,{children:j.jsx("div",{className:"_a9-q",children:h})}):j.jsx(b,{children:h})}return j.jsx(b,{children:j.jsx(c("PolarisQPContainer.react"),{body:n,bulletList:m,component:this.$1(k),dismissAction:o,image:p,imageSize:d("PolarisQPConstants").IMAGE_SIZES[k.name],parameters:k.parameters,primaryAction:q,promotionId:g,refetchPromotions:this.props.slot===d("PolarisQPConstants").SLOTS.settings?function(){return a.props.onLoadQPs(d("PolarisQPConstants").SLOT_TO_SURFACES[a.props.slot])}:null,secondaryAction:r,surfaceId:i,title:f})})};return b}(j.PureComponent);function a(a,b){return{promotion:d("polarisQPSelectors").getValidPromotion(a,b)}}function b(a){return{onLoadQPs:function(b){a(d("PolarisQPActions").fetchBatchQuickPromotionAction(b))}}}f=d("PolarisReactRedux.react").connect(a,b)(e);g["default"]=f}),98);/*FB_PKG_DELIM*/
__d("IGDSCircleAddPanoOutlineIcon.react",["IGDSSVGIconBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(5),d,e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=j.jsx("circle",{cx:"12.001",cy:"12.005",fill:"none",r:"10.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),e=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"7.001",x2:"17.001",y1:"12.005",y2:"12.005"}),f=j.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"12.001",x2:"12.001",y1:"7.005",y2:"17.005"}),b[0]=d,b[1]=e,b[2]=f):(d=b[0],e=b[1],f=b[2]);b[3]!==a?(d=j.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[d,e,f]})),b[3]=a,b[4]=d):d=b[4];return d}b=j.memo(a);g["default"]=b}),98);
__d("PolarisPostActionRemovePostFromCollection",["InstagramODS","PolarisAPIEditCollection"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.collectionId,e=a.postId;return function(a){a({collectionId:b,postId:e,type:"REMOVE_POST_FROM_COLLECTION_REQUESTED"});c("InstagramODS").incr("web.unsaveFromCollection.attempt");return d("PolarisAPIEditCollection").editCollection({collectionId:b,postIdsToRemove:[e]}).then(function(){a({collectionId:b,postId:e,type:"REMOVE_POST_FROM_COLLECTION_SUCCEEDED"}),c("InstagramODS").incr("web.unsaveFromCollection.success")})["catch"](function(){a({collectionId:b,postId:e,type:"REMOVE_POST_FROM_COLLECTION_FAILED"}),c("InstagramODS").incr("web.unsaveFromCollection.failure")})}}g.removePostFromCollection=a}),98);
__d("usePolarisMediaSaveToCollectionReduxHandler",["PolarisPostActionAddPostToCollection","PolarisPostActionRemovePostFromCollection","PolarisReactRedux.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.unstable_useMemoCache;function a(a){var b=i(3),c=d("PolarisReactRedux.react").useDispatch(),e;b[0]!==c||b[1]!==a?(e=function(b,e){b?c(d("PolarisPostActionRemovePostFromCollection").removePostFromCollection({collectionId:e,postId:a})):c(d("PolarisPostActionAddPostToCollection").addPostToCollection({collectionId:e,postIds:[a]}))},b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("PolarisSponsoredPostCTAFooter.react",["InstagramODS","PolarisClickEventLoggerProvider.react","PolarisPostFooterCTA.react","PolarisPostUtils","PolarisTrackingNodeProvider.react","polarisAdsSelectors.react","react","usePolarisSponsoredPostCTAFooterDominantColor"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(9),e=a.isMediaRendered,f=a.post;a=a.sidecarIndex;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){return a},b[0]=g):g=b[0];g=d("polarisAdsSelectors.react").useFeedAdInfo(f.id,g);var h=f.isSidecar;a=h===!0?(h=d("PolarisPostUtils").getCurrentSidecarItemFromPost(f,a))==null?void 0:h.id:f.id;h=c("usePolarisSponsoredPostCTAFooterDominantColor")({isMediaRendered:e,mediaId:a,post:f});e=h.ctaDominantColor;f=h.ctaFooterViewpointRef;if(a==null)return null;h=g==null?void 0:(h=g.ctaItems)==null?void 0:(h=h.get(a))==null?void 0:h.ctaLinkUrl;a=g==null?void 0:(g=g.ctaItems)==null?void 0:(g=g.get(a))==null?void 0:g.ctaLinkText;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){c("InstagramODS").incr("web.ads.feed.link_click")},b[1]=g):g=b[1];g=g;if(h!=null&&a!=null){b[2]!==e||b[3]!==h||b[4]!==a?(g=j.jsx(c("PolarisPostFooterCTA.react"),{ctaDominantColor:e,"data-testid":void 0,disableAnimation:!1,externalURL:h,forceBottomBorder:!0,isActive:!0,isForAd:!0,onClick:g,showChevron:!0,text:a}),b[2]=e,b[3]=h,b[4]=a,b[5]=g):g=b[5];b[6]!==f||b[7]!==g?(e=j.jsx(c("PolarisClickEventLoggerProvider.react"),{children:j.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:86,children:j.jsx("div",{ref:f,children:g})})}),b[6]=f,b[7]=g,b[8]=e):e=b[8];return e}return null}g["default"]=a}),98);
__d("polarisCommentSelectors.react",["PolarisPaginationUtils","PolarisReactRedux.react","nullthrows","polarisCreateSelectorWithArg","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache;e=c("polarisCreateSelectorWithArg")(function(a){return a.comments.byId},function(a){return a.comments.byPostId},function(a,b){return function(e){e=b.get(e);if(e==null)return null;var f=e.commentIds;return f.toSeq().map(function(b){return c("nullthrows")(a.get(b))}).slice(f.count()-d("PolarisPaginationUtils").getVisibleCount(e.pagination),f.count()).filter(function(a){return!a.deleted&&!a.didReportAsSpam})}});f=c("polarisCreateSelectorWithArg")(function(a){return a.posts.byId},function(a){return a.comments.byId},function(a,b){return function(d){d=c("nullthrows")(a.get(d));d=d.previewCommentIds;return d==null?[]:d.map(function(a){return b.get(a)}).filter(Boolean)}});function a(a,b){return c("nullthrows")(a.comments.byId.get(b))}function b(a){var b=i(2),c;b[0]!==a?(c=function(b){return a==null?null:b.comments.translationById.get(a)},b[0]=a,b[1]=c):c=b[1];return d("PolarisReactRedux.react").useSelector(c)}g.selectVisibleCommentsForPostId=e;g.getPreviewCommentsForPostId=f;g.getCommentById=a;g.useCommentTranslation=b}),98);
__d("PolarisAPILikePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/likes/{media_id}/like/",{path:{media_id:a}})}g.likePost=a}),98);
__d("PolarisPostActionLikePost",["PolarisAPILikePost","PolarisAdsEngagementLogger","PolarisEngagementLogger","PolarisGenericStrings","PolarisLogger","PolarisSentryFeedbackActions","PolarisToastActions","QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e){return function(f){d("PolarisLogger").logAction("likeAttempt",b);c("QPLUserFlow").start(c("qpl")._(379204822,"720"),{annotations:{string:{source:b==null?void 0:b.source}}});f({postId:a,type:"LIKE_POST_REQUESTED"});return d("PolarisAPILikePost").likePost(a).then(function(){e!=null?d("PolarisAdsEngagementLogger").logAdLike(b,e):d("PolarisEngagementLogger").logOrganicLike(b),c("QPLUserFlow").endSuccess(c("qpl")._(379204822,"720")),f({postId:a,type:"LIKE_POST_SUCCEEDED"})},function(e){var g;d("PolarisLogger").logAction("likeFailure",b);c("QPLUserFlow").endFailure(c("qpl")._(379204822,"720"),"request_failed");g=((g=e.responseObject)==null?void 0:g.spam)||!1;if(g){var i,j,k,l;g=(g=e.responseObject)==null?void 0:g.feedback_title;i=(i=e.responseObject)==null?void 0:i.feedback_message;j=(j=e.responseObject)==null?void 0:j.feedback_url;k=(k=e.responseObject)==null?void 0:k.feedback_action;l=(l=e.responseObject)==null?void 0:l.feedback_appeal_label;e=(e=e.responseObject)==null?void 0:e.restriction_enrollment_data;f(d("PolarisSentryFeedbackActions").showSentryFeedback({action:k,feedback_appeal_label:l,message:i,restriction_enrollment_data:e,source:b.source,sourceOfAction:"like_post",title:g,url:j}))}f({postId:a,type:"LIKE_POST_FAILED"});f(d("PolarisToastActions").showToast({actionHandler:function(){return f(h(a,b))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE}))})}}g.likePost=h}),98);
__d("PolarisAPISavePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/save/{media_id}/save/",{path:{media_id:a}})}g.savePost=a}),98);
__d("PolarisPostActionSavePost",["PolarisAPISavePost","PolarisAdsEngagementLogger","PolarisLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return function(e){d("PolarisLogger").logAction("saveAttempt",b);e({postId:a,type:"SAVE_POST_REQUESTED"});return d("PolarisAPISavePost").savePost(a).then(function(){d("PolarisLogger").logAction("saveSuccess",b),e({postId:a,type:"SAVE_POST_SUCCEEDED"}),c!=null&&d("PolarisAdsEngagementLogger").logAdSave(c)},function(){d("PolarisLogger").logAction("saveFailure",b),e({postId:a,type:"SAVE_POST_FAILED"})})}}g.savePost=a}),98);
__d("PolarisAPIUnlikePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/likes/{media_id}/unlike/",{path:{media_id:a}})}g.unlikePost=a}),98);
__d("PolarisPostActionUnlikePost",["PolarisAPIUnlikePost","PolarisAdsEngagementLogger","PolarisEngagementLogger","PolarisGenericStrings","PolarisLogger","PolarisSentryFeedbackActions","PolarisToastActions","QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e){return function(f){d("PolarisLogger").logAction("unlikeAttempt",b);c("QPLUserFlow").start(c("qpl")._(379198902,"749"),{annotations:{string:{source:b==null?void 0:b.source}}});f({postId:a,type:"UNLIKE_POST_REQUESTED"});return d("PolarisAPIUnlikePost").unlikePost(a).then(function(){e!=null?d("PolarisAdsEngagementLogger").logAdUnlike(b,e):d("PolarisEngagementLogger").logOrganicUnlike(b),c("QPLUserFlow").endSuccess(c("qpl")._(379198902,"749")),f({postId:a,type:"UNLIKE_POST_SUCCEEDED"})},function(e){var g;g=((g=e.responseObject)==null?void 0:g.spam)||!1;if(g){var i,j,k,l;g=(g=e.responseObject)==null?void 0:g.feedback_title;i=(i=e.responseObject)==null?void 0:i.feedback_message;j=(j=e.responseObject)==null?void 0:j.feedback_url;k=(k=e.responseObject)==null?void 0:k.feedback_action;l=(l=e.responseObject)==null?void 0:l.feedback_appeal_label;e=(e=e.responseObject)==null?void 0:e.restriction_enrollment_data;f(d("PolarisSentryFeedbackActions").showSentryFeedback({action:k,feedback_appeal_label:l,message:i,restriction_enrollment_data:e,source:b.source,sourceOfAction:"unlike_post",title:g,url:j}))}d("PolarisLogger").logAction("unlikeFailure",b);c("QPLUserFlow").endFailure(c("qpl")._(379198902,"749"),"request_failed");f({postId:a,type:"UNLIKE_POST_FAILED"});f(d("PolarisToastActions").showToast({actionHandler:function(){return f(h(a,b))},actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").GENERIC_ERROR_MESSAGE}))})}}g.unlikePost=h}),98);
__d("PolarisAPIUnsavePost",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/save/{media_id}/unsave/",{path:{media_id:a}})}g.unsavePost=a}),98);
__d("PolarisPostActionUnsavePost",["PolarisAPIUnsavePost","PolarisAdsEngagementLogger","PolarisLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return function(e){d("PolarisLogger").logAction("unsaveAttempt",b);e({postId:a,type:"UNSAVE_POST_REQUESTED"});return d("PolarisAPIUnsavePost").unsavePost(a).then(function(){d("PolarisLogger").logAction("unsaveSuccess",b),e({postId:a,type:"UNSAVE_POST_SUCCEEDED"}),c!=null&&d("PolarisAdsEngagementLogger").logAdUnsave(c)},function(){d("PolarisLogger").logAction("unsaveFailure",b),e({postId:a,type:"UNSAVE_POST_FAILED"})})}}g.unsavePost=a}),98);
__d("PolarisPostRemoveCommentsSelectors",["reselect"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.postRemoveComments}b=d("reselect").createSelector(a,function(a){a=a.isVisible;return a});g.getPostRemoveCommentsIsVisible=b}),98);
__d("PolarisThreadedCommentSelectors",["PolarisPaginationUtils","immutable-4.0.0-rc.9","nullthrows","polarisCreateSelectorWithArg"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return!a.deleted&&!a.didReportAsSpam}b=c("polarisCreateSelectorWithArg")(function(a){return a.posts.byId},function(a){return a.comments.byId},function(a){return a.threadedComments.parentByPostId},function(a,b,e){return function(f){var g=e[f];f=a.get(f);if(!g||!f)return d("immutable-4.0.0-rc.9").List();var i=g.commentIds;g=d("PolarisPaginationUtils").getVisibleCount(g.pagination);f=f.hasRankedComments===!0?0:i.count()-g;return i.map(function(a){return c("nullthrows")(b.get(a))}).slice(f,f+g).filter(function(a){return h(a)})}});e=c("polarisCreateSelectorWithArg")(function(a){return a.comments.byId},function(a){return a.threadedComments.childByParentId},function(a,b){return function(e){e=c("nullthrows")(b[e]);var f=e.commentIds;e=e.pagination;f=f.map(function(b){return c("nullthrows")(a.get(b))});e=f.count()-d("PolarisPaginationUtils").getVisibleCount(e);var g=f.slice(e,f.count()).filter(function(a){return h(a)});f=f.slice(0,e).filter(function(a){return h(a)});e=f.map(function(a){return a.id});return{remainingCachedShowableChildCommentIds:e,visibleChildComments:g}}});f=c("polarisCreateSelectorWithArg")(function(a){return a.comments.byId},function(a){return a.threadedComments.childByParentId},function(a,b){return function(a){a=c("nullthrows")(b[a]);return a.count||0}});function a(a,b){return!!a.threadedComments.initialCommentsLoading[b]}g.selectVisibleParentCommentsForPostId=b;g.selectChildCommentsForParentIdSplitByVisibility=e;g.getTotalChildCommentCountForParentId=f;g.getThreadedCommentsLoading=a}),98);
__d("PolarisPostModalRenderingContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext({isInModal:!1});function a(){return i(j)}g.PolarisPostModalRenderingContext=j;g.usePolarisPostModalRenderingContext=a}),98);
__d("PolarisPostFeatures.react",["FBLogger","PolarisPostConstants","PolarisPostModalRenderingContext.react","PolarisPostVariants","PolarisReactRedux.react","PolarisRelationshipTypes","PolarisUA","polarisRelationshipSelectors.react","react","usePolarisDisplayProperties","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache,j=[{overrides:{threeLineHeaderEnabled:!0},predicate:"isThreeLineHeaderEnabled"},{overrides:{avatarSize:d("PolarisPostConstants").AVATAR_SIZE_SMALL,commentsAreStacked:!0},predicate:"isFeed"},{overrides:{avatarSize:d("PolarisPostConstants").AVATAR_SIZE_SMALL,commentsAreStacked:!0},predicate:"isWidePhotoOnMediumScreen"},{overrides:{avatarSize:d("PolarisPostConstants").AVATAR_SIZE_SMALL,hasThreadedSidebarComments:!0,showPostButton:!0},predicate:"isRichCommentsEnabled"},{overrides:{avatarSize:d("PolarisPostConstants").AVATAR_SIZE_SMALL,commentsAreStacked:!0,hasThreadedSidebarComments:!1,showPostButton:!0},predicate:"isStackedScreenSize"},{overrides:{hasPhotosOfYouOption:!0},predicate:"isViewerInUserTags"},{overrides:{showFollowButton:!1},predicate:"isFeedAndOwnerFollowedByViewer"},{overrides:{showFollowButton:!1},predicate:"isModalAndOwnerFollowedByViewer"},{overrides:{canViewerProvideFeedback:!1},predicate:"isOwnerPrivate"},{overrides:{canViewerProvideFeedback:!0},predicate:"isOwnerFollowedByViewer"},{overrides:{canViewerProvideFeedback:!0,showFollowButton:!1},predicate:"isOwnerTheViewer"},{overrides:{showFollowButton:!1},predicate:"isOwnerUnpublished"},{overrides:{showFollowButton:!1},predicate:"isBlocked"},{overrides:{showFollowButton:!1},predicate:"hasFollowHashtagInfo"},{overrides:{canViewerProvideFeedback:!1},predicate:"isLoggedOut"}],k={avatarSize:d("PolarisPostConstants").AVATAR_SIZE_LARGE,canViewerProvideFeedback:!0,commentsAreStacked:!1,hasPhotosOfYouOption:!1,hasThreadedSidebarComments:!1,showFollowButton:!0,showPostButton:!1,threeLineHeaderEnabled:!1};function l(a){var b=a.isInModal,c=a.owner,e=a.post,f=a.relationship,g=a.variant,h=a.viewer;a=a.viewportWidth;g=g===d("PolarisPostVariants").VARIANTS.feed;var i=Boolean(h),j=!h,k=(h==null?void 0:h.id)===c.id,l=f.followedByViewer.state===d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING,m=Boolean(e.followHashtagInfo),n=Boolean(e.location)&&(e.sponsors||[]).length>0;return{hasFollowHashtagInfo:m,isBlocked:f.hasBlockedViewer.state===d("PolarisRelationshipTypes").BLOCK_STATUS_BLOCKED,isFavorited:((m=f.favoritedByViewer)==null?void 0:m.state)===d("PolarisRelationshipTypes").FAVORITE_STATUS_FAVORITED,isFeed:g,isFeedAndOwnerFollowedByViewer:g&&l,isLoggedIn:i,isLoggedOut:j,isModalAndOwnerFollowedByViewer:b&&l,isOwnerFollowedByViewer:l,isOwnerPrivate:Boolean(c.isPrivate),isOwnerTheViewer:k,isOwnerUnpublished:Boolean(c.isUnpublished),isRichCommentsEnabled:!0,isSidecar:(e.sidecarChildren||[]).length>0,isStackedScreenSize:a<d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF,isThreeLineHeaderEnabled:n,isViewerInUserTags:i&&(e.usertags||[]).some(function(a){return a.user.id===(h==null?void 0:h.id)}),isWidePhotoOnMediumScreen:Boolean(e.dimensions&&e.dimensions.width/e.dimensions.height>1.5&&a>d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF&&a<=d("PolarisPostConstants").MEDIUM_SCREEN_MAX)}}function m(a){var b=l(a);a=b.isBlocked;var d=b.isFavorited,e=b.isLoggedIn,f=b.isSidecar,g=b.isStackedScreenSize;return babelHelpers["extends"]({isBlocked:a,isFavorited:d,isLoggedIn:e,isSidecar:f,isStackedScreenSize:g},j.filter(function(a){a=a.predicate;var d=b[a];if(typeof d!=="boolean")throw c("FBLogger")("instagram_web").mustfixThrow("Could not find predicate %s",a);return d}).reduce(function(a,b){b=b.overrides;return babelHelpers["extends"]({},a,b)},k))}function a(a){var b=i(2),e=a.owner,f=a.path,g=a.post;a=a.variant;var h;b[0]!==e.id?(h=function(a){return d("polarisRelationshipSelectors.react").getRelationship(a.relationships,e.id)},b[0]=e.id,b[1]=h):h=b[1];b=d("PolarisReactRedux.react").useSelector(h);h=c("usePolarisViewer")();var j=c("usePolarisDisplayProperties")(),k=j.viewportHeight;j=j.viewportWidth;var l=d("PolarisPostModalRenderingContext.react").usePolarisPostModalRenderingContext();l=l.isInModal;l={isInModal:l,isMobile:d("PolarisUA").isMobile(),owner:e,path:f,post:g,relationship:b,variant:a,viewer:h,viewportHeight:k,viewportWidth:j};return m(l)}g.getPostFeatures=m;g.usePolarisPostFeatures=a}),98);
__d("PolarisAPIPostNotifyGuardianCall",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e="/api/v1/users/notify_guardian_call/";a={guardian_igid:a,reported_category:c,reported_igid:b};return d("PolarisInstapi").apiPost(e,{body:a}).then(function(a){return a.data})}g.postNotifyGuardianCall=a}),98);
__d("PolarisVideoViewedTimeAction",["convertToViewabilityPercentage","gkx","memoizeStringOnly","polarisVideoEventLogger","polarisVideoUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=c("memoizeStringOnly")(function(a){return new Map()}),i=c("memoizeStringOnly")(function(a){return new Map()}),j=c("memoizeStringOnly")(function(){return new Map()});function k(a){a=a.video;var b=a.getDeclarativeVideoRef();return{lastStartPosition:(b=b==null?void 0:b.getCurrentTime())!=null?b:0,loopCount:a.getLoopCount()}}function l(a){var b=a.adTrackingToken,c=a.context,e=a.initialData,f=a.post;a=a.video;var g=a.getDeclarativeVideoRef();return{adTrackingToken:b,analyticsContext:c,carouselParentId:f.carouselParentId,currentVideoTime:d("polarisVideoUtils").getCurrentVideoTime(g),dashInfo:d("polarisVideoUtils").getDashInfo(f),duration:g==null?void 0:g.getDuration(),id:f.id,isAd:!0,lastStartPosition:e.lastStartPosition,loopCount:a.getLoopCount()-e.loopCount,ownerId:(b=f.owner)==null?void 0:b.id,postedAt:f.postedAt,sequenceNumber:a.getNextSequenceNumber(),timeAtVideoPause:d("polarisVideoUtils").getTimeAtVideoPause(g),trackingToken:f.trackingToken,videoWidth:g==null?void 0:(c=g.getVideo())==null?void 0:c.videoWidth}}function a(a,b,e,f){return function(g){if(b.current==null)return;var m=b.current,n=h(e),o=i(e),p=a.id;g.percentVisible>=.5&&!n.has(p)&&n.set(p,k({video:m}));g.percentVisible>=1&&!o.has(p)&&o.set(p,k({video:m}));var q=n.get(p);q!=null&&g.percentVisible<.5&&(n["delete"](p),d("polarisVideoEventLogger").logVideoViewedTime(l({adTrackingToken:f,context:e,initialData:q,post:a,video:m})));n=o.get(p);n&&g.percentVisible<1&&(o["delete"](p),d("polarisVideoEventLogger").logVideoFullViewedTime(l({adTrackingToken:f,context:e,initialData:n,post:a,video:m})));if(!c("gkx")("25360"))return;q=j(e);o=q.get(p);n=c("convertToViewabilityPercentage")(g.percentVisible);g=m.getDeclarativeVideoRef();if(n!==o){q.set(p,n);d("polarisVideoEventLogger").logVideoViewabilityChanged({adTrackingToken:f,analyticsContext:e,carouselParentId:a.carouselParentId,currentVideoTime:d("polarisVideoUtils").getCurrentVideoTime(g),currentViewabilityPercentage:n,dashInfo:d("polarisVideoUtils").getDashInfo(a),duration:g==null?void 0:g.getDuration(),id:a.id,isAd:!0,ownerId:(o=a.owner)==null?void 0:o.id,sequenceNumber:m.getNextSequenceNumber(),trackingToken:a.trackingToken})}}}g.makeVideoViewTimeAction=a}),98);
__d("PolarisLikedByListContainerLazy.react",["CometPlaceholder.react","JSResourceForInteraction","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisLikedByListContainer.react").__setRef("PolarisLikedByListContainerLazy.react"));function a(a){var b=i(2),d;b[0]!==a?(d=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(k,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=d):d=b[1];return d}g["default"]=a}),98);
__d("PolarisEmbedHashHelpers",["memoize"],(function(a,b,c,d,e,f,g){"use strict";a=c("memoize")(function(){var a=window.location.hash;a=decodeURIComponent(a.substring(a.indexOf("#")+1));try{a=JSON.parse(a)}catch(b){a={}}return{clientId:a.ci,offset:a.os,sdkLoadEnd:a.le,sdkLoadStart:a.ls}});g.getHashPayload=a}),98);
__d("polarisGetEmbedRequestID",["nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("nullthrows")(document.querySelector(".Embed"));return a.getAttribute("data-request-id")}g["default"]=a}),98);
__d("PolarisEmbedLogger",["InstagramQueryParamsHelper","PolarisEmbedHashHelpers","PolarisLogger","PolarisLoggerUtils","PolarisPigeonLogger","gkx","polarisGetEmbedRequestID"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=d("PolarisLoggerUtils").trimAndSanitizeUrl(a||window.location.href);var b=c("polarisGetEmbedRequestID")();return b!=null?d("InstagramQueryParamsHelper").appendQueryParams(a,{ig_rid:b}):a}function a(a,b,e){if(!c("gkx")("25394"))return;var f=d("PolarisLogger").getExtra(),g=f.url;f=babelHelpers.objectWithoutPropertiesLoose(f,["url"]);a=babelHelpers["extends"]({client_id:d("PolarisEmbedHashHelpers").getHashPayload().clientId,event_name:a.actionName,is_copyright_blocked:a.isCopyrightBlocked,media_id:a.mediaId,media_type:a.mediaType,owner_id:a.ownerId===""?null:a.ownerId},f);f=babelHelpers["extends"]({obj_id:h(g),obj_type:"url"},e);d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent("instagram_web_embeds",a,f),b)}function i(a,b,c){var e=d("PolarisLogger").getAnonymousExtra(),f=e.url;e=babelHelpers.objectWithoutPropertiesLoose(e,["url"]);a=babelHelpers["extends"]({client_id:d("PolarisEmbedHashHelpers").getHashPayload().clientId,event_name:a.actionName,is_copyright_blocked:a.isCopyrightBlocked,media_id:a.mediaId,media_type:a.mediaType,owner_id:a.ownerId===""?null:a.ownerId},e);e=babelHelpers["extends"]({obj_id:h(f),obj_type:"url"},c);d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent("instagram_web_embeds_anonymous",a,e),b)}function b(a){var b=a.isCopyrightBlocked,c=a.mediaId,d=a.mediaType;a=a.ownerId;i({actionName:"view",isCopyrightBlocked:b,mediaId:c,mediaType:d,ownerId:a})}function e(a,b,e){if(!c("gkx")("25394"))return;a=d("PolarisLogger").getExtra(a);var f=a.url;a=babelHelpers.objectWithoutPropertiesLoose(a,["url"]);a=babelHelpers["extends"]({client_id:d("PolarisEmbedHashHelpers").getHashPayload().clientId,parent_url:window.document.referrer},a);f=babelHelpers["extends"]({obj_id:h(f),obj_type:"url"},e);d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent("instagram_web_embed_perf_events",a,f),b)}g.logEmbedAction=a;g.logEmbedPageView=b;g.logEmbedTimings=e}),98);
__d("PolarisEmbedVideoWatchAgain.react",["cx","fbt","PolarisEmbedLogger","PolarisFastLink.react","PolarisLinkBuilder","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j,m=i._("__JHASH__WT4Q1op-CT7__JHASH__"),n=i._("__JHASH__IQuGN-11QOS__JHASH__"),o="https://www.instagram.com";function p(a){var b=k(4),d=a.className,e=a.href;a=a.onClick;var f;b[0]!==d||b[1]!==e||b[2]!==a?(f=l.jsx(c("PolarisFastLink.react"),{"aria-label":m,className:d,href:e,onClick:a,target:"_blank"}),b[0]=d,b[1]=e,b[2]=a,b[3]=f):f=b[3];return f}function a(a){var b=k(23),e=a.post;a=e.code;a=a!=null&&a.length>0?d("PolarisLinkBuilder").buildMediaLink(a):"";a=""+o+a+"?utm_source=ig_embed&utm_campaign=embed_video_watch_again";var f;b[0]!==e.id||b[1]!==e.owner?(f=function(){var a;d("PolarisEmbedLogger").logEmbedAction({actionName:"videoWatchAgainClick",mediaId:e.id,mediaType:"video",ownerId:((a=e.owner)==null?void 0:a.id)||""})},b[0]=e.id,b[1]=e.owner,b[2]=f):f=b[2];f=f;var g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g="_aar9",b[3]=g):g=b[3];var h;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(h="_aara",b[4]=h):h=b[4];var i;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(i="_aarb _9zwu",b[5]=i):i=b[5];b[6]!==a||b[7]!==f?(i=l.jsx(c("PolarisFastLink.react"),{"aria-label":n,className:i,href:a,onClick:f,target:"_blank"}),b[6]=a,b[7]=f,b[8]=i):i=b[8];var j;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(j="_aarc",b[9]=j):j=b[9];b[10]!==a||b[11]!==f?(j=l.jsx(c("PolarisFastLink.react"),{"aria-label":n,className:j,href:a,onClick:f,target:"_blank",children:n}),b[10]=a,b[11]=f,b[12]=j):j=b[12];b[13]!==i||b[14]!==j?(g=l.jsx("div",{className:g,children:l.jsxs("div",{className:h,children:[i,j]})}),b[13]=i,b[14]=j,b[15]=g):g=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(h="_aard",b[16]=h):h=b[16];b[17]!==a||b[18]!==f?(i=l.jsx(p,{className:h,href:a,onClick:f}),b[17]=a,b[18]=f,b[19]=i):i=b[19];b[20]!==g||b[21]!==i?(j=l.jsxs(l.Fragment,{children:[g,i]}),b[20]=g,b[21]=i,b[22]=j):j=b[22];return j}g["default"]=a}),226);
__d("PolarisEmbedVideo.react",["cx","PolarisEmbedLogger","PolarisEmbedVideoWatchAgain.react","PolarisUserTagIndicatorWithSheet.react","PolarisVideoHeight","PolarisVideoPlayButton.react","Run","joinClasses","keyMirror","nullthrows","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k="video/mp4",l=c("keyMirror")({finished:null,paused:null,playing:null}),m="embedVideo";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$1=j.createRef();c.$2=!1;c.$3=null;c.handleVisiblityChange=function(){c.state.playerState!=null&&document.visibilityState&&document.visibilityState==="hidden"&&c.stop()};c.handleBeforeUnload=function(){c.state.playerState===l.playing&&c.stop()};c.handlePlayerPlayEvent=function(){c.setState({playerState:l.playing})};c.handlePlayerPauseEvent=function(){c.pause()};c.handlePlayerEndedEvent=function(){c.stop()};c.handleContainerClick=function(a){c.state.playerState!==l.playing?c.play():c.pause()};b={playerState:null};c.state=b;return c}var e=b.prototype;e.componentDidMount=function(){document.addEventListener("visibilitychange",this.handleVisiblityChange);this.$3=d("Run").onBeforeUnload(this.handleBeforeUnload);var a=c("nullthrows")(this.$1.current);a.addEventListener("play",this.handlePlayerPlayEvent);a.addEventListener("pause",this.handlePlayerPauseEvent);a.addEventListener("ended",this.handlePlayerEndedEvent)};e.componentDidUpdate=function(a){this.props.isVisible===!1&&a.isVisible===!0&&this.pause()};e.componentWillUnmount=function(){this.handleBeforeUnload();document.removeEventListener("visibilitychange",this.handleVisiblityChange);this.$3!=null&&(this.$3.remove(),this.$3=null);var a=c("nullthrows")(this.$1.current);a.removeEventListener("play",this.handlePlayerPlayEvent);a.removeEventListener("pause",this.handlePlayerPauseEvent);a.removeEventListener("ended",this.handlePlayerEndedEvent)};e.play=function(){if(this.state.playerState===l.playing)return;if(this.$2===!1){var a;d("PolarisEmbedLogger").logEmbedAction({actionName:"videoFirstPlayClick",mediaId:this.props.post.id,mediaType:"video",ownerId:((a=this.props.post.owner)==null?void 0:a.id)||""});this.$2=!0}c("nullthrows")(this.$1.current).play()};e.pause=function(){if(this.state.playerState!==l.playing)return;c("nullthrows")(this.$1.current).pause();this.setState({playerState:l.paused})};e.stop=function(){if(this.state.playerState===l.finished)return;var a=c("nullthrows")(this.$1.current);a.pause();a.currentTime=0;this.setState({playerState:l.finished})};e.render=function(){var a=this.props,b=a.className;a=a.post;var e=this.state.playerState,f={},g={};d("PolarisVideoHeight").setVideoHeightCompensation(a,!0,f,g);var h=e===l.finished;e=!e||e===l.paused;return j.jsxs("div",{className:c("joinClasses")(b,"_aand"),style:f,children:[j.jsx("div",{style:g,children:j.jsx("video",{className:"_aane",controls:!1,controlsList:void 0,"data-testid":void 0,loop:!1,playsInline:!0,poster:a.src,preload:"none",ref:this.$1,src:a.videoUrl,type:k})}),h?j.jsx(c("PolarisEmbedVideoWatchAgain.react"),{post:a}):j.jsx(c("PolarisVideoPlayButton.react"),{onClick:this.handleContainerClick,showPlayButton:e}),a.usertags&&a.usertags.length>=1&&j.jsx(c("PolarisUserTagIndicatorWithSheet.react"),{analyticsContext:m,mediaId:a.id,post:a,usertags:a.usertags})]})};return b}(j.Component);g["default"]=a}),98);
__d("PolarisPhotoWrapper.react",["InstagramODS","PolarisClickEventLoggerProvider.react","PolarisExternalLink.react","PolarisSponsoredPostContext.react","PolarisTrackingNodeProvider.react","PolarisUA","polarisAdsSelectors.react","react","usePolarisOffsiteTrackingDataURLParams"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.unstable_useMemoCache;function l(a){var b=k(9),d=a.children,e=a.externalURL;a=a.wrappedRef;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){c("InstagramODS").incr("web.ads.feed.link_click")},b[0]=f):f=b[0];f=f;var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g="x4gyw5p",b[1]=g):g=b[1];var h=c("usePolarisOffsiteTrackingDataURLParams")(e);b[2]!==e||b[3]!==h||b[4]!==d?(g=i.jsx(c("PolarisExternalLink.react"),{className:g,href:e,ignoreDoubleClick:!0,onClick:f,queryParams:h,children:d}),b[2]=e,b[3]=h,b[4]=d,b[5]=g):g=b[5];b[6]!==a||b[7]!==g?(f=i.jsx(c("PolarisClickEventLoggerProvider.react"),{ignoreDoubleClick:!0,children:i.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:86,children:i.jsx("div",{ref:a,children:g})})}),b[6]=a,b[7]=g,b[8]=f):f=b[8];return f}e=i.forwardRef(a);function a(a,b){var e=k(8),f=a.children;a=a.postId;var g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){return a},e[0]=g):g=e[0];g=d("polarisAdsSelectors.react").useFeedAdInfo(a,g);var h=j(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext);h=h.singleImageAdAsCta;a=g==null?void 0:(g=g.ctaItems)==null?void 0:(g=g.get(a))==null?void 0:g.ctaLinkUrl;if(a!=null&&h&&d("PolarisUA").isDesktop()){e[1]!==a||e[2]!==b||e[3]!==f?(g=i.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:12,children:i.jsx("div",{children:i.jsx(l,{externalURL:a,wrappedRef:b,children:f})})}),e[1]=a,e[2]=b,e[3]=f,e[4]=g):g=e[4];return g}e[5]!==b||e[6]!==f?(h=i.jsx("div",{ref:b,children:f}),e[5]=b,e[6]=f,e[7]=h):h=e[7];return h}f=e;g["default"]=f}),98);
__d("PolarisMedia.react",["PolarisDoubleTappable","PolarisEmbedVideo.react","PolarisFeedSeenStateManagerSingleton","PolarisIGCoreToast.react","PolarisIsLoggedInDesktop","PolarisLikeAnimation.react","PolarisMediaVideo.react","PolarisPhoto.react","PolarisPhotoWithIndicator.react","PolarisPhotoWrapper.react","PolarisSensitivityOverlay.react","PolarisSidecarMedia.react","PolarisVideoViewedTimeAction","PolarisViewpointReact.react","nullthrows","polarisVideoUtils","polarisWithRemountOnChange","react","usePolarisMediaSensitivityOverlay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function a(a){var b=j(!1),e=b[0],f=b[1];b=j(!1);var g=b[0],h=b[1];b=j(0);var k=b[0],l=b[1],m=c("PolarisFeedSeenStateManagerSingleton").get();b=function(){a.onLike&&(a.onLike(),l(k+1))};var n=function(){f(!0)},o=function(){f(!1)},p=function(b,c){var d=a.onMediaRendered,e=a.post;if(e.isVideo===!0)return;d&&d({mediaType:"Photo",resourceName:b,timeTaken:c})},q=function(a){switch(a.state){case"entered":case"updated":a=a.percentVisible>.2;g!==a&&h(a);break;case"exited":h(!1)}},r=function(b,c){if(b===!0&&a.autoplay===!0){if(d("polarisVideoUtils").isFeed(a.analyticsContext))return!1;if(c===0&&d("PolarisIsLoggedInDesktop").isLoggedInDesktop())return!0}return!1},s=a.adInfo,t=a.analyticsContext,u=a.asSidecarChild,v=a.autoplay;a.checkIsSensitivityOverlayDisabledCallback;var w=a.commentsAreStacked,x=a.enableLookasideForVideoPosts,y=a.firstSidecarChildSrc;a.hasViewInsights;var z=a.id;a.initialCarouselIndex;var A=a.isEmbed,B=a.isVisible,C=a.mediaFooter;a.onLike;a.onMediaRendered;var D=a.onSensitivityOverlayCleared;a.onSetModal;var E=a.onSidecarChildIndexChange,F=a.onToastClose,G=a.onVideoFinished,H=a.onVideoLoop,I=a.post,aa=a.relationship,J=a.sensitivityOverlayMediaOverlayInfoLoggingProps,ba=a.showToast,K=a.toastString,ca=a.viewer,da=a.visiblePosition,L=babelHelpers.objectWithoutPropertiesLoose(a,["adInfo","analyticsContext","asSidecarChild","autoplay","checkIsSensitivityOverlayDisabledCallback","commentsAreStacked","enableLookasideForVideoPosts","firstSidecarChildSrc","hasViewInsights","id","initialCarouselIndex","isEmbed","isVisible","mediaFooter","onLike","onMediaRendered","onSensitivityOverlayCleared","onSetModal","onSidecarChildIndexChange","onToastClose","onVideoFinished","onVideoLoop","post","relationship","sensitivityOverlayMediaOverlayInfoLoggingProps","showToast","toastString","viewer","visiblePosition"]),M=I||{},N=M.dimensions,ea=M.displayResources,O=M.upcomingEvent,P=M.id,Q=M.isVideo;Q=Q===void 0?!1:Q;var R=M.mediaPreview,S=M.owner,T=M.sidecarChildren;T=T===void 0?[]:T;var U=M.src;M=M.usertags;var V=T&&T.length>0,W=[];!V&&d("polarisVideoUtils").isFeed(t)&&W.push(function(a){m.addImpressionFromPost(I,a)});var X=!1;D=c("usePolarisMediaSensitivityOverlay")(I,t,D,a.checkIsSensitivityOverlayDisabledCallback);var fa=D.handleHideSensitivityOverlay,Y=D.mediaOverlayCoverInfo;D=D.shouldShowSensitivityOverlay;if(S&&D){D=J||{};J=D.checkIfMediaOverlayInfoImpressionLoggingDisabled;D=D.onLoggedMediaOverlayInfoImpression;J=i.jsx(c("PolarisSensitivityOverlay.react"),{analyticsContext:t,asSidecarChild:u,dimensions:N,disableMediaOverlayInfoImpressionLogging:J!=null?J(P):!1,isPhoto:!Q&&!V,isVisible:B,mediaId:P,mediaOverlayCoverInfo:Y,onLoggedMediaOverlayInfoImpression:D,onShowPostClicked:function(){return fa(I)},ownerId:S.id,previewData:R})}else if(V){if(w===!0)X=!0,Y=a;else{a.mediaFooter;D=babelHelpers.objectWithoutPropertiesLoose(a,["mediaFooter"]);Y=D}J=i.jsx(c("PolarisSidecarMedia.react"),babelHelpers["extends"]({},Y,{onChildIndexChange:E,sidecarChildren:T}))}else if(Q){var Z=g;S=[q];R=i.createRef();s!=null&&s.tracking_token!=null&&S.push(d("PolarisVideoViewedTimeAction").makeVideoViewTimeAction(a.post,R,t,s.tracking_token));J=i.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:[].concat(S,W),id:I.id,children:function(b){return i.jsxs("div",{ref:b,children:[A===!0?i.jsx(c("PolarisEmbedVideo.react"),{className:a.className,isVisible:Z,post:I}):i.jsx(c("PolarisMediaVideo.react"),{adInfo:s,analyticsContext:t,asSidecarChild:u,autoplay:v,className:a.className,enableLookasideForVideoPosts:x,firstSidecarChildSrc:y,isVisible:Z,onFinished:G,onLoop:H,post:I,relationship:aa,shouldAutoPlay:r(Z,da),upcomingEventMediaId:z}),ba===!0&&K!=null&&i.jsx(c("PolarisIGCoreToast.react"),{absolutePosition:!0,duration:3e3,onClose:F,wide:!0,children:K})]})}})}else{V={dimensions:N,likeEventCount:k,onPhotoRendered:p,postId:P,src:c("nullthrows")(U),srcSet:ea};var $;M&&M.length>0||O?$=i.jsx(d("PolarisPhotoWithIndicator.react").PhotoWithIndicator,babelHelpers["extends"]({},L,V,{analyticsContext:t,isFocused:e,isVisible:B,upcomingEvent:O,upcomingEventMediaId:z,upcomingEventThumbnailSrc:c("nullthrows")(u===!0?y:U),usertags:M,viewer:ca})):$=i.jsx(c("PolarisPhoto.react"),babelHelpers["extends"]({},L,V,{analyticsContext:t}));w=[].concat(W);D=i.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:w,id:I.id,children:function(a){return i.jsx(c("PolarisPhotoWrapper.react"),{postId:I.id,ref:a,children:$})}});J=i.jsxs(d("PolarisDoubleTappable").DoubleTappable,{onBlur:o,onDoubleClick:b,onFocus:n,role:"button",children:[D,i.jsx(c("PolarisLikeAnimation.react"),{likeEventCount:k},k)]})}C!=null&&!X&&(J=i.jsxs(i.Fragment,{children:[J,C]}));return J}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){return a.id!==b.id}e=c("polarisWithRemountOnChange")(b)(a);g["default"]=e}),98);
__d("PolarisSidecarChild.react",["IGDSBox.react","PolarisMedia.react","PolarisOrganicImpressionAction","PolarisViewpointReact.react","PolarisVpvdImpressionAction","cr:5000","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var e=i(43),f;if(e[0]!==a){var g=a.index,h=a.media,k=a.mediaWidth;a.onChildIndexChange;var l=a.sidecarChildIndex,m=a.sidecarChildren,n=a.analyticsContext,o=a.isVisible;a.mediaFooter;var p=a.onMediaRendered,q=a.post,r=babelHelpers.objectWithoutPropertiesLoose(a,["index","media","mediaWidth","onChildIndexChange","sidecarChildIndex","sidecarChildren","analyticsContext","isVisible","mediaFooter","onMediaRendered","post"]);g=g;h=h;f=k;k=l;l=m;m=n;n=o;o=p;p=q;q=r;e[0]=a;e[1]=h;e[2]=l;e[3]=k;e[4]=g;e[5]=n;e[6]=q;e[7]=m;e[8]=o;e[9]=f;e[10]=p}else h=e[1],l=e[2],k=e[3],g=e[4],n=e[5],q=e[6],m=e[7],o=e[8],f=e[9],p=e[10];e[11]!==h||e[12]!==l||e[13]!==k||e[14]!==g||e[15]!==n||e[16]!==q||e[17]!==m||e[18]!==o?(r=h.isUpsell===!0&&b("cr:5000")!=null?j.jsx(b("cr:5000"),{upsellSidecarChild:h}):j.jsx(c("PolarisMedia.react"),babelHelpers["extends"]({},q,{accessibilityCaption:h.accessibilityCaption,analyticsContext:m,asSidecarChild:!0,firstSidecarChildSrc:l[0].src,isVisible:k===g?n:!1,onMediaRendered:o,post:h})),e[11]=h,e[12]=l,e[13]=k,e[14]=g,e[15]=n,e[16]=q,e[17]=m,e[18]=o,e[19]=r):r=e[19];var s=r;if(g===0){e[20]!==h.id||e[21]!==f||e[22]!==s?(a=j.jsx(c("IGDSBox.react"),{position:"relative",width:f,children:s},h.id),e[20]=h.id,e[21]=f,e[22]=s,e[23]=a):a=e[23];return a}e[24]!==h||e[25]!==m?(k=d("PolarisOrganicImpressionAction").makeCarouselImpressionAction(h,m),e[24]=h,e[25]=m,e[26]=k):k=e[26];n=l[0];e[27]!==h||e[28]!==n||e[29]!==g||e[30]!==p.id||e[31]!==m?(q=d("PolarisVpvdImpressionAction").makeCarouselVpvdImpressionAction(h,n,g,p.id,m),e[27]=h,e[28]=n,e[29]=g,e[30]=p.id,e[31]=m,e[32]=q):q=e[32];e[33]!==k||e[34]!==q?(o=[k,q],e[33]=k,e[34]=q,e[35]=o):o=e[35];e[36]!==f||e[37]!==s?(r=function(a){return j.jsx(c("IGDSBox.react"),{containerRef:a,position:"relative",width:f,children:s})},e[36]=f,e[37]=s,e[38]=r):r=e[38];e[39]!==o||e[40]!==h.id||e[41]!==r?(a=j.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:o,id:h.id,children:r},h.id),e[39]=o,e[40]=h.id,e[41]=r,e[42]=a):a=e[42];return a}g["default"]=a}),98);
__d("usePolarisSidecarMediaOrUpsell",["PolarisConfig","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache,j=4,k=2;function a(a){var b=i(3),c=a.post;a=a.sidecarChildren;if(d("PolarisConfig").isLoggedIn()||d("PolarisUA").isDesktop()||a.some(function(a){return a.mediaOverlayInfo!=null})||c.dimensions===null||c.owner===null)return a;var e;if(b[0]!==a||b[1]!==c){e=[].concat(a);var f=e.length>=j?k:null;if(f!=null&&e[f-1].mediaPreview!=null){var g={dimensions:c.dimensions,id:"",isUpsell:!0,isVideo:!1,mediaPreview:e[f-1].mediaPreview,owner:c.owner,src:""};e.splice(f,0,g)}b[0]=a;b[1]=c;b[2]=e}else e=b[2];return e}g["default"]=a}),98);
__d("PolarisSidecarMedia.react",["PolarisSidecar.react","PolarisSidecarChild.react","react","usePolarisSidecarMediaOrUpsell"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.unstable_useMemoCache;function a(a){var b=j(15),e,f,g,h;b[0]!==a?(g=a.sidecarChildren,h=a.initialCarouselIndex,f=a.post,e=babelHelpers.objectWithoutPropertiesLoose(a,["sidecarChildren","initialCarouselIndex","post"]),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h):(e=b[1],f=b[2],g=b[3],h=b[4]);b[5]!==e.onChildIndexChange?(a=function(a,b,c){return[e.onChildIndexChange].filter(Boolean).forEach(function(d){return d(a,b,c)})},b[5]=e.onChildIndexChange,b[6]=a):a=b[6];a=a;var k=c("usePolarisSidecarMediaOrUpsell")({post:f,sidecarChildren:g});g=function(a,b){return k.map(function(d,g){return i.jsx(c("PolarisSidecarChild.react"),babelHelpers["extends"]({index:g,media:d,mediaWidth:a,post:f,sidecarChildIndex:b,sidecarChildren:k},e),g)})};var l;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(l=function(a){a=a.dimensions;return a},b[7]=l):l=b[7];l=k.map(l).filter(Boolean);var m;b[8]!==l||b[9]!==h||b[10]!==e.mediaFooter||b[11]!==k.length||b[12]!==a||b[13]!==g?(m=i.jsx(d("PolarisSidecar.react").Sidecar,{dimensions:l,initialCarouselIndex:h,mediaFooter:e.mediaFooter,numSidecarChildren:k.length,onChildIndexChange:a,renderSidecarChildren:g}),b[8]=l,b[9]=h,b[10]=e.mediaFooter,b[11]=k.length,b[12]=a,b[13]=g,b[14]=m):m=b[14];l=m;return l}g["default"]=a}),98);
__d("PolarisMediaContainer.react",["PolarisMedia.react","PolarisReactRedux.react","polarisPostSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a,b){return{onMediaRendered:d("polarisPostSelectors").getOnMediaRendered(a,b.onPostMediaRendered)}}function b(a,b){return{onSidecarChildIndexChange:function(a,c,d){a=b.onPostSidecarChildIndexChange;a&&a(c)}}}function e(a,b,c){c.onPostMediaRendered;c.onPostSidecarChildIndexChange;c=babelHelpers.objectWithoutPropertiesLoose(c,["onPostMediaRendered","onPostSidecarChildIndexChange"]);return babelHelpers["extends"]({},c,a,b)}f=d("PolarisReactRedux.react").connect(a,b,e)(c("PolarisMedia.react"));g["default"]=f}),98);
__d("PolarisSaveButton.react",["IGDSIconButton.react","IGDSSavePanoFilledIcon.react","IGDSSavePanoOutlineIcon.react","JSResourceForInteraction","PolarisIGCoreAnchoredPopover.react","PolarisIGCorePressable.react","PolarisPostStrings","PolarisReactRedux.react","PolarisSavedCollectionPicker.react","PolarisSavedPostsActionRequestNextSavedCollections","PolarisUA","nullthrows","polarisSavedPostsSelectors","react","useIGDSLazyDialog","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState,k=24,l=-16,m=5;function a(a){var b=a.analyticsContext,e=a.collectionsPostSavedTo,f=a["data-testid"],g=a.isSaved,h=a.onSaveMedia;f=a.onSaveMediaToCollection;var n=a.onShowToast,o=a.padding;o=o===void 0?8:o;var p=a.postId,q=a.thumbnailSrcSet,r=d("PolarisReactRedux.react").useDispatch(),s=c("usePolarisViewer")(),t=!s,u=d("PolarisReactRedux.react").useSelector(function(a){if(t)return null;var b=c("nullthrows")(s);return d("polarisSavedPostsSelectors").getAllSavedCollectionsForUser(a,c("nullthrows")(b.id))}),v=d("PolarisReactRedux.react").useSelector(function(a){if(t)return null;var b=c("nullthrows")(s);return d("polarisSavedPostsSelectors").getSavedCollectionsPaginationForUser(a,c("nullthrows")(b.id))});function w(){if(u==null||v==null)return!1;if(u.length>=m)return!0;var a=1;return!v.moreAvailable&&u.length>a}a=!t&&d("PolarisUA").isDesktop();var x=w()&&a;function y(a){a.preventDefault(),h(!g),!g===!0&&x&&(n!=null&&n(),C(!0))}function z(){if(!t&&!w()&&!c("nullthrows")(v).isFetching){var a=c("nullthrows")(s);r(d("PolarisSavedPostsActionRequestNextSavedCollections").requestInitialSavedCollections(c("nullthrows")(a.id)))}C(!1)}var A=j(!1),B=A[0],C=A[1];A=c("useIGDSLazyDialog")(c("JSResourceForInteraction")("PolarisCreateCollectionWithPostModal.react").__setRef("PolarisSaveButton.react"));var D=A[0];return i.jsx(c("PolarisIGCoreAnchoredPopover.react"),{content:x?i.jsx(c("PolarisSavedCollectionPicker.react"),{collectionsPostSavedTo:e,hidePopover:B,onSaveMedia:h,onSaveMediaToCollection:f,postId:p,postIsSaved:g,setHidePopover:C,setShowCreateCollectionModal:function(){return D({onSaveChange:h,postId:p,source:b,srcSet:q})}}):null,offsetTop:l,preferredPositionX:"center",preferredPositionY:"top",showOnHover:!0,children:i.jsx(c("PolarisIGCorePressable.react"),{onMouseEnter:z,onPress:function(){},children:i.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,hover:g||!a?null:i.jsx(c("IGDSSavePanoOutlineIcon.react"),{alt:d("PolarisPostStrings").SAVE_TEXT,color:"ig-secondary-text",size:k}),onClick:y,padding:o,children:g?i.jsx(c("IGDSSavePanoFilledIcon.react"),{alt:d("PolarisPostStrings").UNSAVE_TEXT,color:"ig-primary-text",size:k}):i.jsx(c("IGDSSavePanoOutlineIcon.react"),{alt:d("PolarisPostStrings").SAVE_TEXT,color:"ig-primary-text",size:k})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisInFeedPostModalContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a(c("emptyFunction"));g.InFeedPostModalContext=b}),98);
__d("PolarisTextWithEntities.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function k(a,b){return a.offset===b.offset&&(a.length===0||b.length===0)?a.length-b.length:a.offset-b.offset}function l(a){return[].concat(a.ranges).filter(Boolean).sort(k)}function a(a){var b=i(9),c=0;if(b[0]!==a||b[1]!==c){var d=[],e=a.text,f=l(a),g=[],h=[];for(var k=0;k<f.length;k++)g.push(f[k].offset),h.push(f[k].offset+f[k].length);k=[];var m=0;while(m<f.length){var n=f[m];if(h[m]<c){m=k.length>0?k.pop():m+1;continue}if(n.offset>c){var o=e.substring(c,n.offset);d.push(j.jsx(j.Fragment,{children:o},o+m));c=n.offset}o=0;for(var p=m+1;p<f.length;p++)if(g[p]<h[m]&&g[p]>=c){o=p;break}if(o!==0){p=e.substring(c,g[o]);d.push(j.jsx(j.Fragment,{children:a.rangeRenderer(p,n)},p+m));c=g[o];k.push(m);m=o;continue}p=e.substring(c,h[m]);d.push(j.jsx(j.Fragment,{children:a.rangeRenderer(p,n)},p+m));c=h[m];k.length>0?m=k.pop():m++}if(e.length>c){b[4]!==e||b[5]!==c?(o=e.substr(c),b[4]=e,b[5]=c,b[6]=o):o=b[6];n=o;b[7]!==n?(p=j.jsx(j.Fragment,{children:n},n),b[7]=n,b[8]=p):p=b[8];d.push(p)}f=a.textRenderer(d);b[0]=a;b[1]=c;b[2]=f;b[3]=c}else f=b[2],c=b[3];return f}g["default"]=a}),98);
__d("PolarisPostCommentInputPicker.react",["CometPlaceholder.react","PolarisUA","deferredLoadComponent","react","requireDeferredForDisplay","stylex","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisPostCommentInput.react").__setRef("PolarisPostCommentInputPicker.react")),m={familiarFeedPlaceholder:{alignItems:"x1qjc9v5",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",height:"x1d6elog",$$css:!0},placeholder:{alignItems:"x1qjc9v5",borderTopColor:"x5ur3kl",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",height:"xnnlda6",marginTop:"x1gslohp",position:"x1n2onr6",$$css:!0}};a=k.forwardRef(function(a,b){var e=j(10),f=c("usePolarisIsOnFeedPage")(),g=c("usePolarisIsOnAdsActivityPage")();f=(f||g)&&a.inModal!==!0&&d("PolarisUA").isDesktop();g=f?m.familiarFeedPlaceholder:m.placeholder;e[0]!==g?(f=(h||(h=c("stylex")))(g),e[0]=g,e[1]=f):f=e[1];e[2]!==f?(g=k.jsx("div",{className:f}),e[2]=f,e[3]=g):g=e[3];e[4]!==a||e[5]!==b?(f=k.jsx(l,babelHelpers["extends"]({},a,{ref:b})),e[4]=a,e[5]=b,e[6]=f):f=e[6];e[7]!==g||e[8]!==f?(a=k.jsx(c("CometPlaceholder.react"),{fallback:g,name:"PostCommentInputPicker",children:f}),e[7]=g,e[8]=f,e[9]=a):a=e[9];return a});b=a;g["default"]=b}),98);
__d("usePolarisComment",["PolarisReactRedux.react","polarisCommentSelectors.react","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).unstable_useMemoCache;function a(a,b){var c=i(3),e;c[0]!==a||c[1]!==b?(e=function(c){c=d("polarisCommentSelectors.react").getCommentById(c,a);return b(c)},c[0]=a,c[1]=b,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}function b(a,b){var c=i(3),e;c[0]!==a||c[1]!==b?(e=function(c){var e=d("polarisCommentSelectors.react").getCommentById(c,a);c=d("polarisUserSelectors").getUserByIdOrThrows(c,e.userId);return b(e,c)},c[0]=a,c[1]=b,c[2]=e):e=c[2];return d("PolarisReactRedux.react").useSelector(e)}function c(a){var b=i(2),c;b[0]!==a?(c=function(b){return a==null?null:(b=b.comments.byId.get(a))!=null?b:null},b[0]=a,b[1]=c):c=b[1];return d("PolarisReactRedux.react").useSelector(c)}g.useComment=a;g.useCommentAndOwner=b;g.useCommentOrNull=c}),98);
__d("PolarisPostFastCommentLikeButton.react",["PolarisCommentActions","PolarisConfig","PolarisInteractionsLogger","PolarisLikeButton.react","PolarisReactRedux.react","react","usePolarisAnalyticsContext","usePolarisComment","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function k(a,b){var e=i(10),f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a){return a.id},e[0]=f):f=e[0];f=d("usePolarisComment").useComment(a,f);var g=d("usePolarisPost").usePost(b,d("PolarisInteractionsLogger").getMediaTypeFromPost),h;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(a,b){return b.id},e[1]=h):h=e[1];h=d("usePolarisPost").usePostAndOwner(b,h);var j=c("usePolarisAnalyticsContext")();if(e[2]===Symbol["for"]("react.memo_cache_sentinel")){var k;k=(k=d("PolarisConfig").getViewerId())!=null?k:"";e[2]=k}else k=e[2];e[3]!==f||e[4]!==a||e[5]!==j||e[6]!==h||e[7]!==b||e[8]!==g?(k={commentAuthorId:f,commentId:a,containerModule:j,mediaAuthorId:h,mediaId:b,mediaType:g,userId:k},e[3]=f,e[4]=a,e[5]=j,e[6]=h,e[7]=b,e[8]=g,e[9]=k):k=e[9];return k}function a(a){var b=i(8),e=a.color,f=a.commentId;a=a.postId;var g=d("PolarisReactRedux.react").useDispatch(),h=k(f,a);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){return a.likedByViewer},b[0]=a):a=b[0];f=d("usePolarisComment").useComment(f,a);b[1]!==g||b[2]!==h?(a=function(a){a?g(d("PolarisCommentActions").likeComment(h)):g(d("PolarisCommentActions").unlikeComment(h))},b[1]=g,b[2]=h,b[3]=a):a=b[3];a=a;var l;b[4]!==e||b[5]!==f||b[6]!==a?(l=j.jsx(c("PolarisLikeButton.react"),{color:e,isLiked:f,large:!1,onChange:a}),b[4]=e,b[5]=f,b[6]=a,b[7]=l):l=b[7];return l}b=j.memo(a);g["default"]=b}),98);
__d("PolarisPostFastOptionsButton.react",["fbt","IGDSBox.react","IGDSIconButton.react","IGDSMoreHorizontalPanoOutlineIcon.react","IGDSMoreVerticalPanoOutline24Icon.react","InstagramAdActionMenuFalcoEvent","PolarisContainerModuleUtils","PolarisLogger","PolarisPostModalContext.react","PolarisViewpointActionUtils","identityFunction","polarisAdsSelectors.react","react","usePolarisAnalyticsContext","usePolarisPost","usePolarisViewer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l=h._("__JHASH__cFipUAiTKQi__JHASH__");function m(a){var b=j(3),d=a.color;a=a.orientation;a=a==="horizontal"?c("IGDSMoreHorizontalPanoOutlineIcon.react"):c("IGDSMoreVerticalPanoOutline24Icon.react");var e;b[0]!==a||b[1]!==d?(e=k.jsx(c("IGDSBox.react"),{alignItems:"center",height:24,justifyContent:"center",position:"relative",width:24,children:k.jsx(a,{alt:l,color:d})}),b[0]=a,b[1]=d,b[2]=e):e=b[2];return e}function a(a){var b=j(25),e=a.className,f=a.orientation,g=a.padding,h=a.postId;a=f===void 0?"horizontal":f;var i=d("PolarisPostModalContext.react").useSetPostModal(),l=c("usePolarisAnalyticsContext")(),n=d("PolarisContainerModuleUtils").getContainerModule(l),o=d("usePolarisPost").usePost(h,c("identityFunction")),p=!!o.isVideo;f=c("usePolarisViewer")();var q=f==null?void 0:f.id;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a){return a==null?void 0:a.ad_id},b[0]=f):f=b[0];var r=d("polarisAdsSelectors.react").useFeedAdInfo(h,f);b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a){return a==null?void 0:a.tracking_token},b[1]=f):f=b[1];var s=d("polarisAdsSelectors.react").useFeedAdInfo(h,f),t=d("PolarisViewpointActionUtils").getMPKForFeedMedia(o);b[2]!==h||b[3]!==l||b[4]!==p||b[5]!==o.isSponsored||b[6]!==q||b[7]!==r||b[8]!==t||b[9]!==n||b[10]!==s||b[11]!==i?(f=function(){d("PolarisLogger").logAction("postOptionsClick",{mediaId:h,source:l,type:p?"video":"photo"}),o.isSponsored===!0&&q!=null&&c("InstagramAdActionMenuFalcoEvent").log(function(){return{ad_id:r,m_pk:t,pigeon_reserved_keyword_module:n,pk:q,source_of_action:n,tracking_token:s}}),i("options")},b[2]=h,b[3]=l,b[4]=p,b[5]=o.isSponsored,b[6]=q,b[7]=r,b[8]=t,b[9]=n,b[10]=s,b[11]=i,b[12]=f):f=b[12];f=f;var u;b[13]!==a?(u=k.jsx(m,{color:"ig-secondary-text",orientation:a}),b[13]=a,b[14]=u):u=b[14];var v;b[15]!==a?(v=k.jsx(m,{color:"ig-primary-text",orientation:a}),b[15]=a,b[16]=v):v=b[16];b[17]!==u||b[18]!==f||b[19]!==g||b[20]!==v?(a=k.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,hover:u,onClick:f,padding:g,children:v}),b[17]=u,b[18]=f,b[19]=g,b[20]=v,b[21]=a):a=b[21];b[22]!==e||b[23]!==a?(u=k.jsx("div",{className:e,children:a}),b[22]=e,b[23]=a,b[24]=u):u=b[24];return u}b=k.memo(a);g["default"]=b}),226);
__d("PolarisPostFastPreviewCaption.react",["IGDSBox.react","PolarisPostFastCommentPrimitive.react","PolarisPostFastCrawlerComment.react","PolarisUA","nullthrows","polarisCommentSelectors.react","react","usePolarisIsOnFeedPage","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(16),e=a.enableTruncation,f=a.inModal;a=a.postId;var g=c("usePolarisIsOnFeedPage")();g=g&&f!==!0&&d("PolarisUA").isDesktop();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a,b){return c("nullthrows")(b.id)},b[0]=f):f=b[0];f=d("usePolarisPost").usePostAndOwner(a,f);var h;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(a,b){return c("nullthrows")(b.username)},b[1]=h):h=b[1];h=d("usePolarisPost").usePostAndOwner(a,h);var k;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(k=function(a,b){return b.isVerified},b[2]=k):k=b[2];k=d("usePolarisPost").usePostAndOwner(a,k);var l;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(l=function(a,b){return b.isUnpublished},b[3]=l):l=b[3];l=d("usePolarisPost").usePostAndOwner(a,l);var m;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(m=function(a){return a.caption},b[4]=m):m=b[4];m=d("usePolarisPost").usePost(a,m);var n;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(n=function(a){return a.captionCommentId},b[5]=n):n=b[5];a=d("usePolarisPost").usePost(a,n);n=d("polarisCommentSelectors.react").useCommentTranslation(a);if(m==null||m==="")return null;(n==null?void 0:n.showTranslatedText)===!0&&n.translatedText!=null&&(m=n.translatedText);a=g?2:1;b[6]!==e||b[7]!==l||b[8]!==k||b[9]!==m||b[10]!==f||b[11]!==h?(n=e===!0?j.jsx(c("PolarisPostFastCrawlerComment.react"),{isAuthorUnpublished:l,isAuthorVerified:k,text:m,userId:f,username:h}):j.jsx(c("PolarisPostFastCommentPrimitive.react"),{isAuthorUnpublished:l,isAuthorVerified:k,isCaption:!0,text:m,userId:f,username:h}),b[6]=e,b[7]=l,b[8]=k,b[9]=m,b[10]=f,b[11]=h,b[12]=n):n=b[12];b[13]!==a||b[14]!==n?(g=j.jsx(c("IGDSBox.react"),{marginBottom:a,position:"relative",children:n}),b[13]=a,b[14]=n,b[15]=g):g=b[15];return g}g["default"]=a}),98);
__d("PolarisPostFastPreviewComment.react",["PolarisPostFastCommentPrimitive.react","nullthrows","react","usePolarisComment"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(9);a=a.commentId;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a,b){return c("nullthrows")(b.id)},b[0]=e):e=b[0];e=d("usePolarisComment").useCommentAndOwner(a,e);var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a,b){return c("nullthrows")(b.username)},b[1]=f):f=b[1];f=d("usePolarisComment").useCommentAndOwner(a,f);var g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){return a.text},b[2]=g):g=b[2];g=d("usePolarisComment").useComment(a,g);var h;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(a){return a.isAuthorVerified},b[3]=h):h=b[3];a=d("usePolarisComment").useComment(a,h);b[4]!==a||b[5]!==g||b[6]!==e||b[7]!==f?(h=j.jsx(c("PolarisPostFastCommentPrimitive.react"),{isAuthorVerified:a,text:g,userId:e,username:f}),b[4]=a,b[5]=g,b[6]=e,b[7]=f,b[8]=h):h=b[8];return h}g["default"]=a}),98);
__d("PolarisPostFastViewAllComments.react",["fbt","IGDSText.react","PolarisBigNumber.react","PolarisConfig","PolarisFastLink.react","PolarisFeedActionOpenPostModalForId","PolarisInFeedPostModalContext","PolarisInteractionsLogger","PolarisLoggedOutCtaLogger","PolarisNavigationActions","PolarisReactRedux.react","PolarisSponsoredPostContext.react","PolarisTrackingConstants","PolarisUA","XPolarisMobileAllCommentsControllerRouteBuilder","logPolarisPostModalOpen","nullthrows","react","usePolarisAnalyticsContext","usePolarisPost"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useContext,l=e.unstable_useMemoCache;function a(a){var b=l(25),e=a.onLoggedOutIntentClickLoginModal,f=a.postId;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){return a.numComments||0},b[0]=a):a=b[0];a=d("usePolarisPost").usePost(f,a);var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){return c("nullthrows")((a=a.owner)==null?void 0:a.id)},b[1]=g):g=b[1];var i=d("usePolarisPost").usePost(f,g),m=d("usePolarisPost").usePost(f,d("PolarisInteractionsLogger").getMediaTypeFromPost);g=k(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext);var n=g.canUserSeePersistentCta;b[2]!==n?(g=function(a){var b;return c("XPolarisMobileAllCommentsControllerRouteBuilder").buildURL((b={},b[d("PolarisTrackingConstants").ENABLE_PERSISTENT_CTA]=n||void 0,b.shortcode=c("nullthrows")(a.code),b))},b[2]=n,b[3]=g):g=b[3];var o=d("usePolarisPost").usePost(f,g),p=d("PolarisReactRedux.react").useDispatch(),q=c("usePolarisAnalyticsContext")(),r=k(d("PolarisInFeedPostModalContext").InFeedPostModalContext);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=!d("PolarisConfig").isLoggedIn()&&d("PolarisUA").isMobile(),b[4]=g):g=b[4];var s=g;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(g=s||d("PolarisConfig").isLoggedIn()&&d("PolarisUA").isDesktop(),b[5]=g):g=b[5];g=g;var t;b[6]!==q||b[7]!==i||b[8]!==f||b[9]!==m||b[10]!==p||b[11]!==r||b[12]!==e?(t=function(a,b){d("PolarisConfig").isLoggedIn()?(d("PolarisInteractionsLogger").logInteractionAction({containerModule:q,eventName:"instagram_organic_comment_view_all",mediaAuthorId:i,mediaId:f,mediaType:m}),d("PolarisUA").isDesktop()&&(a.preventDefault(),p(d("PolarisFeedActionOpenPostModalForId").openPostModalForId(f)),c("logPolarisPostModalOpen")(q,m,"feed_view_all_comments"),r(f))):s&&(a.preventDefault(),d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"user_action",ctaVersion:"",eventName:"post_comment_view_all_click",module:q||""}),e(b,"post_comment_view_all",f))},b[6]=q,b[7]=i,b[8]=f,b[9]=m,b[10]=p,b[11]=r,b[12]=e,b[13]=t):t=b[13];var u=t;b[14]!==u||b[15]!==o?(t=function(a){return u(a,o)},b[14]=u,b[15]=o,b[16]=t):t=b[16];var v;b[17]!==a?(v=a===1?h._("__JHASH__72aa16zdD4E__JHASH__"):h._("__JHASH__goQVaKpz6ee__JHASH__",[h._param("count",j.jsx(c("PolarisBigNumber.react"),{value:a}))]),b[17]=a,b[18]=v):v=b[18];b[19]!==v?(a=j.jsx(c("IGDSText.react"),{color:"secondaryText",zeroMargin:!0,children:v}),b[19]=v,b[20]=a):a=b[20];b[21]!==o||b[22]!==t||b[23]!==a?(v=j.jsx(c("PolarisFastLink.react"),{"data-testid":void 0,href:o,onClick:t,shouldOpenModal:g,children:a}),b[21]=o,b[22]=t,b[23]=a,b[24]=v):v=b[24];return v}function b(a){return{onLoggedOutIntentClickLoginModal:function(b,c,e){var f=d("PolarisUA").isDesktop()||d("PolarisConfig").isLoggedOutFRXEligible()?"feature_wall":"content_wall";a(d("PolarisNavigationActions").openLoginModal(f,b,c,null,e))}}}f=d("PolarisReactRedux.react").connect(null,b)(a);g["default"]=f}),226);
__d("PolarisPostFastPreviewCommentsList.react",["IGDSBox.react","PolarisConfig","PolarisPostFastCommentLikeButton.react","PolarisPostFastPreviewComment.react","PolarisPostFastViewAllComments.react","PolarisReactRedux.react","PolarisThreadedCommentSelectors","PolarisUA","isTruthy","polarisCommentSelectors.react","react","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useMemo,k=b.unstable_useMemoCache;function l(a){var b=k(13),e=a.postId;a=a.previewCommentIds;var f=c("usePolarisIsOnFeedPage")(),g=c("usePolarisIsOnAdsActivityPage")(),h;b[0]!==f||b[1]!==g?(h=(f||g)&&d("PolarisUA").isDesktop(),b[0]=f,b[1]=g,b[2]=h):h=b[2];f=h;var j=f;if(d("PolarisConfig").isLoggedOutFRXEligible())return null;if(a.length>0){g=f?1:0;if(b[3]!==j||b[4]!==e||b[5]!==a){b[7]!==j||b[8]!==e?(h=function(a){return i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",marginBottom:1,position:"relative",children:[i.jsx(c("PolarisPostFastPreviewComment.react"),{commentId:a}),d("PolarisConfig").isLoggedIn()&&i.jsx(c("IGDSBox.react"),{marginStart:j?2:0,position:"relative",children:i.jsx(c("PolarisPostFastCommentLikeButton.react"),{color:j?"ig-secondary-icon":void 0,commentId:a,postId:e})})]},a)},b[7]=j,b[8]=e,b[9]=h):h=b[9];f=a.map(h);b[3]=j;b[4]=e;b[5]=a;b[6]=f}else f=b[6];b[10]!==g||b[11]!==f?(h=i.jsx(c("IGDSBox.react"),{marginBottom:g,position:"relative",children:f}),b[10]=g,b[11]=f,b[12]=h):h=b[12];return h}return null}function a(a){var b=a.inModal,e=a.postId;a=a.shouldIncreaseCommentPreviews;a=a===void 0?!1:a;var f=c("usePolarisIsOnFeedPage")();f=f&&b!==!0&&d("PolarisUA").isDesktop();var g=c("isTruthy")(a);b=d("usePolarisPost").usePost(e,function(a){return!a.commentsDisabled});var h=d("PolarisReactRedux.react").useSelector(function(a){return g?d("PolarisThreadedCommentSelectors").selectVisibleParentCommentsForPostId(a,e).toArray():d("polarisCommentSelectors.react").getPreviewCommentsForPostId(a,e)});a=j(function(){return h.map(function(a){return a.id})},[h]);var k=d("usePolarisPost").usePost(e,function(a){return(a=a.numComments)!=null?a:0}),m=k>a.length;if(!b||k<=0)return null;b=!d("PolarisConfig").isLoggedIn()&&a.length>0&&!g;return i.jsxs(i.Fragment,{children:[m&&i.jsx(c("IGDSBox.react"),{alignItems:"start",marginBottom:f?2:1,position:"relative",children:i.jsx(c("PolarisPostFastViewAllComments.react"),{postId:e})}),i.jsx(l,{postId:e,previewCommentIds:b?a.slice(-1):a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostFastShareButton.react",["CometPlaceholder.react","IGDContactSearchDialogType.flow","IGDSDirectPanoOutlineIcon.react","IGDSecureShareSheetDialogPlaceholder.react","JSResourceForInteraction","PolarisConfig","PolarisIGCoreSVGIconButton.react","PolarisLogger","PolarisPostModalContext.react","PolarisPostStrings","PolarisPostTypeUtils","QPLUserFlow","lazyLoadComponent","qpl","react","useIGDSLazyDialog","useIGDSecureShareSheetInteractionLogger","useIGDShareSheetOnSubmitPost","usePolarisPost","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo,l=b.useState,m=c("JSResourceForInteraction")("IGDSecureShareSheetDialog.react").__setRef("PolarisPostFastShareButton.react"),n=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGWebBloksApp").__setRef("PolarisPostFastShareButton.react"));function a(a){var b=a.analyticsContext,e=a["data-testid"],f=a.mediaId,g=a.mediaOverlayInfo;e=a.postId;var h=a.sharingFrictionInfo,o=d("usePolarisPost").usePost(e,function(a){return a}),p=d("PolarisPostModalContext.react").useSetPostModal();a=c("useIGDSLazyDialog")(m,function(a){return i.jsx(c("IGDSecureShareSheetDialogPlaceholder.react"),{onClose:a})});var q=a[0];e=a[1];a=l(!1);var r=a[0],s=a[1],t=(h==null?void 0:h.bloksAppUrl)!=null&&(h==null?void 0:h.shouldHaveSharingFriction)===!0,u=k(function(){var a=g!=null?g:o.mediaOverlayInfo;return babelHelpers["extends"]({},o,{mediaOverlayInfo:a})},[o,g]),v=c("useIGDShareSheetOnSubmitPost")(u),w=d("useIGDSecureShareSheetInteractionLogger").useLogShareSheetInteraction();a=j(function(){d("PolarisLogger").logAction("shareClick",{source:b,type:d("PolarisPostTypeUtils").getPostType(o)});c("QPLUserFlow").start(c("qpl")._(379205139,"1723"),{annotations:{string:{source:b}}});if(!t)if(!d("PolarisConfig").isLoggedIn())p("share");else{var a=c("uuidv4")();w("igd_sharesheet_open",{flowInstanceId:a,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:b});q({flowInstanceId:a,onSubmit:v,post:u})}else s(!0)},[b,o,t,p,w,q,v,u]);var x=k(function(){return{media_id:f,module:b}},[b,f]),y=function(){return!t?null:r&&(h==null?void 0:h.bloksAppUrl)!=null&&i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(n,{appId:h==null?void 0:h.bloksAppUrl,bridgeOverrides_DEPRECATED:{onOpenShareSheetClick:function(){s(!1);var a=c("uuidv4")();w("igd_sharesheet_open",{flowInstanceId:a,shareType:d("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:b});q({flowInstanceId:a,onSubmit:v,post:u})},onResumeStoryPlayback:function(){s(!1)}},params:x},f)})};return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisIGCoreSVGIconButton.react"),{"data-testid":void 0,hover:i.jsx(c("IGDSDirectPanoOutlineIcon.react"),{alt:d("PolarisPostStrings").SHARE_TEXT,color:"ig-secondary-text",size:24}),onClick:a,ref:e,children:i.jsx(c("IGDSDirectPanoOutlineIcon.react"),{alt:d("PolarisPostStrings").SHARE_TEXT,color:"ig-primary-text",size:24})}),y()]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostOptionsButtonPicker.react",["PolarisPostFastOptionsButton.react","cr:2007","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var d=i(10),e=a.buttonClassName,f=a.isSponsored;a=a.mediaPK;if(b("cr:2007")!=null&&f!==!0){d[0]!==a?(f=j.jsx(b("cr:2007"),{mediaPK:a}),d[0]=a,d[1]=f):f=d[1];var g;d[2]!==e||d[3]!==f?(g=j.jsx("div",{className:e,children:f}),d[2]=e,d[3]=f,d[4]=g):g=d[4];return g}d[5]!==a?(f=j.jsx(c("PolarisPostFastOptionsButton.react"),{postId:a}),d[5]=a,d[6]=f):f=d[6];d[7]!==e||d[8]!==f?(g=j.jsx("div",{className:e,children:f}),d[7]=e,d[8]=f,d[9]=g):g=d[9];return g}g["default"]=a}),98);
__d("PolarisCommentTranslationPrompt.react",["fbt","CometPressable.react","IGDSText.react","PolarisCommentActions","PolarisReactRedux.react","polarisCommentSelectors.react","react","usePolarisComment"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.unstable_useMemoCache;function a(a){var b,e=k(22),f=a.commentId,g=a.inFeed,i=a.isCaptionWithTranslation;a=a.isOverMedia;a=a===void 0?!1:a;var l=d("PolarisReactRedux.react").useDispatch();b=((b=d("usePolarisComment").useCommentOrNull(f))==null?void 0:b.hasTranslation)===!0;i=i===!0||b;b=d("polarisCommentSelectors.react").useCommentTranslation(f);var m=b==null?void 0:b.translatedText,n;e[0]!==f||e[1]!==m||e[2]!==l?(n=function(){if(f==null)return;m!=null?l(d("PolarisCommentActions").showCommentTranslatedText(f)):l(d("PolarisCommentActions").translateComment(f))},e[0]=f,e[1]=m,e[2]=l,e[3]=n):n=e[3];n=n;if(i!==!0)return null;i=g===!0?"primaryText":"secondaryText";if((b==null?void 0:b.loading)===!0){g=a?"webAlwaysWhite":i;var o;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._("__JHASH__ptT8MaSFAMY__JHASH__"),e[4]=o):o=e[4];e[5]!==g?(o=j.jsx(c("IGDSText.react").Body2Emphasized,{color:g,children:o}),e[5]=g,e[6]=o):o=e[6];return o}if((b==null?void 0:b.showTranslatedText)===!0){e[7]!==f||e[8]!==l?(g=function(){f!=null&&l(d("PolarisCommentActions").showCommentOriginalText(f))},e[7]=f,e[8]=l,e[9]=g):g=e[9];o=a?"webAlwaysWhite":i;e[10]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._("__JHASH__S6WOgu9Fr2q__JHASH__"),e[10]=b):b=e[10];e[11]!==o?(b=j.jsx(c("IGDSText.react").Body2Emphasized,{color:o,children:b}),e[11]=o,e[12]=b):b=e[12];e[13]!==g||e[14]!==b?(o=j.jsx(c("CometPressable.react"),{onPress:g,overlayDisabled:!0,children:b}),e[13]=g,e[14]=b,e[15]=o):o=e[15];return o}g=a?"webAlwaysWhite":i;e[16]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._("__JHASH__Q7Q4mAm1c2E__JHASH__"),e[16]=b):b=e[16];e[17]!==g?(o=j.jsx(c("IGDSText.react").Body2Emphasized,{color:g,children:b}),e[17]=g,e[18]=o):o=e[18];e[19]!==n||e[20]!==o?(a=j.jsx(c("CometPressable.react"),{onPress:n,overlayDisabled:!0,children:o}),e[19]=n,e[20]=o,e[21]=a):a=e[21];return a}g["default"]=a}),226);
__d("PolarisPostCaptionTranslationPrompt.react",["IGDSBox.react","PolarisCommentTranslationPrompt.react","react","usePolarisPost"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(8),e=a.inFeed,f=a.marginBottom;a=a.postId;f=f===void 0?0:f;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){return a.captionHasTranslation},b[0]=g):g=b[0];g=d("usePolarisPost").usePost(a,g);var h;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(a){return a.captionCommentId},b[1]=h):h=b[1];a=d("usePolarisPost").usePost(a,h);if(g!==!0||a==null)return null;b[2]!==a||b[3]!==e?(h=j.jsx(c("PolarisCommentTranslationPrompt.react"),{commentId:a,inFeed:e,isCaptionWithTranslation:!0}),b[2]=a,b[3]=e,b[4]=h):h=b[4];b[5]!==f||b[6]!==h?(g=j.jsx(c("IGDSBox.react"),{marginBottom:f,children:h}),b[5]=f,b[6]=h,b[7]=g):g=b[7];return g}g["default"]=a}),98);
__d("PolarisDeleteCommentModal.react",["fbt","IGCoreDialog.react","PolarisCommentActions","PolarisGenericStrings","PolarisLogger","PolarisReactRedux.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(15),c=a.analyticsContext,e=a.commentId,f=a.onClose,g=a.postId,i=d("PolarisReactRedux.react").useDispatch();b[0]!==c||b[1]!==i||b[2]!==g||b[3]!==e||b[4]!==f?(a=function(a){d("PolarisLogger").logAction("commentDelete",{source:c}),i(d("PolarisCommentActions").deleteComment(g,e,c)),f(a)},b[0]=c,b[1]=i,b[2]=g,b[3]=e,b[4]=f,b[5]=a):a=b[5];a=a;var l;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._("__JHASH__-8Hu0_GPJrv__JHASH__"),b[6]=l):l=b[6];b[7]!==a?(l=k.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:a,children:l}),b[7]=a,b[8]=l):l=b[8];b[9]!==f?(a=k.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:f,children:d("PolarisGenericStrings").CANCEL_TEXT}),b[9]=f,b[10]=a):a=b[10];var m;b[11]!==f||b[12]!==l||b[13]!==a?(m=k.jsxs(d("IGCoreDialog.react").IGCoreDialog,{onModalClose:f,children:[l,a]}),b[11]=f,b[12]=l,b[13]=a,b[14]=m):m=b[14];return m}g["default"]=a}),226);
__d("PolarisFRXBlockUserFollowupModal.react",["CometPlaceholder.react","I64","IGDSConfirmDialog.react","IGDSGlimmer.react","JSResourceForInteraction","PolarisBlockDialogContainer.react","PolarisFRXWebReportStrings","PolarisGenericStrings","PolarisLinkBuilder","PolarisNavigationUtils","PolarisReactRedux.react","PolarisReportConstants","isStringNullOrEmpty","lazyLoadComponent","polarisRelationshipSelectors.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;b.useCallback;var k=b.unstable_useMemoCache,l=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDBlockUserDialog.react").__setRef("PolarisFRXBlockUserFollowupModal.react"));function m(a,b){a=a.userToBlock.id;return d("polarisRelationshipSelectors.react").getRelationship(b.relationships,a)}function n(a){a.onClose&&a.onClose()}function a(a){var b=k(24),e;b[0]!==a?(e=function(b){return m(a,b)},b[0]=a,b[1]=e):e=b[1];e=d("PolarisReactRedux.react").useSelector(e);var f=a.isGroupThread,g=a.onClose,h=a.shouldReportAsInstamadillo,q=a.threadKey,r=a.userToBlock,s=a.useSimpleBlockModalWithoutRefresh,t=r.fbidV2,u=r.id;r=r.username;var v=o(a.frxObjectType),w;b[2]!==g?(w=function(){g()},b[2]=g,b[3]=w):w=b[3];w=w;if(v&&r!=null){b[4]===Symbol["for"]("react.memo_cache_sentinel")?(v=j.jsx(c("IGDSGlimmer.react"),{index:0}),b[4]=v):v=b[4];var x;b[5]!==u?(x=(i||(i=d("I64"))).of_string(u),b[5]=u,b[6]=x):x=b[6];f=(f=f)!=null?f:!1;h=(h=h)!=null?h:!1;b[7]!==x||b[8]!==f||b[9]!==w||b[10]!==h||b[11]!==q||b[12]!==r?(v=j.jsx(c("CometPlaceholder.react"),{fallback:v,children:j.jsx(l,{clickPoint:"report",contactID:x,isAfterReport:!0,isBlocked:!1,isGroup:f,onClose:w,shouldReportAsInstamadillo:h,threadKey:q,userName:r})}),b[7]=x,b[8]=f,b[9]=w,b[10]=h,b[11]=q,b[12]=r,b[13]=v):v=b[13];return v}if(!u)return null;if(s===!0){b[14]!==a?(x=j.jsx(p,babelHelpers["extends"]({},a)),b[14]=a,b[15]=x):x=b[15];return x}b[16]!==a?(f=function(){return n(a)},b[16]=a,b[17]=f):f=b[17];b[18]!==t||b[19]!==f||b[20]!==e||b[21]!==u||b[22]!==r?(w=j.jsx(c("PolarisBlockDialogContainer.react"),{fbidV2:t,onClose:f,relationship:e,userId:u,username:r}),b[18]=t,b[19]=f,b[20]=e,b[21]=u,b[22]=r,b[23]=w):w=b[23];return w}function o(a){switch(a){case d("PolarisReportConstants").FRXObjectType.DIRECT_MESSAGE:case d("PolarisReportConstants").FRXObjectType.DIRECT_MESSAGE_THREAD:case d("PolarisReportConstants").FRXObjectType.ENCRYPTED_DIRECT_MESSAGE:return!0;default:return!1}}function p(a){var b=k(18),e=a.userToBlock;e=e.username;var f,g,h,i;b[0]!==e?(g=c("isStringNullOrEmpty")(e)?null:d("PolarisLinkBuilder").buildUserLink(e),f=c("isStringNullOrEmpty")(g),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=i):(f=b[1],g=b[2],h=b[3],i=b[4]);if(!f){i=d("PolarisGenericStrings").CANCEL_TEXT;b[5]!==g||b[6]!==a?(f={confirmLabel:d("PolarisFRXWebReportStrings").VIEW_PROFILE_BUTTON_TEXT,onConfirm:function(){d("PolarisNavigationUtils").openURLWithFullPageReload(g),n(a)}},b[5]=g,b[6]=a,b[7]=f):f=b[7];h=f}else{i=d("PolarisGenericStrings").CLOSE_TEXT;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(f={},b[8]=f):f=b[8];h=f}b[9]!==a?(f=function(){return n(a)},b[9]=a,b[10]=f):f=b[10];var l;b[11]!==e?(l=d("PolarisFRXWebReportStrings").getBlockUserModalTitle(e),b[11]=e,b[12]=l):l=b[12];b[13]!==h||b[14]!==i||b[15]!==f||b[16]!==l?(e=j.jsx(c("IGDSConfirmDialog.react"),babelHelpers["extends"]({},h,{body:d("PolarisFRXWebReportStrings").BLOCK_USER_THROUGH_PROFILE_MODAL_CONTENT,cancelLabel:i,onClose:f,title:l})),b[13]=h,b[14]=i,b[15]=f,b[16]=l,b[17]=e):e=b[17];return e}g["default"]=a}),98);
__d("PolarisFRXNotifyGuardianFollowupModal.react",["IGDSConfirmDialog.react","PolarisFRXWebReportStrings","nullthrows","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function k(a){a.onClose&&a.onClose()}function l(a,b,c){a.onNotify&&a.onNotify(b,c)}function a(a){var b=i(14),e=c("usePolarisViewer")(),f=c("nullthrows")(e==null?void 0:e.guardianId);b[0]!==a||b[1]!==f?(e={confirmLabel:d("PolarisFRXWebReportStrings").SEND_BUTTON_TEXT,onConfirm:function(){l(a,!0,f)}},b[0]=a,b[1]=f,b[2]=e):e=b[2];e=e;var g;b[3]!==a.guardianUsername||b[4]!==a.reportedTagTitle||b[5]!==a.reportedUsername?(g=d("PolarisFRXWebReportStrings").getNotifyGuardianModalText(a.guardianUsername,a.reportedTagTitle,a.reportedUsername),b[3]=a.guardianUsername,b[4]=a.reportedTagTitle,b[5]=a.reportedUsername,b[6]=g):g=b[6];var h;b[7]!==a||b[8]!==f?(h=function(){l(a,!1,f),k(a)},b[7]=a,b[8]=f,b[9]=h):h=b[9];var m;b[10]!==e||b[11]!==g||b[12]!==h?(m=j.jsx(c("IGDSConfirmDialog.react"),babelHelpers["extends"]({},e,{body:g,cancelLabel:d("PolarisFRXWebReportStrings").DONT_SEND_BUTTON_TEXT,onClose:h,title:d("PolarisFRXWebReportStrings").NOTIFY_GUARDIAN_MODAL_TITLE_NO_QUESTION})),b[10]=e,b[11]=g,b[12]=h,b[13]=m):m=b[13];return m}g["default"]=a}),98);
__d("PolarisFRXReportBaseScreenModal.react",["cx","IGDSBox.react","IGDSDialog.react","IGDSDialogHeader.react","PolarisFRXWebReportConstants","PolarisFRXWebReportStrings","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l=4,m=4,n=4,o=!1;function a(a,b,c){a=a||{};var e=a.response;a=a.type;if(a===d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.CONFIRMATION)return{headerEnabled:!1};a=e||{};e=a.title;e=(a=e==null?void 0:e.text)!=null?a:d("PolarisFRXWebReportStrings").DEFAULT_MODAL_HEADER_TEXT;return{headerEnabled:!0,onBackButton:c,titleText:e,withBackButton:b}}function p(a){a.onClose&&a.onClose()}function b(a){var b,e=j(14),f=d("PolarisUA").isMobile()?"large":"default";b=(b=a.headerParams.titleText)!=null?b:void 0;var g;e[0]!==a?(g=function(){return p(a)},e[0]=a,e[1]=g):g=e[1];var h;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(h="_acgx"+(f==="large"?" _acqj":""),e[2]=h):h=e[2];var i;e[3]!==a?(i=k.jsx(q,babelHelpers["extends"]({},a)),e[3]=a,e[4]=i):i=e[4];var l;e[5]!==a?(l=k.jsx(r,babelHelpers["extends"]({},a)),e[5]=a,e[6]=l):l=e[6];e[7]!==i||e[8]!==l?(h=k.jsxs("div",{className:h,children:[i,l]}),e[7]=i,e[8]=l,e[9]=h):h=e[9];e[10]!==b||e[11]!==g||e[12]!==h?(i=k.jsx(c("IGDSDialog.react"),{label:b,onClose:g,size:f,testid:void 0,children:h}),e[10]=b,e[11]=g,e[12]=h,e[13]=i):i=e[13];return i}function q(a){var b=j(11),d=a.headerParams,e=d.headerEnabled,f=d.titleText,g=d.onBackButton;d=d.withBackButton;d=d===void 0?o:d;if(!e)return null;b[0]!==d||b[1]!==g?(e=d&&g?{onBack:function(){return g()}}:void 0,b[0]=d,b[1]=g,b[2]=e):e=b[2];d=e;b[3]!==a?(e=function(){return p(a)},b[3]=a,b[4]=e):e=b[4];var h;b[5]!==f?(h=k.jsx(k.Fragment,{children:f}),b[5]=f,b[6]=h):h=b[6];b[7]!==e||b[8]!==d||b[9]!==h?(f=k.jsx(c("IGDSDialogHeader.react"),babelHelpers["extends"]({onClose:e},d,{children:h})),b[7]=e,b[8]=d,b[9]=h,b[10]=f):f=b[10];return f}function r(a){var b=j(7),d=a.children;a=a.disableDefaultBodyPaddingMargin;a=a===void 0?!1:a;var e,f;a?e=f=a=0:(e=l,a=n,f=m);var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g="_acgy",b[0]=g):g=b[0];var h;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(h="_acgz",b[1]=h):h=b[1];b[2]!==f||b[3]!==a||b[4]!==e||b[5]!==d?(g=k.jsx("div",{className:g,children:k.jsx("div",{className:h,children:k.jsx(c("IGDSBox.react"),{marginBottom:f,marginTop:a,paddingX:e,position:"relative",children:d})})}),b[2]=f,b[3]=a,b[4]=e,b[5]=d,b[6]=g):g=b[6];return g}g.DEFAULT_BODY_PADDING_X=l;g.DEFAULT_BODY_MARGIN_BOTTOM=m;g.DEFAULT_BODY_MARGIN_TOP=n;g.getDefaultScreenModalHeaderParamsFromScreenPayload=a;g.FRXReportBaseScreenModal=b}),98);
__d("PolarisFRXReportModalLinkUtils",["URI","polarisIsInternalURIString"],(function(a,b,c,d,e,f,g){"use strict";var h,i="help.instagram.com";function j(a){return c("polarisIsInternalURIString")(a)&&new(h||(h=c("URI")))(a).getDomain()===i}function a(a){return j(a)||!c("polarisIsInternalURIString")(a)}g.shouldLinkUseBlankTarget=a}),98);
__d("PolarisFRXReportMainButton.react",["PolarisFRXReportModalLinkUtils","PolarisIGCoreButton.react","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(13),e=a["data-testid"],f=a.disabled,g=a.href,h=a.onClick,k=a.primaryButton,l=a.spinner;a=a.text;var m;if(!c("isStringNullOrEmpty")(g)&&f!==!0){var n=d("PolarisFRXReportModalLinkUtils").shouldLinkUseBlankTarget(g)?"_blank":void 0,o;b[0]!==g||b[1]!==n?(o={href:g,target:n},b[0]=g,b[1]=n,b[2]=o):o=b[2];m=o}n=((g=k)!=null?g:!0)?"ig-primary-button":"ig-secondary-button";o=!!f;k=!!l;b[3]!==h?(g=function(){return h&&h()},b[3]=h,b[4]=g):g=b[4];b[5]!==m||b[6]!==n||b[7]!==e||b[8]!==o||b[9]!==k||b[10]!==g||b[11]!==a?(f=j.jsx(c("PolarisIGCoreButton.react"),babelHelpers["extends"]({},m,{color:n,"data-testid":void 0,disabled:o,loading:k,onClick:g,children:a})),b[5]=m,b[6]=n,b[7]=e,b[8]=o,b[9]=k,b[10]=g,b[11]=a,b[12]=f):f=b[12];return f}g["default"]=a}),98);
__d("PolarisFRXReportModalOptionList.react",["cx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(5),c=a.asRadio;a=a.children;c=c===void 0?!1:c;var d;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(d="_ac7r",b[0]=d):d=b[0];d=d;if(c){b[1]!==a?(c=k.jsx("fieldset",{className:d,children:a}),b[1]=a,b[2]=c):c=b[2];return c}b[3]!==a?(c=k.jsx("div",{className:d,role:"list",children:a}),b[3]=a,b[4]=c):c=b[4];return c}g["default"]=a}),98);
__d("PolarisFRXReportModalRichTextRenderer.react",["IGDSText.react","PolarisFRXReportModalLinkUtils","PolarisFastLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k={BOLD:1,CODE:8,ITALIC:2,NONE:0,QUOTE:128,STRIKETHROUGH:16,SUBSCRIPT:32,SUPERSCRIPT:64,UNDERLINE:4},l={"#000000":"web-always-black","#00376B":"ig-link","#0095F6":"ig-primary-button","#262626":"ig-primary-text","#58C322":"DEPRECATED_green","#8E8E8E":"ig-secondary-text","#c7c7c7":"ig-tertiary-text","#ed4956":"ig-error-or-destructive","#ffffff":"web-always-white"};function a(a){var b=i(20),e=a.children,f=a.className,g=a.color,h=a["data-testid"],m=a.href,n=a.onClick;a=a.style;var o=e,p=m!==""&&m!=null,q;!p&&g!=null&&(q=g in l?l[g]:void 0);if(a!=null&&(g!=null||p))bb0:switch(a){case k.BOLD:b[0]!==q||b[1]!==e?(g=j.jsx(c("IGDSText.react").BodyEmphasized,{color:q,children:e}),b[0]=q,b[1]=e,b[2]=g):g=b[2];o=g;break bb0;case k.SUBSCRIPT:b[3]!==q||b[4]!==e?(p=j.jsx(c("IGDSText.react").Body2,{color:q,children:e}),b[3]=q,b[4]=e,b[5]=p):p=b[5];o=p;break bb0;default:b[6]!==q||b[7]!==e?(a=j.jsx(c("IGDSText.react").Body,{color:q,children:e}),b[6]=q,b[7]=e,b[8]=a):a=b[8];o=a}if(m!==""&&m!=null){b[9]!==n?(g=function(){return n&&n()},b[9]=n,b[10]=g):g=b[10];p=d("PolarisFRXReportModalLinkUtils").shouldLinkUseBlankTarget(m)?"_blank":void 0;b[11]!==f||b[12]!==h||b[13]!==m||b[14]!==g||b[15]!==p||b[16]!==o?(e=j.jsx(c("PolarisFastLink.react"),{className:f,"data-testid":void 0,href:m,onClick:g,target:p,children:o}),b[11]=f,b[12]=h,b[13]=m,b[14]=g,b[15]=p,b[16]=o,b[17]=e):e=b[17];return e}b[18]!==o?(a=j.jsx(j.Fragment,{children:o}),b[18]=o,b[19]=a):a=b[19];return a}g["default"]=a}),98);
__d("PolarisFRXReportModalOptionListItem.react",["cx","fbt","IGDSBox.react","IGDSChevronIcon.react","IGDSRadioButton.react","IGDSSpinner.react","PolarisFRXReportModalRichTextRenderer.react","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j,m={BUTTON:"button",LINK:"link",RADIO:"radio"},n={DEFAULT:"default",GREY:"grey",RED:"red"},o=4;function p(a){a.onSelect&&a.onSelect()}function q(a){a=a.href;return c("isStringNullOrEmpty")(a)?m.BUTTON:m.LINK}function a(a){var b=k(40),d=a.children,e=a["data-testid"],f=a.href,g=a.variant,h=a.textColor,i=a.disabled;g=g===void 0?q(a):g;h=h===void 0?n.DEFAULT:h;var j=g===m.RADIO;d=d;if(!j){var s;b[0]!==d?(s=l.jsx(c("IGDSBox.react"),{flex:"grow",position:"relative",children:d}),b[0]=d,b[1]=s):s=b[1];var t;b[2]!==i||b[3]!==a?(t=i!==!0&&l.jsx(r,babelHelpers["extends"]({},a)),b[2]=i,b[3]=a,b[4]=t):t=b[4];var u;b[5]!==s||b[6]!==t?(u=l.jsxs(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",direction:"row",padding:o,position:"relative",children:[s,t]}),b[5]=s,b[6]=t,b[7]=u):u=b[7];d=u}s=h===n.RED;t=h===n.GREY;b[8]!==s||b[9]!==t?(u="_abn2"+(s?" _abn3":"")+(t?" _abn4":""),b[8]=s,b[9]=t,b[10]=u):u=b[10];h=u;if(j){s=a.selected;t=a.value;u=t===void 0?"":t;b[11]!==h||b[12]!==d?(j=l.jsx("div",{className:h,children:d}),b[11]=h,b[12]=d,b[13]=j):j=b[13];b[14]!==a?(t=function(){return p(a)},b[14]=a,b[15]=t):t=b[15];var v;b[16]!==s||b[17]!==j||b[18]!==t||b[19]!==u?(v=l.jsx(c("IGDSRadioButton.react"),{isChecked:s,label:j,onChange:t,value:u}),b[16]=s,b[17]=j,b[18]=t,b[19]=u,b[20]=v):v=b[20];b[21]!==e||b[22]!==v?(s=l.jsx(c("IGDSBox.react"),{"data-testid":void 0,padding:o,children:v}),b[21]=e,b[22]=v,b[23]=s):s=b[23];return s}else if(g===m.LINK&&f!=null&&f!==""){b[24]!==a?(j=function(){return p(a)},b[24]=a,b[25]=j):j=b[25];b[26]!==h||b[27]!==e||b[28]!==f||b[29]!==j||b[30]!==d?(t=l.jsx(c("PolarisFRXReportModalRichTextRenderer.react"),{className:h,"data-testid":void 0,href:f,onClick:j,children:d}),b[26]=h,b[27]=e,b[28]=f,b[29]=j,b[30]=d,b[31]=t):t=b[31];return t}b[32]!==a?(u=function(){return p(a)},b[32]=a,b[33]=u):u=b[33];b[34]!==h||b[35]!==e||b[36]!==i||b[37]!==u||b[38]!==d?(v=l.jsx("button",{className:h,"data-testid":void 0,disabled:i,onClick:u,children:d}),b[34]=h,b[35]=e,b[36]=i,b[37]=u,b[38]=d,b[39]=v):v=b[39];return v}function r(a){var b=k(4);a=a.loading;if(a===!0){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("IGDSSpinner.react"),{size:"small"}),b[0]=a):a=b[0];a=a}else{var d;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(d=l.jsx(c("IGDSChevronIcon.react"),{alt:i._("__JHASH__KmLwDGth6wW__JHASH__"),color:"ig-tertiary-text",direction:"next",size:17}),b[1]=d):d=b[1];a=d}b[2]!==a?(d=l.jsx(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",direction:"row",marginStart:2,position:"relative",children:a}),b[2]=a,b[3]=d):d=b[3];return d}g.OPTION_LIST_ITEM_VARIANTS=m;g.OPTION_LIST_ITEM_TEXT_COLORS=n;g.FRXReportModalOptionListItem=a}),226);
__d("polarisGetGuardianInfo",["normalizr"],(function(a,b,c,d,e,f,g){"use strict";var h=new(d("normalizr").schema.Entity)("userInfo",{},{idAttribute:function(a){return String(a.pk)},processStrategy:function(a){return{username:a.username}}});function a(a){return d("normalizr").normalize(a,h).entities.userInfo}g["default"]=a}),98);
__d("PolarisFRXWebReportActions",["JSResourceForInteraction","PolarisAPIPostNotifyGuardianCall","PolarisDirectLogger","PolarisFRXWebReportConstants","PolarisInstapi","PolarisReportConstants","polarisGetGuardianInfo","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=1,i=c("JSResourceForInteraction")("PolarisFRXWebSendSecureReportAction").__setRef("PolarisFRXWebReportActions");function a(a){a=babelHelpers["extends"]({},a,{frx_prompt_request_type:d("PolarisFRXWebReportConstants").FRX_SCREEN_INPUT_REQUEST_TYPE_INTS.START});return k(a,!0)}function b(a){var b=a.frxPromptRequestType,c=a.metadata,d=j(a);c=babelHelpers["extends"]({},c,d,{frx_prompt_request_type:b});return k(c,!1,(d=a.optionalParams)==null?void 0:d.thread_id,(b=a.optionalParams)==null?void 0:b.responsible_id)}function j(a){var b=a.context;a=a.optionalParams;var c=a.attachments,d=a.evidenceText,e=a.reportSubtype,f=a.selectedPromptButtonActionType,g=a.selectedTagTypes,h=a.selectedVictimID;a=a.tipNumber;var i={};b!=null&&(i.context=b);g!=null&&(i.selected_tag_types=JSON.stringify(g));f!=null&&(i.action_type=f);h!=null&&(i.victim_user_id=h);a!=null&&(i.tip_number=a);c!=null&&(i.attachments=c);d!=null&&(i.evidence_text=d);e!=null&&(i.report_subtype=e);return babelHelpers["extends"]({},i)}function k(a,b,e,f){return function(g,j){var k=h++;g({frxScreenRequestID:k,isInitScreen:b,type:"FRX_WEB_REPORT_SCREEN_API_REQUESTED"});j=d("PolarisInstapi").apiPost("/api/v1/web/reports/get_frx_prompt/",{body:a}).then(function(a){return a.data});j.then(function(b){var h=b.response;b=b.type;if(h==null||b==null)g({frxScreenRequestID:k,type:"FRX_WEB_REPORT_SCREEN_API_REQUEST_FAILED"});else{var j=h.frx_context;[d("PolarisReportConstants").FRXLocation.ENCRYPTED_DIRECT_MESSAGE,d("PolarisReportConstants").FRXLocation.ENCRYPTED_DIRECT_THREAD].includes(a.location)&&a.frx_prompt_request_type===d("PolarisFRXWebReportConstants").FRX_SCREEN_INPUT_REQUEST_TYPE_INTS.POLICY_EDUCATION&&f!==void 0&&e!==void 0&&j!==void 0&&c("promiseDone")(i.load().then(function(b){g(b(j,f,e,a.victim_user_id,a.location===d("PolarisReportConstants").FRXLocation.ENCRYPTED_DIRECT_MESSAGE?a.object_id:void 0))}));g({frxScreenRequestID:k,screenPayload:{frxScreenRequestID:k,response:h,type:b},type:"FRX_WEB_REPORT_SCREEN_API_REQUEST_SUCCESS"})}})["catch"](function(){g({frxScreenRequestID:k,type:"FRX_WEB_REPORT_SCREEN_API_REQUEST_FAILED"})})}}function e(a,b,c,e){return function(f,g){f({type:"FRX_WEB_NOTIFY_GUARDIAN_FOLLOWUP_MODAL_TO_CONFIMATION_MODAL"}),a&&d("PolarisAPIPostNotifyGuardianCall").postNotifyGuardianCall(b,c,e)["catch"](function(a){var b=new(d("PolarisDirectLogger").DirectLogger)("DirectActions");b.logError("Notify Guardian From Web",a)})}}function f(a){return babelHelpers["extends"]({type:"FRX_WEB_REPORT_REPORTING_MODAL_CLOSED"},a)}function l(){return{type:"FRX_WEB_REPORT_GO_BACK_ONE_SCREEN"}}function m(){return{type:"FRX_WEB_REPORT_START_UNFOLLOW_FOLLOWUP"}}function n(){return{type:"FRX_WEB_REPORT_START_BLOCK_FOLLOWUP"}}function o(){return{type:"FRX_WEB_REPORT_START_NOTIFY_GUARDIAN_FOLLOWUP"}}function p(){return function(a,b){a({type:"FRX_WEB_REPORT_DISABLE_NOTIFY_GUARDIAN_OPTION"})}}function q(a){return function(b,e){d("PolarisInstapi").apiGet("/api/v1/users/{user_id}/info/",{path:{user_id:a}}).then(function(d){d=d.data.user;d&&b({guardian:c("polarisGetGuardianInfo")(d)[a],type:"FRX_WEB_REPORT_STORE_GUARDIAN_INFORMATION"})})}}function r(a){return function(b,c){b({reportedTagTitle:a,type:"FRX_WEB_REPORT_STORE_REPORTED_TAG_TITLE"})}}g.doRequestInitFRXScreenAction=a;g.doRequestNextFRXScreenAction=b;g.doOpenNotifyGuardianFollowupModalToPreviousScreenAction=e;g.doReportingModalClosedAction=f;g.doGoBackOneFRXScreenAction=l;g.doStartUnfollowFollowupAction=m;g.doStartBlockFollowupAction=n;g.doStartNotifyGuardianFollowupAction=o;g.doDisableNotifyGuardianOption=p;g.doStoreGuardianInformation=q;g.doStoreReportedTagTitle=r}),98);
__d("PolarisFRXWebReportStateSelectors",["PolarisFRXWebReportConstants","PolarisFRXWebReportUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.webFRXReport.pendingFRXScreenRequestID!==null}function h(a){return a.webFRXReport.screenHistoryStack}function b(a){return d("PolarisFRXWebReportUtils").getCurrentScreenFromHistoryStack(h(a))}function c(a){return h(a).length}function e(a){a=h(a);return a.findIndex(function(a){return a.type===d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.CONFIRMATION})>=0}function f(a){return a.webFRXReport.currRenderStep}function i(a){return a.webFRXReport.disableNotifyGuardianOption}function j(a){return a.webFRXReport.guardianUsername}function k(a){return a.webFRXReport.reportedTagTitle}g.getIsFRXScreenRequestProcessing=a;g.getCurrScreenPayload=b;g.getScreenHistorySize=c;g.getIsConfirmationScreenInHistoryStack=e;g.getCurrRenderStep=f;g.getDisableNotifyGuardianOption=i;g.getGuardianUsername=j;g.getReportedTagTitle=k}),98);
__d("PolarisFRXReportModalFollowUpActionSection.react",["IGDSBox.react","PolarisFRXReportModalOptionList.react","PolarisFRXReportModalOptionListItem.react","PolarisFRXWebReportActions","PolarisFRXWebReportStateSelectors","PolarisFRXWebReportStrings","PolarisReactRedux.react","PolarisReportConstants","isStringNullOrEmpty","polarisRelationshipSelectors.react","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function k(a,b){a=a.reportedOwner.id;return d("polarisRelationshipSelectors.react").getRelationship(b.relationships,a)}function l(a,b){a=a.onSelectFollowupAction;a&&a(b)}function a(a){var b=i(19),e=a.followUpActions,f;b[0]!==a?(f=function(b){return d("polarisRelationshipSelectors.react").followedByViewer(k(a,b))},b[0]=a,b[1]=f):f=b[1];var g=d("PolarisReactRedux.react").useSelector(f);b[2]!==a?(f=function(b){return d("polarisRelationshipSelectors.react").isBlockedByViewer(k(a,b))},b[2]=a,b[3]=f):f=b[3];var h=d("PolarisReactRedux.react").useSelector(f),p=c("usePolarisViewer")();if(b[4]!==a||b[5]!==g||b[6]!==h||b[7]!==p||b[8]!==e){b[10]!==a||b[11]!==g||b[12]!==h||b[13]!==p?(f=function(b,c){var e=b.action_type,f=b.beta_redirect_uri,i=b.name;if(e==null)return null;i=i==null?void 0:i.text;var k=function(){return l(a,b)};c="followup-"+c;switch(e){case d("PolarisReportConstants").FRXActionType.LEARN_MORE_ADS:case d("PolarisReportConstants").FRXActionType.LEARN_MORE_EDUCATION:case d("PolarisReportConstants").FRXActionType.OPEN_CROWDTANGLE:case d("PolarisReportConstants").FRXActionType.SELF_INJURY_EDUCATION_ACTION:case d("PolarisReportConstants").FRXActionType.EATING_DISORDER_EDUCATION_ACTION:return i==null||i===""||f==null||f===""?null:j.jsx(d("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{href:f,onSelect:k,children:i},c);case d("PolarisReportConstants").FRXActionType.UNFOLLOW:return!g?null:j.jsx(m,{labelText:i,onSelect:k},c);case d("PolarisReportConstants").FRXActionType.BLOCK_ACTOR:return h?null:j.jsx(n,{labelText:i,onSelect:k},c);case d("PolarisReportConstants").FRXActionType.NOTIFY_GUARDIAN:return(p==null?void 0:p.isSupervisedUser)!==!0?null:j.jsx(o,{labelText:i,onSelect:k},c);default:return null}},b[10]=a,b[11]=g,b[12]=h,b[13]=p,b[14]=f):f=b[14];var q;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(a){return a!=null},b[15]=q):q=b[15];f=e.map(f).filter(q);b[4]=a;b[5]=g;b[6]=h;b[7]=p;b[8]=e;b[9]=f}else f=b[9];q=f;if(q.length===0)return null;b[16]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("IGDSBox.react"),{marginTop:11,position:"relative"}),b[16]=e):e=b[16];b[17]!==q?(f=j.jsxs(j.Fragment,{children:[e,j.jsx(c("PolarisFRXReportModalOptionList.react"),{children:q})]}),b[17]=q,b[18]=f):f=b[18];return f}function m(a){var b=i(6),e=a.labelText,f=a.onSelect;a=c("isStringNullOrEmpty")(e)?d("PolarisFRXWebReportStrings").DEFAULT_UNFOLLOW_BUTTON_TEXT:e;var g=d("PolarisReactRedux.react").useDispatch();b[0]!==f||b[1]!==g?(e=function(){f(),g(d("PolarisFRXWebReportActions").doStartUnfollowFollowupAction())},b[0]=f,b[1]=g,b[2]=e):e=b[2];var h;b[3]!==e||b[4]!==a?(h=j.jsx(d("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{onSelect:e,children:a}),b[3]=e,b[4]=a,b[5]=h):h=b[5];return h}function n(a){var b=i(6),e=a.labelText,f=a.onSelect;a=c("isStringNullOrEmpty")(e)?d("PolarisFRXWebReportStrings").DEFAULT_BLOCK_BUTTON_TEXT:e;var g=d("PolarisReactRedux.react").useDispatch();b[0]!==f||b[1]!==g?(e=function(){f(),g(d("PolarisFRXWebReportActions").doStartBlockFollowupAction())},b[0]=f,b[1]=g,b[2]=e):e=b[2];var h;b[3]!==e||b[4]!==a?(h=j.jsx(d("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{onSelect:e,textColor:d("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_TEXT_COLORS.RED,children:a}),b[3]=e,b[4]=a,b[5]=h):h=b[5];return h}function o(a){var b=i(8),e=a.labelText,f=a.onSelect;a=c("isStringNullOrEmpty")(e)?d("PolarisFRXWebReportStrings").DEFAULT_NOTIFY_GUARDIAN_BUTTON_TEXT:e;var g=d("PolarisReactRedux.react").useDispatch();e=d("PolarisReactRedux.react").useSelector(d("PolarisFRXWebReportStateSelectors").getDisableNotifyGuardianOption);var h=e===!0?d("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_TEXT_COLORS.GREY:d("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_TEXT_COLORS.DEFAULT,k;b[0]!==f||b[1]!==g?(k=function(){f(),g(d("PolarisFRXWebReportActions").doStartNotifyGuardianFollowupAction())},b[0]=f,b[1]=g,b[2]=k):k=b[2];var l;b[3]!==e||b[4]!==k||b[5]!==h||b[6]!==a?(l=j.jsx(d("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{disabled:e,onSelect:k,textColor:h,children:a}),b[3]=e,b[4]=k,b[5]=h,b[6]=a,b[7]=l):l=b[7];return l}g["default"]=a}),98);
__d("PolarisFRXReportModalRichText.react",["PolarisFRXReportModalRichTextRenderer.react","PolarisTextWithEntities.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function k(a){a=a.token;if(!a)return null;var b=a.color,c=a.style,d=a.uri;b==null&&(b=a["3"]);c==null&&(c=a["1"]);(d===""||d==null)&&(d=a["2"]);c!=null&&(c=parseInt(c,10));return{color:b,style:c,uri:d}}function l(a){if(!a)return[];var b=[];a.forEach(function(a){var c=a.length,d=a.offset;a=k(a)||{};var e=a.color,f=a.style;a=a.uri;c!=null&&d!=null&&(a!=null||e!=null||f!=null)&&b.push({color:e,length:c,offset:d,override_uri:a,style:f})});return b}function m(a,b){var d=b.color,e=b.override_uri;b=b.style;return j.jsx(c("PolarisFRXReportModalRichTextRenderer.react"),{color:d,href:e,style:b,children:a})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=i(6);a=a.richText;if(a==null)return null;var d=a.markup;a=a.text;if(a==null)return null;var e;b[0]!==d?(e=l(d),b[0]=d,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(d=function(a){return j.jsx(j.Fragment,{children:a})},b[2]=d):d=b[2];b[3]!==e||b[4]!==a?(d=j.jsx(c("PolarisTextWithEntities.react"),{rangeRenderer:m,ranges:e,text:a,textRenderer:d}),b[3]=e,b[4]=a,b[5]=d):d=b[5];return d}g["default"]=a}),98);
__d("PolarisFRXWebReportAPIUtils",["PolarisInstapi","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("PolarisInstapi").apiPost("/api/v1/web/reports/log_tag_selected/",{body:a})["catch"](c("emptyFunction"))}function b(a){d("PolarisInstapi").apiPost("/api/v1/web/reports/handle_guided_action/",{body:a})["catch"](c("emptyFunction"))}g.logFRXTagSelected=a;g.handleFRXGuidedAction=b}),98);
__d("PolarisFRXReportConfirmationScreenModalForSupervision.react",["IGDSBox.react","IGDSCircleCheckPanoOutlineIcon.react","IGDSText.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportMainButton.react","PolarisFRXReportModalFollowUpActionSection.react","PolarisFRXReportModalRichText.react","PolarisFRXWebReportAPIUtils","PolarisFRXWebReportStrings","PolarisGenericStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function k(a,b){b=b.action_type;if(b==null)return;a=a.screenPayload.response;d("PolarisFRXWebReportAPIUtils").handleFRXGuidedAction({action_type:b,context:a==null?void 0:a.context})}function a(a){var b=i(14),e=a.headerParams,f=a.onClose,g;b[0]!==f?(g=function(){return f&&f()},b[0]=f,b[1]=g):g=b[1];g=g;var h;b[2]!==a?(h=j.jsx(l,babelHelpers["extends"]({},a)),b[2]=a,b[3]=h):h=b[3];var k;b[4]!==a?(k=j.jsx(m,babelHelpers["extends"]({},a)),b[4]=a,b[5]=k):k=b[5];b[6]!==g?(a=j.jsx(c("IGDSBox.react"),{marginBottom:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_BOTTOM,marginTop:4,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:j.jsx(c("PolarisFRXReportMainButton.react"),{onClick:g,text:d("PolarisGenericStrings").CLOSE_TEXT})}),b[6]=g,b[7]=a):a=b[7];var n;b[8]!==e||b[9]!==g||b[10]!==h||b[11]!==k||b[12]!==a?(n=j.jsxs(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{disableDefaultBodyPaddingMargin:!0,headerParams:e,onClose:g,children:[h,k,a]}),b[8]=e,b[9]=g,b[10]=h,b[11]=k,b[12]=a,b[13]=n):n=b[13];return n}function l(a){var b=i(14);a=a.screenPayload;var e;b[0]!==a?(e=a||{},b[0]=a,b[1]=e):e=b[1];a=e;e=a.response;b[2]!==e?(a=e||{},b[2]=e,b[3]=a):a=b[3];e=a;a=e.follow_up_actions_title;e=e.subtitle;var f;b[4]!==e?(f=e?j.jsx(c("IGDSBox.react"),{marginTop:6,position:"relative",children:j.jsx(c("IGDSText.react").Section,{textAlign:"center",zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:e})})}):null,b[4]=e,b[5]=f):f=b[5];e=f;f=null;if(a){var g;b[6]!==a?(g=j.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})}),b[6]=a,b[7]=g):g=b[7];f=g;if(e){b[8]!==f?(a=j.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:f}),b[8]=f,b[9]=a):a=b[9];f=a}}b[10]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("IGDSCircleCheckPanoOutlineIcon.react"),{alt:d("PolarisFRXWebReportStrings").CHECKMARK_ICON_ALT_TEXT,color:"ig-success",size:48}),b[10]=g):g=b[10];b[11]!==e||b[12]!==f?(a=j.jsx(c("IGDSBox.react"),{marginTop:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_TOP,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:j.jsxs(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",marginTop:6,position:"relative",children:[g,e,f]})}),b[11]=e,b[12]=f,b[13]=a):a=b[13];return a}function m(a){var b=i(6),d=a.reportedOwner,e=a.screenPayload;e=e.response;e=e==null?void 0:e.follow_up_actions;if(!e||e.length===0)return null;var f;b[0]!==a?(f=function(b){k(a,b)},b[0]=a,b[1]=f):f=b[1];var g;b[2]!==e||b[3]!==f||b[4]!==d?(g=j.jsx(c("PolarisFRXReportModalFollowUpActionSection.react"),{followUpActions:e,onSelectFollowupAction:f,reportedOwner:d}),b[2]=e,b[3]=f,b[4]=d,b[5]=g):g=b[5];return g}g["default"]=a}),98);
__d("PolarisFRXInAppEscalationReportDropdownSelector.react",["cx","fbt","IGDSChevronIcon.react","PolarisIGCoreText","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this)||this;b.state={inputText:"",optionsVisible:!1};return b}var d=b.prototype;d.render=function(){var a=this,b=function(){var b=a.props.tags||null;return k.jsx("div",{className:"_ac4n",id:"dropdownOptions",children:b.map(function(a){return k.jsx("span",{className:"_ac4o",onClick:function(){return e(a)},role:"presentation",children:k.jsxs("div",{className:"_ac4p",children:[k.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-text",weight:"normal",zeroMargin:!0,children:a.title?a.title.text:""}),k.jsx("div",{className:"_ac4q"}),k.jsx(c("PolarisIGCoreText").Body,{color:"ig-secondary-text",size:"footnote",weight:"light",zeroMargin:!0,children:a.subtitle?a.subtitle.text:""})]})},a.tag_type)})})},d=function(){a.setState(function(a){return{optionsVisible:!a.optionsVisible}})},e=function(b){a.setState(function(a){return{inputText:b.title?b.title.text:"",optionsVisible:!a.optionsVisible}}),a.props.handleSetReportSubtype(b.tag_type)};return k.jsxs("span",{children:[k.jsxs("span",{className:"_ac4f",id:"optionList",onClick:d,role:"presentation",children:[k.jsxs("label",{className:"_ac4g",children:[k.jsx("span",{className:(this.props.showError===!1&&this.state.inputText===""?"_ac4h":"")+(this.state.inputText!==""?" _ac4i":"")+(this.props.showError===!0?" _ac4l":""),children:this.props.showError===!0?this.props.errorMessage:this.props.placeholder}),k.jsx("span",{className:(this.props.showError===!1?"_ac4j":"")+(this.props.showError===!0?" _ac4k":""),children:this.props.showError?this.props.placeholder:this.state.inputText})]}),k.jsx("div",{className:(this.state.optionsVisible?"":"_ac4r")+(this.state.optionsVisible?" _ac4s":""),children:k.jsx(c("IGDSChevronIcon.react"),{alt:i._("__JHASH__KmLwDGth6wW__JHASH__"),color:"ig-tertiary-text",direction:this.state.optionsVisible?"down":"next",size:17})})]}),this.state.optionsVisible?b():null]})};return b}(k.Component);g["default"]=a}),226);
__d("PolarisFRXInAppEscalationReportTextAreaInput.react",["cx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$1=function(a){var b=a.currentTarget.value;c.setState(function(a){if(b.length>0&&!a.hasContent)return{hasContent:!0};else if(b.length===0)return{hasContent:!1};return{}})};c.state={hasContent:!!b.value,isFocused:!1};return c}var c=b.prototype;c.$2=function(a){this.setState({isFocused:a})};c.render=function(){var a=this;return j.jsxs("div",{className:"_acg-",children:[j.jsx("span",{className:(this.props.showError===!0?"_ach1":"")+(!this.state.isFocused&&!this.state.hasContent&&this.props.showError===!1?" _ach2":"")+((this.state.isFocused||this.state.hasContent)&&this.props.showError===!1?" _ach3":""),children:this.props.showError===!0?this.props.errorMessage:this.props.placeholder}),j.jsx("textarea",{className:(this.props.showError!==!0?"_acg_":"")+(this.props.showError===!0?" _ach0":""),id:this.props.id,name:this.props.name,onBlur:function(){return a.$2(!1)},onChange:this.props.onChange,onClick:function(){return a.$2(!0)},onInput:this.$1,placeholder:this.props.showError?this.props.placeholder:this.state.isFocused||this.state.hasContent?null:this.props.placeholder,value:this.props.value})]})};return b}(j.Component);g["default"]=a}),98);
__d("PolarisFRXReportModalPromptButton.react",["PolarisFRXReportMainButton.react","PolarisFRXWebReportStateSelectors","PolarisReactRedux.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(11),e=d("PolarisReactRedux.react").useSelector(d("PolarisFRXWebReportStateSelectors").getIsFRXScreenRequestProcessing),f=a.actionType,g=a.canSubmitOnClick,h=a.disabled,k=a.href,l=a.label,m=a.onSubmit;a=a.primaryButton;h=h===void 0?!1:h;a=a===void 0?!0:a;h=h||g&&e;var n;b[0]!==g||b[1]!==m||b[2]!==f?(n=function(){g&&m&&m(f)},b[0]=g,b[1]=m,b[2]=f,b[3]=n):n=b[3];e=g&&e;var o;b[4]!==h||b[5]!==k||b[6]!==n||b[7]!==a||b[8]!==e||b[9]!==l?(o=j.jsx(c("PolarisFRXReportMainButton.react"),{disabled:h,href:k,onClick:n,primaryButton:a,spinner:e,text:l}),b[4]=h,b[5]=k,b[6]=n,b[7]=a,b[8]=e,b[9]=l,b[10]=o):o=b[10];return o}g["default"]=a}),98);
__d("PolarisFRXInAppEscalationReportTypeScreenModal.react",["cx","fbt","IGDSBox.react","IGDSDivider.react","IGDSIconButton.react","IGDSVideoChatPanoOutlineIcon.react","IGDSXPanoFilledIcon.react","PolarisFRXInAppEscalationReportDropdownSelector.react","PolarisFRXInAppEscalationReportTextAreaInput.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportModalPromptButton.react","PolarisFRXReportModalRichText.react","PolarisFRXWebReportStrings","PolarisFRXWebReportUtils","PolarisIGCoreText","PolarisImageFileForm.react","Promise","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));e=k;var m=e.useCallback,n=e.useState,o=12;function a(a){var e=a.headerParams,f=a.onClose,g=a.onSubmitScreen;a=a.screenPayload;var h=n(""),k=h[0],p=h[1];h=n([]);var q=h[0],r=h[1];h=n("");var s=h[0],t=h[1];h=n(!1);var u=h[0],v=h[1];h=n(!1);var w=h[0],x=h[1];(function(){return f&&f()});h=d("PolarisFRXWebReportUtils").getPromptButtonRenderPropsFromScreenPayload(a);function y(a){a!=null&&a.length>0&&z(a)}var z=m(function(a){(j||(j=b("Promise"))).all([].slice.call(a).map(function(a){return new(j||(j=b("Promise")))(function(b,c){var d=new FileReader();d.addEventListener("load",function(){b({data:d.result,name:a.name,type:a.type})});d.readAsDataURL(a)})})).then(function(a){return q.concat(a)}).then(function(a){r(a)})},[r,q]),A=function(){return q.length===0?null:l.jsx("div",{children:l.jsx("ul",{className:"_abmy",children:q.map(function(a,b){return l.jsxs("div",{className:"_abmz",children:[l.jsx("div",{className:"_abm-"}),l.jsx("div",{className:"_abm_",children:l.jsx("div",{className:"_abn0",children:l.jsx(c("IGDSIconButton.react"),{onClick:function(){return C(b)},children:l.jsx(c("IGDSXPanoFilledIcon.react"),{alt:i._("__JHASH__MUOkOji-l5l__JHASH__"),color:"web-always-white",size:o})})})}),B(a)]},a.name+b)})})})},B=function(a){return a.type.match(/image\//i)?l.jsx("img",{alt:a.name,className:"_abn1",src:a.data}):l.jsxs("div",{children:[l.jsx(c("IGDSVideoChatPanoOutlineIcon.react"),{}),l.jsx("figcaption",{children:a.name})]})},C=function(a){var b=q.slice(0);b.splice(a,1);r(b)};(function(){var a;return l.jsxs("div",{children:[l.jsxs(a=c("IGDSBox.react"),{direction:"row",marginBottom:4,marginTop:4,position:"relative",children:[l.jsxs(a,{alignContent:"start",position:"relative",children:[l.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-text",weight:"semibold",zeroMargin:!0,children:d("PolarisFRXWebReportStrings").IN_APP_ESCALATIONS_ATTACH_EVIDENCE_TEXT}),l.jsx(c("PolarisIGCoreText").Body2,{color:"ig-secondary-text",zeroMargin:!0,children:d("PolarisFRXWebReportStrings").DEFAULT_OPTIONAL_FIELD_TEXT})]}),l.jsx(a,{marginStart:"auto",position:"relative",children:l.jsx(d("PolarisImageFileForm.react").ImageFileForm,{acceptMimeTypes:["image/*","video/*"],multiple:!0,onFileChange:y,children:l.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-button",textAlign:"right",weight:"semibold",zeroMargin:!0,children:d("PolarisFRXWebReportStrings").IN_APP_ESCALATIONS_ADD_PHOTOS_TEXT})})})]}),l.jsx(a,{position:"relative",children:A()}),l.jsx(c("IGDSDivider.react"),{})]})});var D=function(){return g({attachments:q.map(function(a){return a.data}),evidenceText:k,reportSubtype:s})},E=function(){var a=!0;(s.trim()===""||s===null)&&(x(!0),a=!1);(k.trim()===""||k===null)&&(v(!0),a=!1);return a};h=h?l.jsx(c("PolarisFRXReportModalPromptButton.react"),babelHelpers["extends"]({},h,{onSubmit:function(){E()&&D()}})):null;var F=a.response.report_subtype_tags||[],G=a.response.subtype_selector_header?a.response.subtype_selector_header.text:"";return l.jsxs(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:e,onClose:f,children:[l.jsx(c("PolarisIGCoreText").Body,{color:"ig-primary-text",zeroMargin:!0,children:l.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a.response.header})}),l.jsx("br",{}),l.jsx(c("IGDSDivider.react"),{}),l.jsx(c("IGDSBox.react"),{direction:"column",marginBottom:4,marginTop:4,position:"relative",children:l.jsx(c("PolarisFRXInAppEscalationReportDropdownSelector.react"),{"aria-label":"select subtype of report",errorMessage:d("PolarisFRXWebReportStrings").IN_APP_ESCALATIONS_ERROR_SELECT_SUBTYPE_ERROR_TEXT,handleSetReportSubtype:function(a){t(a!=null?a:""),x(!1)},placeholder:G,showError:w,tags:F})}),l.jsx(c("IGDSDivider.react"),{}),l.jsx(c("IGDSBox.react"),{flex:"grow",marginBottom:4,marginTop:4,position:"relative",children:l.jsx(c("PolarisFRXInAppEscalationReportTextAreaInput.react"),{"aria-label":"evidence_text",errorMessage:d("PolarisFRXWebReportStrings").IN_APP_ESCALATIONS_PLEASE_EXPLAIN_ERROR_TEXT,id:"evidence_input",name:"evidence_text",onChange:function(a){p(a.target.value),a.target.value.trim()!==""&&v(!1)},placeholder:d("PolarisFRXWebReportStrings").IN_APP_ESCALATIONS_EXPLAIN_PROMPT_TEXT,showError:u,value:k})}),l.jsx(c("IGDSDivider.react"),{}),l.jsx(c("IGDSBox.react"),{marginBottom:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_BOTTOM,marginTop:4,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative"}),h]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("PolarisFRXReportConfirmationScreenModal.react",["IGDSBox.react","IGDSCircleCheckPanoOutlineIcon.react","IGDSText.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportMainButton.react","PolarisFRXReportModalFollowUpActionSection.react","PolarisFRXReportModalRichText.react","PolarisFRXWebReportAPIUtils","PolarisFRXWebReportStrings","PolarisGenericStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function k(a,b){b=b.action_type;if(b==null)return;a=a.screenPayload.response;d("PolarisFRXWebReportAPIUtils").handleFRXGuidedAction({action_type:b,context:a==null?void 0:a.context})}function a(a){var b=i(14),e=a.headerParams,f=a.onClose,g;b[0]!==f?(g=function(){return f&&f()},b[0]=f,b[1]=g):g=b[1];g=g;var h;b[2]!==a?(h=j.jsx(l,babelHelpers["extends"]({},a)),b[2]=a,b[3]=h):h=b[3];var k;b[4]!==a?(k=j.jsx(m,babelHelpers["extends"]({},a)),b[4]=a,b[5]=k):k=b[5];b[6]!==g?(a=j.jsx(c("IGDSBox.react"),{marginBottom:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_BOTTOM,marginTop:4,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:j.jsx(c("PolarisFRXReportMainButton.react"),{"data-testid":void 0,onClick:g,text:d("PolarisGenericStrings").CLOSE_TEXT})}),b[6]=g,b[7]=a):a=b[7];var n;b[8]!==e||b[9]!==g||b[10]!==h||b[11]!==k||b[12]!==a?(n=j.jsxs(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{disableDefaultBodyPaddingMargin:!0,headerParams:e,onClose:g,children:[h,k,a]}),b[8]=e,b[9]=g,b[10]=h,b[11]=k,b[12]=a,b[13]=n):n=b[13];return n}function l(a){var b=i(14);a=a.screenPayload;var e;b[0]!==a?(e=a||{},b[0]=a,b[1]=e):e=b[1];a=e;e=a.response;b[2]!==e?(a=e||{},b[2]=e,b[3]=a):a=b[3];e=a;a=e.follow_up_actions_title;e=e.subtitle;var f;b[4]!==e?(f=e?j.jsx(c("IGDSBox.react"),{alignItems:"start",marginTop:6,position:"relative",children:j.jsx(c("IGDSText.react").Section,{textAlign:"center",zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:e})})}):null,b[4]=e,b[5]=f):f=b[5];e=f;f=null;if(a){var g;b[6]!==a?(g=j.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})}),b[6]=a,b[7]=g):g=b[7];f=g;if(e){b[8]!==f?(a=j.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:f}),b[8]=f,b[9]=a):a=b[9];f=a}}b[10]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("IGDSCircleCheckPanoOutlineIcon.react"),{alt:d("PolarisFRXWebReportStrings").CHECKMARK_ICON_ALT_TEXT,color:"ig-success",size:48}),b[10]=g):g=b[10];b[11]!==e||b[12]!==f?(a=j.jsx(c("IGDSBox.react"),{marginTop:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_TOP,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:j.jsxs(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",marginTop:6,position:"relative",children:[g,e,f]})}),b[11]=e,b[12]=f,b[13]=a):a=b[13];return a}function m(a){var b=i(6),d=a.reportedOwner,e=a.screenPayload;e=e.response;e=e==null?void 0:e.follow_up_actions;if(!e||e.length===0)return null;var f;b[0]!==a?(f=function(b){k(a,b)},b[0]=a,b[1]=f):f=b[1];var g;b[2]!==e||b[3]!==f||b[4]!==d?(g=j.jsx(c("PolarisFRXReportModalFollowUpActionSection.react"),{followUpActions:e,onSelectFollowupAction:f,reportedOwner:d}),b[2]=e,b[3]=f,b[4]=d,b[5]=g):g=b[5];return g}g["default"]=a}),98);
__d("PolarisFRXReportModalScreenContentSectionList.react",["IGDSBox.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k=4;function a(a){var b=i(8),d=a.sections;a=a.marginBetween;var e=a===void 0?k:a;if(b[0]!==d||b[1]!==e){b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){return!!a},b[3]=a):a=b[3];var f;b[4]!==e?(f=function(a,b){var d=b>0&&e!==0?j.jsx(c("IGDSBox.react"),{marginTop:e,position:"relative"}):null;return j.jsxs(j.Fragment,{children:[d,a]},"section-"+b)},b[4]=e,b[5]=f):f=b[5];a=d.filter(a).map(f);b[0]=d;b[1]=e;b[2]=a}else a=b[2];f=a;b[6]!==f?(d=j.jsx(j.Fragment,{children:f}),b[6]=f,b[7]=d):d=b[7];return d}g["default"]=a}),98);
__d("PolarisFRXReportModalInterstitialScreen.react",["IGDSBox.react","IGDSText.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportModalPromptButton.react","PolarisFRXReportModalRichText.react","PolarisFRXReportModalScreenContentSectionList.react","PolarisFRXWebReportUtils","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k=2,l=100;function a(a){var b=i(24),e=a.headerParams,f=a.onClose,g=a.screenPayload,h=g.response,k;b[0]!==h?(k=h||{},b[0]=h,b[1]=k):k=b[1];h=k;k=h.body;var p=h.image_url,q=h.paragraphs,r=h.subtitle;h=h.tip_number;q=q?q[0]:null;h=k||h===3?l:l*2;var s;b[2]!==p||b[3]!==h?(s=c("isStringNullOrEmpty")(p)?null:j.jsx(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",position:"relative",children:j.jsx("img",{alt:"",height:l,src:p,width:h})}),b[2]=p,b[3]=h,b[4]=s):s=b[4];p=s;b[5]!==r?(h=r?j.jsx(m,{subtitle:r}):null,b[5]=r,b[6]=h):h=b[6];s=h;b[7]!==k||b[8]!==q?(r=k?j.jsx(o,{body:k}):q?j.jsx(o,{body:q}):null,b[7]=k,b[8]=q,b[9]=r):r=b[9];h=r;b[10]!==g?(k=d("PolarisFRXWebReportUtils").getPromptButtonRenderPropsFromScreenPayload(g),b[10]=g,b[11]=k):k=b[11];q=k;b[12]!==q||b[13]!==a?(r=q?j.jsx(n,{parentProps:a,promptButtonProps:q}):null,b[12]=q,b[13]=a,b[14]=r):r=b[14];g=r;b[15]!==p||b[16]!==s||b[17]!==h||b[18]!==g?(k=j.jsx(c("PolarisFRXReportModalScreenContentSectionList.react"),{sections:[p,s,h,g]}),b[15]=p,b[16]=s,b[17]=h,b[18]=g,b[19]=k):k=b[19];b[20]!==e||b[21]!==f||b[22]!==k?(q=j.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:e,onClose:f,children:k}),b[20]=e,b[21]=f,b[22]=k,b[23]=q):q=b[23];return q}function m(a){var b=i(2);a=a.subtitle;var d;b[0]!==a?(d=j.jsx(c("IGDSBox.react"),{alignItems:"start",marginTop:k,position:"relative",children:j.jsx(c("IGDSText.react").Section,{textAlign:"center",children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})})}),b[0]=a,b[1]=d):d=b[1];return d}function n(a){var b=i(6),d=a.parentProps;a=a.promptButtonProps;var e=d.onSubmitScreen;d=d.screenPayload;d=d.response;var f=d.tip_number;b[0]!==e||b[1]!==f?(d=function(a){return e({selectedPromptButtonActionType:a,tipNumber:f})},b[0]=e,b[1]=f,b[2]=d):d=b[2];var g;b[3]!==a||b[4]!==d?(g=j.jsx(c("PolarisFRXReportModalPromptButton.react"),babelHelpers["extends"]({},a,{onSubmit:d})),b[3]=a,b[4]=d,b[5]=g):g=b[5];return g}function o(a){var b=i(4);a=a.body;var d;b[0]!==a?(d=a?j.jsx(c("IGDSBox.react"),{position:"relative",children:j.jsx("div",{role:"listitem",children:j.jsx(c("IGDSBox.react"),{direction:"row",position:"relative",children:j.jsx(c("IGDSBox.react"),{flex:"grow",position:"relative",children:j.jsx(c("IGDSText.react").Body,{color:"secondaryText",textAlign:"center",zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})})})})})}):null,b[0]=a,b[1]=d):d=b[1];a=d;b[2]!==a?(d=j.jsx(c("IGDSBox.react"),{position:"relative",children:a}),b[2]=a,b[3]=d):d=b[3];return d}g["default"]=a}),98);
__d("PolarisFRXReportModalPolicyEducationSection.react",["IGDSBox.react","IGDSText.react","PolarisFRXReportModalRichText.react","PolarisFRXReportModalScreenContentSectionList.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k=2,l=1,m="\u2022";function n(a,b){a=a.first_paragraph;var d=[];[a].forEach(function(a){if(!a||(a==null?void 0:a.text)==null||(a==null?void 0:a.text)==="")return;d.push(j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",weight:b?"semibold":"normal",zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})}))});return d}function o(a){a=a.policies;a=a===void 0?[]:a;if(!a||a.length===0)return[];var b=[];a.forEach(function(a){a=a.title;if(!a)return;b.push(j.jsx("div",{role:"listitem",children:j.jsxs(c("IGDSBox.react"),{direction:"row",position:"relative",children:[j.jsx(c("IGDSBox.react"),{marginEnd:2,position:"relative",children:j.jsx("div",{"aria-hidden":"true",children:j.jsx(c("IGDSText.react").Body2,{color:"secondaryText",zeroMargin:!0,children:m})})}),j.jsx(c("IGDSBox.react"),{flex:"grow",position:"relative",children:j.jsx(c("IGDSText.react").Body2,{color:"secondaryText",zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})})})]})}))});return b}function a(a){var b=i(22);a=a.policyEducation;var d=a.second_paragraph,e=a.title,f;b[0]!==e?(f=e?j.jsx(c("IGDSText.react").Section,{zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:e})}):null,b[0]=e,b[1]=f):f=b[1];e=f;b[2]!==d||b[3]!==e?(f=d?j.jsxs(c("IGDSBox.react"),{marginTop:e?1:0,position:"relative",children:[j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",weight:"normal",zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:d})}),j.jsx(c("IGDSBox.react"),{height:e?2:10,position:"relative"})]}):null,b[2]=d,b[3]=e,b[4]=f):f=b[4];d=f;b[5]!==a?(f=o(a),b[5]=a,b[6]=f):f=b[6];f=f;var g=f.length>0,h;b[7]!==a||b[8]!==g?(h=n(a,g),b[7]=a,b[8]=g,b[9]=h):h=b[9];a=h;b[10]!==a||b[11]!==e?(g=a.length>0?j.jsx(c("IGDSBox.react"),{marginTop:e?k:0,position:"relative",children:j.jsx(c("PolarisFRXReportModalScreenContentSectionList.react"),{marginBetween:k,sections:a})}):null,b[10]=a,b[11]=e,b[12]=g):g=b[12];h=g;b[13]!==f||b[14]!==e||b[15]!==h?(a=f.length>0?j.jsx(c("IGDSBox.react"),{marginTop:e||h?l:0,position:"relative",children:j.jsx("div",{role:"list",children:j.jsx(c("PolarisFRXReportModalScreenContentSectionList.react"),{marginBetween:l,sections:f})})}):null,b[13]=f,b[14]=e,b[15]=h,b[16]=a):a=b[16];g=a;b[17]!==e||b[18]!==d||b[19]!==h||b[20]!==g?(f=j.jsxs(c("IGDSBox.react"),{position:"relative",children:[e,d,h,g]}),b[17]=e,b[18]=d,b[19]=h,b[20]=g,b[21]=f):f=b[21];return f}g["default"]=a}),98);
__d("PolarisFRXReportPolicyEducationScreenModal.react",["IGDSBox.react","IGDSText.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportModalPolicyEducationSection.react","PolarisFRXReportModalPromptButton.react","PolarisFRXReportModalRichText.react","PolarisFRXReportModalScreenContentSectionList.react","PolarisFRXWebReportUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(26),e=a.headerParams,f=a.onClose,g=a.screenPayload,h=g.response,m;b[0]!==h?(m=h||{},b[0]=h,b[1]=m):m=b[1];h=m;m=h.policy_education;h=h.subtitle;var n;b[2]!==h?(n=h?j.jsx(k,{subtitle:h}):null,b[2]=h,b[3]=n):n=b[3];h=n;b[4]!==m?(n=m?j.jsx(c("PolarisFRXReportModalPolicyEducationSection.react"),{policyEducation:m}):null,b[4]=m,b[5]=n):n=b[5];n=n;var o;b[6]!==g?(o=d("PolarisFRXWebReportUtils").getPromptButtonRenderPropsFromScreenPayload(g),b[6]=g,b[7]=o):o=b[7];g=o;b[8]!==g||b[9]!==a?(o=g?j.jsx(l,{parentProps:a,promptButtonProps:g}):null,b[8]=g,b[9]=a,b[10]=o):o=b[10];g=o;a=null;if(m){o=m.education_button;if(o){m=(m=(m=o.title)==null?void 0:m.text)!=null?m:"";var p;b[11]!==o.action_type||b[12]!==o.url||b[13]!==m?(p={actionType:o.action_type,canSubmitOnClick:!1,href:o.url,label:m,primaryButton:!1},b[11]=o.action_type,b[12]=o.url,b[13]=m,b[14]=p):p=b[14];o=p;b[15]!==o?(m=j.jsx(c("PolarisFRXReportModalPromptButton.react"),babelHelpers["extends"]({},o)),b[15]=o,b[16]=m):m=b[16];a=m}}b[17]!==h||b[18]!==n||b[19]!==g||b[20]!==a?(p=j.jsx(c("PolarisFRXReportModalScreenContentSectionList.react"),{sections:[h,n,g,a]}),b[17]=h,b[18]=n,b[19]=g,b[20]=a,b[21]=p):p=b[21];b[22]!==e||b[23]!==f||b[24]!==p?(o=j.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:e,onClose:f,children:p}),b[22]=e,b[23]=f,b[24]=p,b[25]=o):o=b[25];return o}function k(a){var b=i(2);a=a.subtitle;var d;b[0]!==a?(d=j.jsx(c("IGDSBox.react"),{alignItems:"start",marginTop:2,position:"relative",children:j.jsx(c("IGDSText.react").Section,{children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})})}),b[0]=a,b[1]=d):d=b[1];return d}function l(a){var b=i(5),d=a.parentProps;a=a.promptButtonProps;var e=d.onSubmitScreen;b[0]!==e?(d=function(a){return e(a)},b[0]=e,b[1]=d):d=b[1];var f;b[2]!==a||b[3]!==d?(f=j.jsx(c("PolarisFRXReportModalPromptButton.react"),babelHelpers["extends"]({},a,{onSubmit:d})),b[2]=a,b[3]=d,b[4]=f):f=b[4];return f}g["default"]=a}),98);
__d("PolarisReportSearchBoxContainer.react",["PolarisMobileSearchBox.react","PolarisReactRedux.react","PolarisSearchActions","polarisSearchSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){var b=a.search;a=d("polarisSearchSelectors").getCurrentSearchContent(a);return{currentTab:b.currentSearchTab,discoverToken:"",loading:a.loading,rankToken:a.rankToken,results:a.results,searchedForQuery:a.searchedForQuery,selectedIndex:a.selectedIndex,suggested:b.suggested}}function b(a){return{onClearSearch:function(){a(d("PolarisSearchActions").clearSearch())},onNavigateToResult:function(b,c,e){a(d("PolarisSearchActions").navigateToResult(b,c,e))},onSearch:function(b,c,e,f,g){a(d("PolarisSearchActions").search(b,c,e))},onSelectResult:function(b,c){a(d("PolarisSearchActions").selectResult(b,c))}}}e=d("PolarisReactRedux.react").connect(a,b)(c("PolarisMobileSearchBox.react"));g["default"]=e}),98);
__d("PolarisReportButton.react",["PolarisIGCoreButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(5),d=a.children,e=a.color,f=a.disabled;a=a.onClick;e=e===void 0?"ig-primary-button":e;var g;b[0]!==e||b[1]!==f||b[2]!==a||b[3]!==d?(g=j.jsx(c("PolarisIGCoreButton.react"),{color:e,disabled:f,fullWidth:!0,large:!0,onClick:a,children:d}),b[0]=e,b[1]=f,b[2]=a,b[3]=d,b[4]=g):g=b[4];return g}g["default"]=a}),98);
__d("PolarisReportUserImpersonationListItem.react",["IGDSBox.react","IGDSListItem.react","IGDSText.react","PolarisAssetManagerGlyphMapping","PolarisGenericStrings","PolarisIGCoreIcon.react","PolarisReportButton.react","PolarisReportStrings","PolarisUserAvatar.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onReport()},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){var a=this.props.result;return i.jsx(c("IGDSListItem.react"),{addOnEnd:i.jsx(c("PolarisReportButton.react"),{onClick:this.$1,children:d("PolarisReportStrings").nextText}),addOnStart:i.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:a.profilePictureUrl,size:44,username:a.username}),subtitle:a.fullName,title:i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"block",children:[i.jsx(c("IGDSText.react").BodyEmphasized,{breakWord:!0,children:a.username}),a.isVerified?i.jsx(c("IGDSBox.react"),{display:"inlineBlock",marginStart:1,children:i.jsx(c("PolarisIGCoreIcon.react"),{alt:d("PolarisGenericStrings").VERIFIED_TEXT,icon:d("PolarisAssetManagerGlyphMapping").ICONS.VERIFIED_SMALL})}):null]})})};return b}(i.Component);g.ReportUserImpersonationListItem=a}),98);
__d("PolarisReportUserImpersonationSearchBox.react",["cx","IGDSBox.react","PolarisReportSearchBoxContainer.react","PolarisReportUserImpersonationListItem.react","PolarisSearchConstants","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(23),e=a.fromWebview,f=a.onSelectVictim,g=a.reportedUserID,h=a.searchBoxPlaceHolder,i=a.userSearchResults,l=a.verifiedOnly;a=e===void 0?!1:e;b[0]!==h?(e=k.jsx(c("PolarisReportSearchBoxContainer.react"),{analyticsContext:void 0,disableResultKeyboardNav:!0,hideCancelButton:!0,isActive:!0,placeholder:h,searchContext:d("PolarisSearchConstants").SEARCH_CONTEXT.USER,useHistory:!0}),b[0]=h,b[1]=e):e=b[1];h=a?0:2;var m;b[2]!==a?(m=a?"_ac68":"",b[2]=a,b[3]=m):m=b[3];if(b[4]!==l||b[5]!==g||b[6]!==i||b[7]!==f){b[9]!==l||b[10]!==g?(a=function(a){return l?a.isVerified&&a.pk!==g.toString():a.pk!==g.toString()},b[9]=l,b[10]=g,b[11]=a):a=b[11];var n;b[12]!==f?(n=function(a,b){return k.jsx(d("PolarisReportUserImpersonationListItem.react").ReportUserImpersonationListItem,{onReport:function(){return f(a)},result:a},b)},b[12]=f,b[13]=n):n=b[13];a=i.filter(a).map(n);b[4]=l;b[5]=g;b[6]=i;b[7]=f;b[8]=a}else a=b[8];b[14]!==m||b[15]!==a?(n=k.jsx("div",{className:m,children:a}),b[14]=m,b[15]=a,b[16]=n):n=b[16];b[17]!==h||b[18]!==n?(i=k.jsx(c("IGDSBox.react"),{color:"primaryBackground",marginTop:h,position:"relative",children:n}),b[17]=h,b[18]=n,b[19]=i):i=b[19];b[20]!==e||b[21]!==i?(m=k.jsxs("div",{children:[e,i]}),b[20]=e,b[21]=i,b[22]=m):m=b[22];return m}g["default"]=a}),98);
__d("PolarisFRXReportSelectVictimScreenModal.react",["IGDSBox.react","IGDSText.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportModalRichText.react","PolarisFRXReportModalScreenContentSectionList.react","PolarisReactRedux.react","PolarisReportConstants","PolarisReportUserImpersonationSearchBox.react","PolarisSearchActions","PolarisSearchConstants","polarisSearchSelectors","react","useJSON"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.unstable_useMemoCache;function l(a){a=a.allSearchResults;var b=[];for(var c=0;c<a.length;c++){var d=a[c];d.type==="USER_RESULT"&&b.push(d)}return b}function m(a){var b=k(3),c=a.onClearSearch,d;b[0]!==c?(a=function(){return function(){c()}},d=[c],b[0]=c,b[1]=a,b[2]=d):(a=b[1],d=b[2]);j(a,d)}function a(a){m(a);var b=a.headerParams,e=a.onClose,f=a.onSelectVictim,g=a.reportedOwner,h=a.screenPayload;h=h.response;var j=h||{};j=j.subtitle;h=h.context;g=g.id;j=j?i.jsx(c("IGDSBox.react"),{marginTop:2,position:"relative",children:i.jsx(c("IGDSText.react").BodyEmphasized,{children:i.jsx(c("PolarisFRXReportModalRichText.react"),{richText:j})})}):null;try{h=c("useJSON")((h=h)!=null?h:null);h=h==null?void 0:h.tags;h=(h==null?void 0:h.includes(d("PolarisReportConstants").IGUserImpersonationSomeoneIFollowTag.tag_type))===!0}catch(a){h=!1}h=!h;g=i.jsx(c("PolarisReportUserImpersonationSearchBox.react"),{onSelectVictim:function(a){return f(a)},reportedUserID:g,searchBoxPlaceHolder:d("PolarisSearchConstants").IMPERSONATION_SEARCH_TEXT,userSearchResults:l(a),verifiedOnly:h});return i.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:b,onClose:function(){return e&&e()},children:i.jsx(c("PolarisFRXReportModalScreenContentSectionList.react"),{sections:[j,g]})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=d("polarisSearchSelectors").getCurrentSearchContent(a);a=a.results;return{allSearchResults:a}}e={onClearSearch:d("PolarisSearchActions").clearSearch};f=d("PolarisReactRedux.react").connect(b,e)(a);g["default"]=f}),98);
__d("InstagramAdHideResponseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3449");b=d("FalcoLoggerInternal").create("instagram_ad_hide_response",a);e=b;g["default"]=e}),98);
__d("PolarisFRXReportTagSelectionScreenModal.react",["IGDSBox.react","IGDSText.react","InstagramAdHideResponseFalcoEvent","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportModalOptionList.react","PolarisFRXReportModalOptionListItem.react","PolarisFRXReportModalPolicyEducationSection.react","PolarisFRXReportModalPromptButton.react","PolarisFRXReportModalRichText.react","PolarisFRXReportModalScreenContentSectionList.react","PolarisFRXWebReportAPIUtils","PolarisFRXWebReportConstants","PolarisFRXWebReportStateSelectors","PolarisFRXWebReportUtils","PolarisReactRedux.react","PolarisReportConstants","gkx","goUriOnNewWindow","isEmpty","isStringNullOrEmpty","polarisAdsSelectors.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useEffect,l=e.useRef,m=e.useState,n=null,o="";function p(a,b,e,f){var g=a.isFRXScreenRequestProcessing,h=a.onSubmitScreen;a=a.screenPayload.response;var i=b.setStateSelectedTagTitle;b=b.setStateSelectedTagType;var j=e.tag_type,k=e.title;k=(k=k==null?void 0:k.text)!=null?k:"";if(c("gkx")("25382")&&e.tag_click_override_url!=null){c("goUriOnNewWindow")(e.tag_click_override_url);return}if(g||j==null||j==="")return;b(j);i(k);d("PolarisFRXWebReportAPIUtils").logFRXTagSelected({context:a==null?void 0:a.context,selected_tag_type:j});h&&!f&&h({selectedPromptButtonActionType:null,selectedTagTitles:[k],selectedTagTypes:[j]})}function q(a,b,d){a=a.onSubmitScreen;var e=b.selectedTagTitle;b=b.selectedTagType;a&&!c("isStringNullOrEmpty")(b)&&a({selectedPromptButtonActionType:d,selectedTagTitles:[e],selectedTagTypes:[b]})}function r(){var a=m(n),b=a[0];a=a[1];var c=m(o),d=c[0];c=c[1];return{selectedTagTitle:d,selectedTagType:b,setStateSelectedTagTitle:c,setStateSelectedTagType:a}}function s(a,b){var c=b.setStateSelectedTagTitle,d=b.setStateSelectedTagType,e=a.screenPayload.frxScreenRequestID,f=l(),g=f.current;k(function(){f.current=e,e!==g&&(d(n),c(o))},[e,g,d,c])}function a(a){var b=r();s(a,b);var c=a.headerParams,e=a.onClose;return j.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{disableDefaultBodyPaddingMargin:!0,headerParams:c,onClose:e,children:j.jsx(t,{parentProps:a,parentState:b})})}a.displayName=a.name+" [from "+f.id+"]";function t(a){var b,e=a.parentProps;a=a.parentState;var f=e.screenPayload,g=f.response;g=g||{};var i=g.policy_education,k=g.report_tags,l=g.second_subtitle;g=g.subtitle;b=g&&!(h||(h=c("isEmpty")))((b=g.text)==null?void 0:b.trim())?j.jsx(u,{subtitle:g}):null;g=l&&!(h||(h=c("isEmpty")))((g=l.text)==null?void 0:g.trim())?j.jsx(v,{secondSubtitle:l}):null;l=k&&k.length>0?j.jsx(w,{parentProps:e,parentState:a,reportTags:k}):null;k=i?j.jsx(x,{policyEducation:i}):null;i=d("PolarisFRXWebReportUtils").getPromptButtonRenderPropsFromScreenPayload(f);f=i?j.jsx(y,{parentProps:e,parentState:a,promptButtonProps:i}):null;e=b!=null?d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_TOP:0;a=k||f?d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_MARGIN_BOTTOM:0;return j.jsx(c("IGDSBox.react"),{marginBottom:a,marginTop:e,position:"relative",children:j.jsx(c("PolarisFRXReportModalScreenContentSectionList.react"),{sections:[b,g,l,k,f]})})}t.displayName=t.name+" [from "+f.id+"]";function u(a){a=a.subtitle;return j.jsx(c("IGDSBox.react"),{alignItems:"start",marginTop:2,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:j.jsx(c("IGDSText.react").Section,{children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})})})}u.displayName=u.name+" [from "+f.id+"]";function v(a){a=a.secondSubtitle;return j.jsx(c("IGDSBox.react"),{marginTop:0,paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",weight:"normal",zeroMargin:!0,children:j.jsx(c("PolarisFRXReportModalRichText.react"),{richText:a})})})}v.displayName=v.name+" [from "+f.id+"]";function w(a){var b=a.parentProps,e=a.parentState;a=a.reportTags;var f=b.frxMetadata,g=b.isFRXScreenRequestProcessing,h=b.onSelectReportAd,i=b.screenPayload.response;i=i||{};i=i.style;var k=e.selectedTagType,l=i===d("PolarisFRXWebReportConstants").FRX_TAG_SELECTION_STYLE_INTS.RADIO_BUTTONS,m=d("polarisAdsSelectors.react").useFRXReportAdLoggingParams(f.object_id,f.location);i=a.map(function(a,i){var n=a.tag_type,o=a.title,q=k===n,r=g&&q&&!l,s=l?d("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_VARIANTS.RADIO:d("PolarisFRXReportModalOptionListItem.react").OPTION_LIST_ITEM_VARIANTS.BUTTON;i="tag-"+i;return j.jsx(d("PolarisFRXReportModalOptionListItem.react").FRXReportModalOptionListItem,{"data-testid":void 0,loading:r,onSelect:function(){f.object_type===d("PolarisReportConstants").FRXObjectType.AD&&(h!=null?h(n):c("InstagramAdHideResponseFalcoEvent").log(function(){return babelHelpers["extends"]({ad_id:f.object_id,response:n},m)})),p(b,e,a,l)},selected:q,value:i,variant:s,children:o==null?void 0:o.text},i)});return j.jsx(c("PolarisFRXReportModalOptionList.react"),{asRadio:l,children:i})}w.displayName=w.name+" [from "+f.id+"]";function x(a){a=a.policyEducation;return j.jsx(c("IGDSBox.react"),{paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:j.jsx(c("PolarisFRXReportModalPolicyEducationSection.react"),{policyEducation:a})})}x.displayName=x.name+" [from "+f.id+"]";function y(a){var b=a.parentProps,e=a.parentState;a=a.promptButtonProps;var f=e.selectedTagType;return j.jsx(c("IGDSBox.react"),{paddingX:d("PolarisFRXReportBaseScreenModal.react").DEFAULT_BODY_PADDING_X,position:"relative",children:j.jsx(c("PolarisFRXReportModalPromptButton.react"),babelHelpers["extends"]({},a,{disabled:!f,onSubmit:function(a){return q(b,e,a)}}))})}y.displayName=y.name+" [from "+f.id+"]";function b(a){return{isFRXScreenRequestProcessing:d("PolarisFRXWebReportStateSelectors").getIsFRXScreenRequestProcessing(a)}}e=d("PolarisReactRedux.react").connect(b,null)(a);g["default"]=e}),98);
__d("PolarisFRXReportUtils",[],(function(a,b,c,d,e,f){"use strict";var g=["ig_ad_ip_violation","ig_ad_ip_violation","ig_intellectual_property_v1","ig_ar_effect_ip_violation","ig_intellectual_property_direct_message","ig_hashtag_intellectual_property","ig_ad_spam","ig_spam_v3","ig_spam_direct_message","ig_spam","ig_bullying_or_harassment_comment_v3","ig_bullying_or_harassment_direct_message","ig_hashtag_bullying_or_harassment","ig_ar_effect_harassment_or_bullying","ig_harassment_or_bullying","ig_nudity_v2","ig_nudity_direct_message","ig_clips_audio_page_nudity","ig_clips_effect_page_nudity","ig_clips_prompt_page_nudity","ig_hashtag_nudity","ig_ar_effect_nudity_or_pornography","ig_nudity","ig_ad_sexually_inappropriate","ig_iab_sexually_inappropriate","product_sexualized_content_or_adult_products","bi_commerce_sexualized_or_adult_content","inappropriate_content","ig_commerce_ugc_graphic_content","bi_commerce_abusive_or_harmful","ig_violence_parent","ig_ad_violent_prohibited","ig_ar_effect_violence","ig_violence_direct_message","ig_hashtag_violence","ig_violence_v3","ig_violence","ig_dangerous_org_or_individual","ig_hate_speech_v3","ig_ar_effect_hate_speech","ig_hate_speech_direct_message","ig_hashtag_hate_speech","ig_hate_speech","ig_i_dont_like_it_v3","ig_ar_effect_i_dont_like_it","ig_i_dont_like_it_direct_message","ig_ad_offensive","ig_self_injury_v3","ig_ar_effect_self_injury","ig_hashtag_self_injury","ig_self_injury","ig_self_injury_direct_message","ig_ad_scam_misleading","ig_product_scam_fraud_v2","ig_product_scam_fraud_reportable","ig_iab_scam_misleading","bi_commerce_misleading_or_possible_scam","ig_sale_of_illegal_or_regulated_goods_v3","ig_sale_of_illegal_or_regulated_goods_direct_message","ig_sale_of_illegal_or_regulated_goods_v2","ig_ar_effect_drugs","ig_ar_effect_firearms","bi_commerce_alcohol_tobacco_and_weapons","bi_commerce_animal_products_or_sales","ig_false_news","ig_ar_effect_false_information","ig_report_report_as_unlawful","bi_commerce_discriminatory_listing","discrimination","ig_something_else","something_else","ig_ad_political","ig_escalations_create_detailed_report","ig_eating_disorder","ig_nft_metadata_mismatch","bi_commerce_buying_or_selling","ig_commerce_ugc_manipulation","ig_commerce_ugc_irrelevance","ig_commerce_review_irrelevant","ig_commerce_fake_review","ig_commerce_product_answer_irrelevant","ig_commerce_product_question_irrelevant","ig_user_impersonation","ig_unwanted_joiner","ig_iab_excessive_ads","ig_iab_other","page_place_inaccurate_info","bi_commerce_service_or_job","product_no_intent_to_sale","bi_commerce_appears_to_be_counterfeit","bi_commerce_health_or_wellness","bi_commerce_other_prohibited","bi_commerce_no_service_offered","bi_commerce_health_or_medical","information_misuse","dont_recognize_activity"];function a(a){return g.includes(a)}f.shouldUseTagType=a}),66);
__d("PolarisFRXReportScreenModal.react",["IGDSBox.react","IGDSSpinner.react","PolarisFRXInAppEscalationReportTypeScreenModal.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportConfirmationScreenModal.react","PolarisFRXReportModalInterstitialScreen.react","PolarisFRXReportPolicyEducationScreenModal.react","PolarisFRXReportSelectVictimScreenModal.react","PolarisFRXReportTagSelectionScreenModal.react","PolarisFRXReportUtils","PolarisFRXWebReportActions","PolarisFRXWebReportConstants","PolarisFRXWebReportStateSelectors","PolarisFRXWebReportStrings","PolarisFRXWebReportUtils","PolarisReactRedux.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useState,k=e.unstable_useMemoCache;function l(a){a.onClose&&a.onClose()}function m(a){var b=a.isFRXScreenRequestProcessing;a=a.onGoBackOneFRXScreen;a&&!b&&a()}function n(a,b){var c=a.frxMetadata,e=a.isFRXScreenRequestProcessing,f=a.onRequestNextFRXScreen,g=a.onStoreReportedTagTitle,h=a.reportedTagTitle;a=a.screenPayload;if(e)return;e=a||{};a=e.response;e=e.type;a=a||{};a=a.context;var i=b==null?void 0:b.selectedTagTypes;i=i!=null&&i.length>0?i[0]:null;var j=b==null?void 0:b.selectedTagTitles;j=j!=null&&j.length>0?j[0]:"";h===""&&i!=null&&d("PolarisFRXReportUtils").shouldUseTagType(i)&&j!==""&&g(j);h=d("PolarisFRXWebReportUtils").getNextFRXScreenInputRequestTypeFromScreenPayloadType(e);if(!h)return;f({context:a,frxPromptRequestType:h,metadata:c,optionalParams:b})}function a(a){var b=k(75),e=a.frxMetadata,f=a.hasMountedScreenFlow,g=a.hasPreviousScreens,h=a.isFRXScreenRequestProcessing,q=a.onSelectReportAd,r=a.reportedOwner,s=a.screenPayload,t=a.showFRXDropOffSurveyModal,u=a.threadId,v;b[0]!==a?(v=function(){return m(a)},b[0]=a,b[1]=v):v=b[1];var w;b[2]!==s||b[3]!==g||b[4]!==v?(w=d("PolarisFRXReportBaseScreenModal.react").getDefaultScreenModalHeaderParamsFromScreenPayload(s,g,v),b[2]=s,b[3]=g,b[4]=v,b[5]=w):w=b[5];g=w;v=j(!1);w=v[0];var x=v[1];b[6]!==a?(v=function(){x(!0),l(a)},b[6]=a,b[7]=v):v=b[7];var y=v;b[8]!==g||b[9]!==y?(v=i.jsx(p,{headerParams:g,onClose:y}),b[8]=g,b[9]=y,b[10]=v):v=b[10];v=v;if(!s){if(h||!f||w){b[11]!==g||b[12]!==y?(h=i.jsx(o,{headerParams:g,onClose:y}),b[11]=g,b[12]=y,b[13]=h):h=b[13];return h}return v}f=s.type;switch(f){case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.TAG_SELECTION:b[14]!==y||b[15]!==t?(w=function(){y(),t!=null&&t()},b[14]=y,b[15]=t,b[16]=w):w=b[16];b[17]!==a?(h=function(b){n(a,babelHelpers["extends"]({},b))},b[17]=a,b[18]=h):h=b[18];b[19]!==e||b[20]!==g||b[21]!==w||b[22]!==q||b[23]!==h||b[24]!==s?(f=i.jsx(c("PolarisFRXReportTagSelectionScreenModal.react"),{frxMetadata:e,headerParams:g,onClose:w,onSelectReportAd:q,onSubmitScreen:h,screenPayload:s}),b[19]=e,b[20]=g,b[21]=w,b[22]=q,b[23]=h,b[24]=s,b[25]=f):f=b[25];return f;case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.POLICY_EDUCATION:b[26]!==y||b[27]!==t?(e=function(){y(),t!=null&&t()},b[26]=y,b[27]=t,b[28]=e):e=b[28];b[29]!==a||b[30]!==r.id||b[31]!==u?(w=function(b){n(a,{responsible_id:r.id,selectedPromptButtonActionType:b,thread_id:u})},b[29]=a,b[30]=r.id,b[31]=u,b[32]=w):w=b[32];b[33]!==g||b[34]!==e||b[35]!==w||b[36]!==s?(q=i.jsx(c("PolarisFRXReportPolicyEducationScreenModal.react"),{headerParams:g,onClose:e,onSubmitScreen:w,screenPayload:s}),b[33]=g,b[34]=e,b[35]=w,b[36]=s,b[37]=q):q=b[37];return q;case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.PROCESS_EDUCATION:b[38]!==a?(h=function(b){n(a,babelHelpers["extends"]({},b))},b[38]=a,b[39]=h):h=b[39];b[40]!==g||b[41]!==y||b[42]!==h||b[43]!==s?(f=i.jsx(c("PolarisFRXReportModalInterstitialScreen.react"),{headerParams:g,onClose:y,onSubmitScreen:h,screenPayload:s}),b[40]=g,b[41]=y,b[42]=h,b[43]=s,b[44]=f):f=b[44];return f;case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.ESCALATION:b[45]!==a?(e=function(b){n(a,{selectedPromptButtonActionType:b})},b[45]=a,b[46]=e):e=b[46];b[47]!==g||b[48]!==y||b[49]!==e||b[50]!==s?(w=i.jsx(c("PolarisFRXReportModalInterstitialScreen.react"),{headerParams:g,onClose:y,onSubmitScreen:e,screenPayload:s}),b[47]=g,b[48]=y,b[49]=e,b[50]=s,b[51]=w):w=b[51];return w;case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.CONFIRMATION:b[52]!==g||b[53]!==y||b[54]!==r||b[55]!==s?(q=i.jsx(c("PolarisFRXReportConfirmationScreenModal.react"),{headerParams:g,onClose:y,reportedOwner:r,screenPayload:s}),b[52]=g,b[53]=y,b[54]=r,b[55]=s,b[56]=q):q=b[56];return q;case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.SELECT_VICTIM:b[57]!==y||b[58]!==t?(h=function(){y(),t!=null&&t()},b[57]=y,b[58]=t,b[59]=h):h=b[59];b[60]!==a?(f=function(b){n(a,{selectedVictimID:b.pk})},b[60]=a,b[61]=f):f=b[61];b[62]!==g||b[63]!==h||b[64]!==f||b[65]!==r||b[66]!==s?(e=i.jsx(c("PolarisFRXReportSelectVictimScreenModal.react"),{headerParams:g,onClose:h,onSelectVictim:f,reportedOwner:r,screenPayload:s}),b[62]=g,b[63]=h,b[64]=f,b[65]=r,b[66]=s,b[67]=e):e=b[67];return e;case d("PolarisFRXWebReportConstants").FRX_SCREEN_PAYLOAD_TYPE_INTS.IN_APP_ESCALATION_REPORT_TYPE:b[68]!==a?(w=function(b){n(a,babelHelpers["extends"]({},b))},b[68]=a,b[69]=w):w=b[69];b[70]!==g||b[71]!==y||b[72]!==w||b[73]!==s?(q=i.jsx(c("PolarisFRXInAppEscalationReportTypeScreenModal.react"),{headerParams:g,onClose:y,onSubmitScreen:w,screenPayload:s}),b[70]=g,b[71]=y,b[72]=w,b[73]=s,b[74]=q):q=b[74];return q;default:return v}}function o(a){var b=k(4),e=a.headerParams;a=a.onClose;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",justifyContent:"center",minHeight:122,position:"relative",children:i.jsx(c("IGDSSpinner.react"),{})}),b[0]=f):f=b[0];b[1]!==e||b[2]!==a?(f=i.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:e,onClose:a,children:f}),b[1]=e,b[2]=a,b[3]=f):f=b[3];return f}function p(a){var b=k(3),c=a.headerParams;a=a.onClose;var e;b[0]!==c||b[1]!==a?(e=i.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:c,onClose:a,children:d("PolarisFRXWebReportStrings").DEFAULT_ERROR_MESSAGE_TEXT}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}function b(a){return{isFRXScreenRequestProcessing:d("PolarisFRXWebReportStateSelectors").getIsFRXScreenRequestProcessing(a),reportedTagTitle:d("PolarisFRXWebReportStateSelectors").getReportedTagTitle(a)}}f={onRequestNextFRXScreen:d("PolarisFRXWebReportActions").doRequestNextFRXScreenAction,onStoreReportedTagTitle:d("PolarisFRXWebReportActions").doStoreReportedTagTitle};e=d("PolarisReactRedux.react").connect(b,f)(a);g["default"]=e}),98);
__d("PolarisFRXUnfollowUserFollowupModal.react",["PolarisConnectionsLogger","PolarisUnfollowDialog.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(6),e=a.onClose;a=a.userToUnfollow;a=a.id;if(!a)return null;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={},b[0]=f):f=b[0];var g;b[1]!==e?(g=function(){return e&&e()},b[1]=e,b[2]=g):g=b[2];b[3]!==g||b[4]!==a?(f=j.jsx(c("PolarisUnfollowDialog.react"),{analyticsContext:d("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.frx_web_reporting,analyticsExtra:f,onClose:g,userId:a}),b[3]=g,b[4]=a,b[5]=f):f=b[5];return f}g["default"]=a}),98);
__d("PolarisFRXReportModal.react",["IGDSBox.react","IGDSSpinner.react","PolarisFRXBlockUserFollowupModal.react","PolarisFRXNotifyGuardianFollowupModal.react","PolarisFRXReportBaseScreenModal.react","PolarisFRXReportConfirmationScreenModalForSupervision.react","PolarisFRXReportScreenModal.react","PolarisFRXUnfollowUserFollowupModal.react","PolarisFRXWebReportActions","PolarisFRXWebReportState","PolarisFRXWebReportStateSelectors","PolarisFRXWebReportStrings","PolarisReactRedux.react","PolarisReportConstants","nullthrows","react","usePolarisAnalyticsContext","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.useMemo,l=e.useState,m=e.unstable_useMemoCache;function n(a){var b=a.frxObjectType,c=a.isAfterConfirmationScreen,d=a.onClose,e=a.onConfirm,f=a.onDoReportingModalClosedAction;a=a.reportedObjectID;c&&e!=null&&e();f({isAfterConfirmationScreen:c,reportedObjectID:a,reportedObjectType:b});d&&d()}function o(a){a=a.onGoBackOneFRXScreen;a()}function p(a,b,c){if(b===!0){var d=a.onDoDisableNotifyGuardianOption;d()}d=a.onDoOpenNotifyGuardianFollowupModalToPreviousScreen;var e=a.reportedOwner.id;d(b,c,e,a.reportedTagTitle)}function q(a,b,c,d){var e=m(6),f=a.onRequestInitFRXScreen,g;e[0]!==b||e[1]!==f||e[2]!==d||e[3]!==c?(a=function(){b||(f(d),c(!0))},g=[c,b,d,f],e[0]=b,e[1]=f,e[2]=d,e[3]=c,e[4]=a,e[5]=g):(a=e[4],g=e[5]);j(a,g)}function a(a){var b=l(!1),e=b[0];b=b[1];var f=a.containerModule,g=a.currScreenPayload,h=a.currRenderStep,j=a.screenHistorySize,m=a.reportedObjectID,r=a.frxEntryPoint,s=r===void 0?d("PolarisReportConstants").FRXEntryPoint.CHEVRON_BUTTON:r,t=a.frxLocation,u=a.frxObjectType;r=a.reportedOwner;var v=a.showFRXDropOffSurveyModal,w=a.useSimpleBlockModalWithoutRefresh,x=a.threadId,y=a.threadKey,z=a.onSelectReportAd,A=a.isGroupThread,B=a.shouldReportAsInstamadillo,C=c("usePolarisAnalyticsContext")(),D=d("PolarisReactRedux.react").useDispatch(),E=k(function(){var a;return{container_module:(a=f)!=null?a:C,entry_point:s,location:t,object_id:m,object_type:u}},[f,C,s,t,u,m]);q(a,e,b,E);b=function(){return n(a)};var F=j>1;F=d("PolarisFRXReportBaseScreenModal.react").getDefaultScreenModalHeaderParamsFromScreenPayload(g,F,function(){return o(a)});var G=i.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:F,onClose:b,children:d("PolarisFRXWebReportStrings").DEFAULT_ERROR_MESSAGE_TEXT}),H=122;H=i.jsx(d("PolarisFRXReportBaseScreenModal.react").FRXReportBaseScreenModal,{headerParams:F,onClose:b,children:i.jsx(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",justifyContent:"center",minHeight:H,position:"relative",children:i.jsx(c("IGDSSpinner.react"),{})})});var I=c("usePolarisViewer")();I!==null&&(I==null?void 0:I.guardianId)!==null&&(I==null?void 0:I.guardianId)!==""&&D(d("PolarisFRXWebReportActions").doStoreGuardianInformation(c("nullthrows")(I==null?void 0:I.guardianId)));D=d("PolarisReactRedux.react").useSelector(d("PolarisFRXWebReportStateSelectors").getGuardianUsername);switch(h){case d("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.UNFOLLOW:return i.jsx(c("PolarisFRXUnfollowUserFollowupModal.react"),{onClose:b,userToUnfollow:r});case d("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.BLOCK:return i.jsx(c("PolarisFRXBlockUserFollowupModal.react"),{frxObjectType:u,isGroupThread:A,onClose:b,shouldReportAsInstamadillo:B,threadKey:y,userToBlock:r,useSimpleBlockModalWithoutRefresh:w});case d("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.NOTIFY_GUARDIAN:return i.jsx(c("PolarisFRXNotifyGuardianFollowupModal.react"),{guardianUsername:D,onClose:b,onNotify:function(b,c){return p(a,b,c)},reportedTagTitle:a.reportedTagTitle,reportedUsername:r==null?void 0:r.username});case d("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.NOTIFY_GUARDIAN_FOLLOWUP:return!g?!e?H:G:i.jsx(c("PolarisFRXReportConfirmationScreenModalForSupervision.react"),{headerParams:F,onClose:b,reportedOwner:r,screenPayload:g});case d("PolarisFRXWebReportState").FRX_WEB_REPORT_RENDER_STEP_STRS.DEFAULT:default:return i.jsx(c("PolarisFRXReportScreenModal.react"),{frxMetadata:E,hasMountedScreenFlow:e,hasPreviousScreens:j>1,onClose:b,onGoBackOneFRXScreen:function(){return o(a)},onSelectReportAd:z,reportedOwner:r,screenPayload:g,showFRXDropOffSurveyModal:v,threadId:x})}}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b;return{currRenderStep:(b=d("PolarisFRXWebReportStateSelectors")).getCurrRenderStep(a),currScreenPayload:b.getCurrScreenPayload(a),isAfterConfirmationScreen:b.getIsConfirmationScreenInHistoryStack(a),reportedTagTitle:b.getReportedTagTitle(a),screenHistorySize:b.getScreenHistorySize(a)}}e={onDoDisableNotifyGuardianOption:d("PolarisFRXWebReportActions").doDisableNotifyGuardianOption,onDoOpenNotifyGuardianFollowupModalToPreviousScreen:d("PolarisFRXWebReportActions").doOpenNotifyGuardianFollowupModalToPreviousScreenAction,onDoReportingModalClosedAction:d("PolarisFRXWebReportActions").doReportingModalClosedAction,onGoBackOneFRXScreen:d("PolarisFRXWebReportActions").doGoBackOneFRXScreenAction,onRequestInitFRXScreen:d("PolarisFRXWebReportActions").doRequestInitFRXScreenAction};f=d("PolarisReactRedux.react").connect(b,e)(a);g["default"]=f}),98);
__d("PolarisPostComment.react",["cx","fbt","IGDSBox.react","IGDSButton.react","IGDSIconButton.react","IGDSMoreHorizontalPanoOutlineIcon.react","IGDSText.react","IGDSVerifiedBadge.react","Locale","PolarisApproveCommentDialog.react","PolarisCommentActions","PolarisCommentLikeListsActions","PolarisCommentOptionsDialog.react","PolarisCommentTranslationPrompt.react","PolarisConfig","PolarisDoubleTappable","PolarisEngagementLogger","PolarisFastLink.react","PolarisIGCoreConstants","PolarisIgWellbeingRestrictManageCommentFalcoEvent","PolarisLikeButton.react","PolarisLinkBuilder","PolarisNavigationActions","PolarisPendingCommentActions","PolarisPostCaptionTranslationPrompt.react","PolarisPostGifComment.react","PolarisPostStrings","PolarisPostVariants","PolarisReactRedux.react","PolarisTimestamp.react","PolarisTruncatedText.react","PolarisUA","PolarisUserAvatarWithStories.react","PolarisUserHoverCard.react","PolarisUserText.react","PolarisViewpointReact.react","joinClasses","nullthrows","polarisPostSelectors","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j,m=750;function n(a){var b=k(22),e=a.parentProps,f=e.commentOwnerId,g=e.commentOwnerUsername,h=e.isAuthorVerified,i=e.isCaption,j=e.isRestrictedPending,m=e.postOwnerIsUnpublished;e=e.showRichComment;h=h===void 0?!1:h;i=i===void 0?!1:i;m=m===void 0?!1:m;e=e===void 0?!1:e;a=j&&!a.parentState.showRestrictedContent;var n=i?"h2":"h3";if(a){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("IGDSBox.react"),{marginBottom:1,position:"relative",children:l.jsx(c("IGDSText.react"),{color:"tertiaryText",size:"body",weight:"semibold",children:d("PolarisPostStrings").RESTRICTED_ACCOUNT_HEADER_TEXT})}),b[0]=a):a=b[0];return a}else if(!i||m!==!0){a=j===!0;b[1]!==a?(i="_a9zc"+(a?" _a9zd":""),b[1]=a,b[2]=i):i=b[2];b[3]!==g?(m=d("PolarisLinkBuilder").buildUserLink(c("nullthrows")(g)),b[3]=g,b[4]=m):m=b[4];b[5]!==g?(j=c("nullthrows")(g),b[5]=g,b[6]=j):j=b[6];b[7]!==m||b[8]!==j?(a=l.jsx(c("IGDSButton.react"),{display:"block",href:m,label:j,variant:"secondary_link"}),b[7]=m,b[8]=j,b[9]=a):a=b[9];b[10]!==f||b[11]!==g||b[12]!==a?(m=l.jsx(c("IGDSBox.react"),{marginEnd:1,position:"relative",children:l.jsx(c("PolarisUserHoverCard.react"),{display:"inline",userId:f,username:g,children:a})}),b[10]=f,b[11]=g,b[12]=a,b[13]=m):m=b[13];b[14]!==e||b[15]!==h?(j=e&&h&&l.jsx(c("IGDSBox.react"),{marginEnd:1,position:"relative",children:l.jsx(c("IGDSVerifiedBadge.react"),{size:"small"})}),b[14]=e,b[15]=h,b[16]=j):j=b[16];b[17]!==n||b[18]!==i||b[19]!==m||b[20]!==j?(f=l.jsxs(n,{className:i,children:[m,j]}),b[17]=n,b[18]=i,b[19]=m,b[20]=j,b[21]=f):f=b[21];return f}return null}function o(a){var b=k(14);a=a.parentProps;var e=a.captionCreatedAt,f=a.commentThreadId,g=a.disableTimestampNav,h=a.id,i=a.isCaption,j=a.isEdited,m=a.postedAt;a=a.postShortcode;i=i===void 0?!1:i;j=j===void 0?!1:j;var n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n="_a9ze _a9zf",b[0]=n):n=b[0];i=i&&j&&e!=null?e:m;b[1]!==i?(j=l.jsx(c("PolarisTimestamp.react"),{className:n,value:i}),b[1]=i,b[2]=j):j=b[2];e=j;if(a!=null&&h!=null){b[3]!==f||b[4]!==h||b[5]!==a?(m=f!=null&&f!==h?d("PolarisLinkBuilder").buildReplyPermalink(a,f,h,d("PolarisUA").isMobile()):d("PolarisLinkBuilder").buildCommentPermalink(a,h,d("PolarisUA").isMobile()),b[3]=f,b[4]=h,b[5]=a,b[6]=m):m=b[6];n=m;b[7]!==g?(i=g===!0?function(a){return a.preventDefault()}:void 0,b[7]=g,b[8]=i):i=b[8];j=i;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(f="_a9zg",b[9]=f):f=b[9];b[10]!==n||b[11]!==j||b[12]!==e?(h=l.jsx(c("PolarisFastLink.react"),{className:f,href:n,onClick:j,children:e}),b[10]=n,b[11]=j,b[12]=e,b[13]=h):h=b[13];e=h}return e}f=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={showApproveCommentDialog:!1,showCommentOptionsDialog:!1,showRestrictedContent:!1},e.$3=function(){e.setState({showCommentOptionsDialog:!0})},e.$4=function(){if(!d("PolarisUA").isMobile()||e.props.showRichComment!==!0||e.props.isCaption===!0)return;e.$1=window.setTimeout(e.$3,m)},e.$2=function(){window.clearTimeout(e.$1)},e.$5=function(){e.setState({showCommentOptionsDialog:!1})},e.$6=function(){e.setState({showCommentOptionsDialog:!1}),e.props.onDeleteComment()},e.$7=function(){var a=e.props,b=a.id;a=a.onDeleteCommentClick;a&&a(c("nullthrows")(b))},e.$8=function(a){var b=e.props,c=b.onLikeComment;b=b.onUnlikeComment;a?c():b()},e.$9=function(){var a=e.props,b=a.isRestrictedPending;b=b===void 0?!1:b;var c=a.likedByViewer;c=c===void 0?!1:c;a=a.onLikeComment;!c&&!b&&a()},e.$10=function(){var a=e.props,b=a.code,f=a.fetchCommentLikes,g=a.id,h=a.loggedIn,i=a.onLikeCountClick,j=a.onLoggedOutIntentClick;a=a.onLoggedOutIntentClickLoginModal;if(h)i&&(f(),i(c("nullthrows")(g)));else{h="post_comment_like_count";d("PolarisUA").isDesktop()?a(d("PolarisLinkBuilder").buildMediaLink(c("nullthrows")(b)),h):j(h)}},e.$11=function(a){var b=e.props,f=b.analyticsContext,g=b.commentOwnerId,h=b.commentThreadId,i=b.id,j=b.isRestrictedPending,k=b.mediaType,l=b.postId,m=b.postOwnerId;b=b.viewerId;switch(a.state){case"entered":if(i!=null&&b!=null){d("PolarisEngagementLogger").logCommentImpression({commentAuthorId:g,commentId:i,commentThreadId:h,containerModule:f,mediaAuthorId:m,mediaId:l,mediaType:k});j&&c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"impression",actorIgUserid:g,commentId:i,commentThreadId:h,parentMediaId:l,step:"pending_comment"});return}}},e.$12=function(){var a=e.props,b=a.code,f=a.loggedIn,g=a.onLoggedOutIntentClick,h=a.onLoggedOutIntentClickLoginModal;a=a.onReplyClick;if(f)a();else{f="post_comment_reply";d("PolarisUA").isDesktop()?h(d("PolarisLinkBuilder").buildMediaLink(c("nullthrows")(b)),f):g(f)}},e.$13=function(){var a=e.props,b=a.commentOwnerId,d=a.commentThreadId,f=a.id;a=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:b,commentId:f,commentThreadId:d,parentMediaId:a,step:"pending_comment_see_hidden"});e.setState({showRestrictedContent:!0})},e.$14=function(){var a=e.props,b=a.commentOwnerId,d=a.commentThreadId,f=a.id;a=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:b,commentId:f,commentThreadId:d,parentMediaId:a,step:"pending_comment_approve"});e.setState({showApproveCommentDialog:!0})},e.$15=function(){e.setState({showApproveCommentDialog:!1})},e.$16=function(){var a=e.props,b=a.commentOwnerId,d=a.commentThreadId,f=a.id;a=a.postId;c("PolarisIgWellbeingRestrictManageCommentFalcoEvent").log({action:"click",actorIgUserid:b,commentId:f,commentThreadId:d,parentMediaId:a,step:e.state.showRestrictedContent?"pending_comment_delete":"pending_comment_delete_hidden"});e.$7()},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentWillUnmount=function(){this.$2()};e.$17=function(){var a=this.props,b=a.code,e=a.id,f=a.likeCount;a=a.loggedIn;if(f==null||f===0)return null;var g=f.toLocaleString(),h=i._("__JHASH__7PgeOKK7Hd0__JHASH__",[i._param("like count",g)]);g=i._("__JHASH__-wTB86PYRly__JHASH__",[i._param("like count",g)]);h=f===1?h:g;return f>0&&(d("PolarisUA").isDesktop()||!a?l.jsx("button",{className:"_a9ze",onClick:this.$10,children:l.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:h})}):l.jsx(c("PolarisFastLink.react"),{className:"_a9ze _amp7",href:"/p/"+c("nullthrows")(b)+"/c/"+c("nullthrows")(e)+"/liked_by/",children:h}))};e.render=function(){var a=this,b=this.props,e=b.className,f=b.commentingDisabledForViewer,g=b.commentOwnerAvatar,h=b.commentOwnerId,i=b.commentOwnerUsername,j=b.commentThreadId,k=b.customPaddingStyle,m=b.giphyMediaInfo,p=b.hideUserAvatar,q=p===void 0?!1:p,r=b.id;p=b.isCaption;var s=p===void 0?!1:p;p=b.isEdited;var t=p===void 0?!1:p;p=b.isPermalinkedComment;p=p===void 0?!1:p;var u=b.isRestrictedPending,v=b.likedByViewer,w=b.postId,x=b.postOwnerId,y=b.postOwnerIsUnpublished,z=b.reducedAvatarMargin,A=b.showCommentOptionsInline,B=A===void 0?!1:A;A=b.showRemoveIcon;var C=b.showRichComment,D=C===void 0?!1:C;C=b.translation;var E=b.variant;b=b.viewerId;var F=this.props.text.toString();(C==null?void 0:C.showTranslatedText)===!0&&C.translatedText!=null&&(F=C.translatedText);var G=!s&&b!=null&&(b===h||x===b),H=G&&A&&!D,I=!s&&b!=null&&!H&&!u;C=d("PolarisConfig").isLoggedOutFRXEligible()&&p;var J=C||D&&!d("PolarisUA").isMobile()&&!s&&b!=null,K=E===d("PolarisPostVariants").VARIANTS.feed?c("PolarisTruncatedText.react"):c("PolarisUserText.react"),L=!!s||!I&&!G,M=u&&!this.state.showRestrictedContent,N=u&&this.state.showRestrictedContent;A=m!=null;var O=A?m==null?void 0:(p=m.images)==null?void 0:(C=p.fixed_height)==null?void 0:C.url:void 0,P=l.jsx("div",{className:B===!0?"_a9ze":"",children:l.jsx("div",{className:(B!==!0?"_a9zh":"")+(B===!0?" _a9zi":""),children:l.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,onClick:this.$3,children:l.jsx(c("IGDSBox.react"),{alignItems:"center",height:24,justifyContent:"center",position:"relative",width:24,children:l.jsx(c("IGDSMoreHorizontalPanoOutlineIcon.react"),{alt:d("PolarisPostStrings").COMMENT_OPTIONS_ALT_TEXT,color:"ig-secondary-text"})})})})});return l.jsx(d("PolarisViewpointReact.react").Viewpoint,{action:this.$11,id:F.replace(" ","-"),children:function(b){return l.jsxs(d("PolarisDoubleTappable").DoubleTappable,{onDoubleClick:a.$9,role:"button",children:[l.jsx("li",{className:c("joinClasses")((D?"_a9zj":"")+(k==="compact"?" _a9zk":"")+" _a9zl",e),onMouseDown:a.$4,onMouseUp:a.$2,onTouchEnd:a.$2,onTouchMove:a.$2,onTouchStart:a.$4,ref:b,children:l.jsxs("div",{className:"_a9zm","data-testid":void 0,children:[l.jsxs("div",{className:(L?"_a9zn":"")+" _a9zo",children:[D&&!q&&l.jsx(c("PolarisUserHoverCard.react"),{display:"block",userId:h,username:i,children:l.jsx(c("PolarisUserAvatarWithStories.react"),{className:"_a9zp"+(z===!0?" _a9zq":"")+(u===!0?" _a9zd":""),isLink:!y,profilePictureUrl:(b=g)!=null?b:"",size:c("PolarisIGCoreConstants").AVATAR_SIZES.small,storyEntrypoint:"post_comment",username:i})}),l.jsxs("div",{className:"_a9zr",children:[l.jsx(n,{parentProps:a.props,parentState:a.state}),!M&&(O!=null?l.jsx(c("PolarisPostGifComment.react"),{gifSrc:O}):l.jsx("div",{className:"_a9zs"+(u===!0?" _a9zd":""),"data-testid":void 0,children:l.jsx(K,{display:"inline",headlineTag:s===!0?"h1":void 0,size:"body",value:F})})),D&&l.jsx(c("IGDSBox.react"),{marginBottom:1,marginTop:2,position:"relative",children:l.jsxs(c("IGDSText.react").Body2,{color:"secondaryText",dir:c("Locale").isRTL()?"rtl":"ltr",children:[s&&t&&l.jsxs(l.Fragment,{children:[d("PolarisPostStrings").CAPTION_EDITED_TEXT,"\xa0\xb7\xa0"]}),l.jsx(o,{parentProps:a.props}),s&&l.jsx(c("IGDSBox.react"),{display:"inlineBlock",position:"relative",children:l.jsx(c("PolarisPostCaptionTranslationPrompt.react"),{postId:w})}),!s&&!u&&l.jsxs(l.Fragment,{children:[a.$17(),f!==!0&&l.jsx("button",{className:"_a9ze",onClick:a.$12,children:l.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisPostStrings").REPLY_TEXT})}),r!=null&&l.jsx(c("IGDSBox.react"),{display:"inlineBlock",marginEnd:2,position:"relative",children:l.jsx(c("PolarisCommentTranslationPrompt.react"),{commentId:r})}),J&&B===!0&&P]}),M&&l.jsx("button",{className:"_a9ze",onClick:a.$13,children:l.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisPostStrings").RESTRICT_SEE_COMMENT_TEXT})}),N&&l.jsx("button",{className:"_a9ze",onClick:a.$14,children:l.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisApproveCommentDialog.react").APPROVE_COMMENT_CTA})}),u&&l.jsx("button",{className:"_a9ze",onClick:a.$16,children:l.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisPostStrings").RESTRICT_DELETE_COMMENT_TEXT})})]})})]})]}),H&&l.jsx("button",{className:"_a9zt",onClick:a.$7,title:d("PolarisPostStrings").DELETE_COMMENT_TEXT,children:l.jsx(c("IGDSText.react"),{color:"tertiaryText",size:"footnote",weight:"semibold",zeroMargin:!0,children:d("PolarisPostStrings").DELETE_COMMENT_TEXT})}),J&&!B&&P,I&&l.jsx(c("PolarisLikeButton.react"),{className:"_a9zu",isLiked:!!v,large:!1,onChange:a.$8})]})}),a.state.showCommentOptionsDialog&&r!=null&&l.jsx(c("PolarisCommentOptionsDialog.react"),{canDeleteComment:!!G,commentId:r,commentOwnerAvatar:(b=g)!=null?b:"",commentOwnerId:h,commentOwnerUsername:i,mediaOwnerId:x,onClose:a.$5,onDelete:a.$6}),a.state.showApproveCommentDialog&&r!=null&&l.jsx(d("PolarisApproveCommentDialog.react").ApproveCommentDialog,{commentId:r,commentOwnerId:h,commentOwnerUsername:i,commentThreadId:j,onClose:a.$15,postId:w})]})}})};return b}(l.PureComponent);f.defaultProps={showRichComment:!1};function a(a,b){var e=b.commentOwnerId,f=b.postId,g=b.postOwnerId;e=d("polarisUserSelectors").getUserByIdOrThrows(a,e);f=d("polarisPostSelectors").getPostOrNullById(a,f);b=b.id;b==null&&(b=f==null?void 0:f.captionCommentId);return{commentOwnerAvatar:e.profilePictureUrl,commentOwnerId:c("nullthrows")(e.id),commentOwnerUsername:c("nullthrows")(e.username),postOwnerIsUnpublished:d("polarisUserSelectors").getUserByIdOrThrows(a,g).isUnpublished,postShortcode:f&&f.code,translation:b!=null?a.comments.translationById.get(b):null,viewerId:a.users.viewerId}}function b(a,b){var e={commentAuthorId:b.commentOwnerId,commentId:b.id||"",containerModule:b.analyticsContext,mediaAuthorId:b.postOwnerId,mediaId:b.id||"",mediaType:b.mediaType||0};return{fetchCommentLikes:function(){return a(d("PolarisCommentLikeListsActions").requestCommentLikes(c("nullthrows")(b.id)))},onDeleteComment:function(){return a(d("PolarisCommentActions").deleteComment(b.postId,b.id||"",b.analyticsContext))},onLikeComment:function(b){return a(d("PolarisCommentActions").likeComment(babelHelpers["extends"]({},e,{userId:b||""})))},onLoggedOutIntentClick:function(b){a(d("PolarisNavigationActions").openLoggedOutIntentDialog(b))},onLoggedOutIntentClickLoginModal:function(b,c,e){var f=d("PolarisUA").isDesktop()||d("PolarisConfig").isLoggedOutFRXEligible()?"feature_wall":"content_wall";a(d("PolarisNavigationActions").openLoginModal(f,b,c,e,b))},onReplyClick:function(e){return a(d("PolarisPendingCommentActions").changePendingComment(b.postId,"@"+(e||"")+" ",c("nullthrows")(b.commentThreadId),b.commentOwnerId,e))},onUnlikeComment:function(b){return a(d("PolarisCommentActions").unlikeComment(babelHelpers["extends"]({},e,{userId:b||""})))}}}function e(a,b,c){return babelHelpers["extends"]({},a,b,c,{onLikeComment:function(){return b.onLikeComment(a.viewerId)},onReplyClick:function(){return b.onReplyClick(a.commentOwnerUsername)},onUnlikeComment:function(){return b.onUnlikeComment(a.viewerId)}})}h=d("PolarisReactRedux.react").connect(a,b,e)(f);g["default"]=h}),226);
__d("PolarisPreviewComments.react",["cx","fbt","IGDSSpinner.react","PolarisBatchDOM","PolarisBigNumber.react","PolarisCommentActionConstants","PolarisCommentActions","PolarisIGCoreButton.react","PolarisInteractionsLogger","PolarisLinkBuilder","PolarisNavigationActions","PolarisPostComment.react","PolarisPostVariants","PolarisReactRedux.react","PolarisUA","browserHistory_DO_NOT_USE","isStringNullOrEmpty","joinClasses","polarisCommentSelectors.react","polarisPostSelectors","react","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));e=j;e.useMemo;var l=e.unstable_useMemoCache;f=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$2=function(a){var b=c.props,e=b.analyticsContext,f=b.code,g=b.id,h=b.loadMore,i=b.loggedIn,j=b.mediaType,k=b.onLoggedOutIntentClick,l=b.ownerId;b=b.variant;var m=d("PolarisUA").isMobile();a.preventDefault();if(b===d("PolarisPostVariants").VARIANTS.feed||m){a=d("PolarisLinkBuilder").buildMediaCommentsLink(f,m);i?(d("browserHistory_DO_NOT_USE").browserHistory.push(a),d("PolarisInteractionsLogger").logInteractionAction({containerModule:e,eventName:"instagram_organic_comment_view_all",mediaAuthorId:l,mediaId:g,mediaType:j})):k("post_comment_view_all")}else h(g,f),d("PolarisInteractionsLogger").logInteractionAction({containerModule:e,eventName:"instagram_organic_comment_view_more",mediaAuthorId:l,mediaId:g,mediaType:j})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidUpdate=function(a,b,c){var e=this,f=a.commentSaveIsInFlight&&!this.props.commentSaveIsInFlight,g=this.$1;if(!g)return;d("PolarisBatchDOM").measure(function(){var b=g.scrollTop;f?b=g.scrollHeight:c!=null?b=g.scrollHeight-c:e.props.id!==a.id&&(b=0);d("PolarisBatchDOM").mutate(function(){g.scrollTop=b})})};e.getSnapshotBeforeUpdate=function(a){var b=a.comments,c=this.props.comments;if(a.id===this.props.id&&c&&b&&c.count()>b.count()){a=this.$1;if(a)return a.scrollHeight-a.scrollTop}return null};e.render=function(){var a=this,b=this.props,e=b.analyticsContext,f=b.captionAndTitle,g=b.captionIsEdited,h=b.className,i=b.commentsAreStacked,j=b.commentsDisabled,l=b.commentsHasNextPage,m=b.commentsTotalCount,n=b.handleDeleteCommentClick,o=b.id,p=b.loggedIn,q=b.mediaType,r=b.ownerId,s=b.postedAt,t=b.previewComments,u=b.showRemoveCommentIcons,v=b.variant;b=j!==!0&&(l===!0||t!=null&&t.length<m);if((f==null||f==="")&&m===0&&!b)return null;l=t;return k.jsx("div",{className:c("joinClasses")("_acri"+(!d("PolarisUA").isMobile()&&v===d("PolarisPostVariants").VARIANTS.flexible&&!i?" _acrj":""),h),ref:function(b){return a.$1=b},children:k.jsxs("ul",{className:"_acrk",children:[!c("isStringNullOrEmpty")(f)&&k.jsx(c("PolarisPostComment.react"),{analyticsContext:e,commentOwnerId:r,isCaption:!0,isEdited:!!g,isRestrictedPending:!1,loggedIn:p,mediaType:q,postedAt:s,postId:o,postOwnerId:r,showRemoveIcon:!1,text:f,variant:v},"captionAndTitle"),b&&this.renderLoadMoreCommentsLink(),j!==!0&&l&&l.map(function(a){return k.jsx(c("PolarisPostComment.react"),{analyticsContext:e,commentOwnerId:a.userId,id:a.id,isAuthorVerified:a.isAuthorVerified,isRestrictedPending:a.isRestrictedPending,likedByViewer:a.likedByViewer,loggedIn:p,mediaType:q,onDeleteCommentClick:n,postedAt:a.postedAt,postId:o,postOwnerId:r,showRemoveIcon:u,text:a.text,variant:v},a.id)})]})})};e.renderLoadMoreCommentsLink=function(){var a=this.props,b=a.comments,e=a.commentsIsFetching,f=a.commentsTotalCount;a=a.variant;var g=i._("__JHASH__EzDl3Q5qBhq__JHASH__");b&&b.count()+d("PolarisCommentActionConstants").PAGE_SIZE>=f||a===d("PolarisPostVariants").VARIANTS.feed||d("PolarisUA").isMobile()?b=i._("__JHASH__goQVaKpz6ee__JHASH__",[i._param("count",k.jsx(c("PolarisBigNumber.react"),{value:f}))]):b=g;return k.jsxs("li",{className:"_acrl",children:[k.jsx(c("PolarisIGCoreButton.react"),{borderless:!0,dangerouslySetClassName:{__className:"_acrm"},disabled:e,onClick:this.$2,children:b}),e&&k.jsx("div",{className:"_acrn",children:k.jsx(c("IGDSSpinner.react"),{position:"static",size:"small"})})]})};return b}(k.PureComponent);function a(a,b){var c=d("polarisCommentSelectors.react").getPreviewCommentsForPostId(a,b.id);b=d("polarisPostSelectors").getNumCommentsForPostId(a,b.id);a=a.navigation.pageIdentifier||"";return{analyticsContext:a,commentSaveIsInFlight:!1,commentsHasNextPage:!1,commentsIsFetching:!1,commentsTotalCount:b,previewComments:c}}function b(){var a=l(2),b=c("usePolarisDisplayProperties")();b=b.viewportWidth;var d;a[0]!==b?(d={viewportWidth:b},a[0]=b,a[1]=d):d=a[1];b=d;return b}h={loadMore:d("PolarisCommentActions").requestNextCommentPage,onLoggedOutIntentClick:d("PolarisNavigationActions").openLoggedOutIntentDialog};e=d("PolarisReactRedux.react").connect(a,h)(f);a=d("PolarisReactRedux.react").connectHooks(b)(e);g["default"]=a}),226);
__d("PolarisCommentThread.react",["cx","fbt","IGDSBox.react","IGDSSpinner.react","PolarisConfig","PolarisIGCoreButton.react","PolarisInteractionsLogger","PolarisPaginationUtils","PolarisPostComment.react","PolarisPostVariants","PolarisReactRedux.react","PolarisThreadedCommentActions","PolarisThreadedCommentSelectors","isStringNullOrEmpty","nullthrows","polarisCommentReducer","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=(j||(j=d("react"))).unstable_useMemoCache,l=j;function m(a){var b=k(25),e=a.childComment,f=a.disableTimestampNav;a=a.parentProps;var g=a.analyticsContext,h=a.code,i=a.commentingDisabledForViewer,j=a.hideUserAvatar,m=a.loggedIn,n=a.onDeleteCommentClick,o=a.onLikeCountClick,p=a.parentComment,q=a.postId,r=a.postOwnerId,s=a.reducedAvatarMargin,t=a.showCommentOptionsInline;a=a.showRemoveIcon;var u;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(u="_a9ye",b[0]=u):u=b[0];j=!!j;b[1]!==g||b[2]!==h||b[3]!==i||b[4]!==e.userId||b[5]!==e.giphyMediaInfo||b[6]!==e.id||b[7]!==e.isAuthorVerified||b[8]!==e.isRestrictedPending||b[9]!==e.likeCount||b[10]!==e.likedByViewer||b[11]!==e.postedAt||b[12]!==e.text||b[13]!==p.id||b[14]!==f||b[15]!==j||b[16]!==m||b[17]!==n||b[18]!==o||b[19]!==q||b[20]!==r||b[21]!==s||b[22]!==t||b[23]!==a?(u=l.jsx(c("PolarisPostComment.react"),{analyticsContext:g,className:u,code:h,commentingDisabledForViewer:i,commentOwnerId:e.userId,commentThreadId:p.id,disableTimestampNav:f,giphyMediaInfo:e.giphyMediaInfo,hideUserAvatar:j,id:e.id,isAuthorVerified:e.isAuthorVerified,isRestrictedPending:e.isRestrictedPending,likeCount:e.likeCount,likedByViewer:e.likedByViewer,loggedIn:m,onDeleteCommentClick:n,onLikeCountClick:o,postedAt:e.postedAt,postId:q,postOwnerId:r,reducedAvatarMargin:s,showCommentOptionsInline:t,showRemoveIcon:a,showRichComment:!0,text:e.text,variant:d("PolarisPostVariants").VARIANTS.flexible},e.id),b[1]=g,b[2]=h,b[3]=i,b[4]=e.userId,b[5]=e.giphyMediaInfo,b[6]=e.id,b[7]=e.isAuthorVerified,b[8]=e.isRestrictedPending,b[9]=e.likeCount,b[10]=e.likedByViewer,b[11]=e.postedAt,b[12]=e.text,b[13]=p.id,b[14]=f,b[15]=j,b[16]=m,b[17]=n,b[18]=o,b[19]=q,b[20]=r,b[21]=s,b[22]=t,b[23]=a,b[24]=u):u=b[24];return u}b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={hasPermalinkedReplyBeenHidden:!1},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidUpdate=function(a,b){(a.parentComment.id!==this.props.parentComment.id||a.permalinkedReplyId!==this.props.permalinkedReplyId)&&this.setState({hasPermalinkedReplyBeenHidden:!1})};e.$1=function(){var a=this.props,b=a.childCommentsCacheCanShowMoreWithoutFetch,c=a.childCommentsCanFetchMorePagination,d=a.childCommentsHasNextPage,e=a.permalinkedReply;a=a.remainingCachedShowableChildCommentIds;return e!=null&&d===!0&&b===!0&&c!==!0&&a.count()===1&&a.get(0)===e.id};e.$2=function(a){var b=this.props.childCommentsHasNextPage;return b!==!0||a&&this.$1()};e.$3=function(a){var b=this.props,c=b.analyticsContext,e=b.childCommentsCacheCanShowMoreWithoutFetch,f=b.childCommentsIsFetching,g=b.hideReplies,h=b.loadChildComments,i=b.loadChildCommentsV2,j=b.onHidePermalinkReply,k=b.parentComment,l=k.id;k=k.userId;var m=b.permalinkedReply,n=b.postId,o=b.postOwnerId;b=b.showReplies;if(f)return;else a?(g(l),d("PolarisInteractionsLogger").logInteractionAction({commentAuthorId:k,commentId:l,containerModule:c,eventName:"instagram_child_comments_collapse",mediaAuthorId:o,mediaId:n}),m!=null&&(j!=null&&j(),this.setState({hasPermalinkedReplyBeenHidden:!0}))):e?b(l):d("PolarisConfig").isLoggedIn()?i(n,l):h(l)};e.$4=function(a,b){var d=this,e=this.props,f=e.childCommentsIsFetching,g=e.replyPagerNodeRef;e=e.totalChildCommentCount;var h=this.$2(b),j=b?1:0;j=a+j;e=e-j;h&&!f?j=i._("__JHASH__l0QlXOkD0E9__JHASH__"):e<=0?j=i._("__JHASH__obWV52hm5rV__JHASH__"):j=i._("__JHASH__vGrwkOmYrh5__JHASH__",[i._param("hidden replies",e)]);return l.jsx("li",{className:"_a9yg",ref:g,children:l.jsxs(c("IGDSBox.react"),{direction:"row",marginBottom:a>0?4:0,marginTop:b?2:0,position:"relative",children:[l.jsxs(c("PolarisIGCoreButton.react"),{borderless:!0,onClick:function(){return d.$3(h)},children:[l.jsx("div",{className:"_a9yh"}),l.jsx("span",{className:"_a9yi",children:j})]}),f&&l.jsx("div",{className:"_a9yj",children:l.jsx(c("IGDSSpinner.react"),{size:"small"})})]})})};e.render=function(){var a=this,b=this.props,e=b.analyticsContext,f=b.code,g=b.commentingDisabledForViewer,h=b.customIndentationPadding,i=b.hideUserAvatar,j=b.innerRef,k=b.isPermalinkedComment,n=b.loggedIn,o=b.onDeleteCommentClick,p=b.onLikeCountClick,q=b.parentComment,r=b.permalinkedReply,s=b.permalinkedReplyAnimating,t=b.permalinkedReplyId,u=b.permalinkedReplyNodeRef,v=b.postId,w=b.postOwnerId,x=b.reducedAvatarMargin,y=b.showCommentOptionsInline,z=b.showRemoveIcon,A=b.totalChildCommentCount;b=b.visibleChildComments;var B=this.state.hasPermalinkedReplyBeenHidden,C=null;r&&!(B&&b.count()===0)&&(C=l.jsx("div",{className:"_a9yk"+(s===!0&&!B?" _a9yl":""),ref:u,children:l.jsx(m,{childComment:r,disableTimestampNav:!0,parentProps:this.props})}));s=b.map(function(b,d){return C&&c("nullthrows")(r).id===b.id?null:l.jsx(m,{childComment:b,parentProps:a.props},d)}).filter(function(a){return a!=null});B=this.$4(s.count(),C!=null);u=h!=null?{margin:"12px 0 0 "+h+"px",width:"calc(100% - "+h+"px)"}:void 0;return l.jsxs("ul",{className:"_a9ym",ref:j,children:[l.jsx(c("PolarisPostComment.react"),{analyticsContext:e,code:f,commentingDisabledForViewer:g,commentOwnerId:q.userId,commentThreadId:q.id,disableTimestampNav:k===!0&&t==null,giphyMediaInfo:q.giphyMediaInfo,hideUserAvatar:!!i,id:q.id,isAuthorVerified:q.isAuthorVerified,isPermalinkedComment:k,isRestrictedPending:q.isRestrictedPending,likeCount:q.likeCount,likedByViewer:q.likedByViewer,loggedIn:n,onDeleteCommentClick:o,onLikeCountClick:p,postedAt:q.postedAt,postId:v,postOwnerId:w,reducedAvatarMargin:x,showCommentOptionsInline:y,showRemoveIcon:z,showRichComment:!0,text:q.text,variant:d("PolarisPostVariants").VARIANTS.flexible}),A!==0&&l.jsx("li",{children:l.jsxs("ul",{className:"_a9yo",style:u,children:[C,B,s]})})]})};return b}(l.Component);function a(a,b){var e=b.parentComment;b=b.permalinkedReplyId;var f=d("PolarisThreadedCommentSelectors").selectChildCommentsForParentIdSplitByVisibility(a,e.id),g=f.remainingCachedShowableChildCommentIds;f=f.visibleChildComments;var h=d("PolarisThreadedCommentSelectors").getTotalChildCommentCountForParentId(a,e.id);e=(e=a.threadedComments.childByParentId[e.id])!=null?e:d("polarisCommentReducer").EMPTY_POST_COMMENTS_STATE;e=e.pagination;var i=null;c("isStringNullOrEmpty")(b)||(i=a.comments.byId.get(b));return{childCommentsCacheCanShowMoreWithoutFetch:d("PolarisPaginationUtils").getVisibleCount(e)<d("PolarisPaginationUtils").getLoadedCount(e),childCommentsCanFetchMorePagination:d("PolarisPaginationUtils").canFetchMorePagination(e),childCommentsHasNextPage:d("PolarisPaginationUtils").hasNextPage(e),childCommentsIsFetching:d("PolarisPaginationUtils").isFetching(e),permalinkedReply:i,remainingCachedShowableChildCommentIds:g,totalChildCommentCount:h||0,visibleChildComments:f}}e={hideReplies:d("PolarisThreadedCommentActions").hideChildComments,loadChildComments:d("PolarisThreadedCommentActions").requestNextChildCommentPage,loadChildCommentsV2:d("PolarisThreadedCommentActions").requestNextChildCommentPageV2,showReplies:d("PolarisThreadedCommentActions").showChildComments};f=d("PolarisReactRedux.react").connect(a,e)(b);g["default"]=f}),226);
__d("PolarisThreadedCommentsLoadMoreButton.react",["fbt","IGDSBox.react","IGDSCircleAddPanoOutlineIcon.react","IGDSSpinner.react","PolarisIGCoreSVGIconButton.react","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l=h._("__JHASH__JVvIkhGLRc7__JHASH__");function a(a){var b=j(12),e;b[0]!==a?(e=function(b){var c=a.handleLoadMoreCommentsClick,e=a.loggedIn,f=a.onLoggedOutIntentClickLoginModal,g=a.url;b.preventDefault();!e&&d("PolarisUA").isDesktop()?f(g,"post_comment_view_all"):c(g)},b[0]=a,b[1]=e):e=b[1];var f=e;b[2]!==a.commentsIsFetching||b[3]!==f?(e=!a.commentsIsFetching&&k.jsx(c("PolarisIGCoreSVGIconButton.react"),{onClick:function(a){return f(a)},children:k.jsx(c("IGDSCircleAddPanoOutlineIcon.react"),{alt:l})}),b[2]=a.commentsIsFetching,b[3]=f,b[4]=e):e=b[4];var g;b[5]!==a.commentsIsFetching?(g=a.commentsIsFetching&&k.jsx(c("IGDSSpinner.react"),{position:"absolute",size:"medium"}),b[5]=a.commentsIsFetching,b[6]=g):g=b[6];var h;b[7]!==a.marginBottom||b[8]!==a.marginTop||b[9]!==e||b[10]!==g?(h=k.jsxs(c("IGDSBox.react"),{justifyContent:"center",marginBottom:a.marginBottom,marginTop:a.marginTop,minHeight:40,position:"relative",children:[e,g]}),b[7]=a.marginBottom,b[8]=a.marginTop,b[9]=e,b[10]=g,b[11]=h):h=b[11];return h}g["default"]=a}),226);
__d("PolarisThreadedComments.react",["cx","IGDSBox.react","IGDSDivider.react","PolarisBatchDOM","PolarisCommentCover.react","PolarisCommentThread.react","PolarisCommentsContainerPlaceholder.react","PolarisCommentsSectionText.react","PolarisCommentsSortContext.react","PolarisCommentsStrings","PolarisConfig","PolarisInteractionsLogger","PolarisLinkBuilder","PolarisNavigationActions","PolarisNoCommentsPlaceholder.react","PolarisPaginationUtils","PolarisPendingCommentState","PolarisPostComment.react","PolarisPostVariants","PolarisReactRedux.react","PolarisSortCommentsUtil","PolarisThreadedCommentActions","PolarisThreadedCommentSelectors","PolarisThreadedCommentsLoadMoreButton.react","PolarisUA","cr:6742","isStringNullOrEmpty","nullthrows","polarisCommentReducer","polarisRequestIdleCallback","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l={commentsCover:{marginStart:"x16n37ib",marginLeft:null,marginRight:null,$$css:!0}};function m(a,b){var c=b.getBoundingClientRect().top;c=c-b.scrollTop;b=a.getBoundingClientRect().top;return b-c}function n(a){var b=j(22),d=a.innerRef,e=a.isPermalinkedComment,f=a.onHidePermalinkReply,g=a.parentComment,h=a.parentProps,i=a.parentState,l=a.permalinkedReplyId,m=a.permalinkedReplyNodeRef;a=a.replyPagerNodeRef;var n=h.analyticsContext,o=h.code,p=h.commentingDisabledForViewer,q=h.customIndentationPadding,r=h.handleDeleteCommentClick,s=h.hideUserAvatar,t=h.id,u=h.isDeletingComments,v=h.loggedIn,w=h.onLikeCountClick,x=h.ownerId,y=h.reducedAvatarMargin;h=h.showCommentOptionsInline;i=i.commentPermalinkAnimEnabled;var z;b[0]!==n||b[1]!==o||b[2]!==p||b[3]!==q||b[4]!==s||b[5]!==d||b[6]!==e||b[7]!==v||b[8]!==r||b[9]!==f||b[10]!==w||b[11]!==g||b[12]!==i||b[13]!==l||b[14]!==m||b[15]!==t||b[16]!==x||b[17]!==y||b[18]!==a||b[19]!==h||b[20]!==u?(z=k.jsx(c("PolarisCommentThread.react"),{analyticsContext:n,code:o,commentingDisabledForViewer:p,customIndentationPadding:q,hideUserAvatar:s,innerRef:d,isPermalinkedComment:e,loggedIn:v,onDeleteCommentClick:r,onHidePermalinkReply:f,onLikeCountClick:w,parentComment:g,permalinkedReplyAnimating:i,permalinkedReplyId:l,permalinkedReplyNodeRef:m,postId:t,postOwnerId:x,reducedAvatarMargin:y,replyPagerNodeRef:a,showCommentOptionsInline:h,showRemoveIcon:u}),b[0]=n,b[1]=o,b[2]=p,b[3]=q,b[4]=s,b[5]=d,b[6]=e,b[7]=v,b[8]=r,b[9]=f,b[10]=w,b[11]=g,b[12]=i,b[13]=l,b[14]=m,b[15]=t,b[16]=x,b[17]=y,b[18]=a,b[19]=h,b[20]=u,b[21]=z):z=b[21];return z}f=function(a){babelHelpers.inheritsLoose(e,a);function e(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$2=k.createRef(),c.$3=k.createRef(),c.$4=k.createRef(),c.$5=[],c.state={commentPermalinkAnimEnabled:!1,commentsSortOrder:c.props.sortOrder,isAutoscrollingCommentPermalink:!1,replyPermalinkLastHideTime:null,showHiddenComments:!1},c.$13=function(a){a=c.props;var b=a.analyticsContext,e=a.code,f=a.hasRankedComments,g=a.id,h=a.loadMore,i=a.mediaType;a=a.ownerId;h(g,f,e);d("PolarisInteractionsLogger").logInteractionAction({containerModule:b,eventName:"instagram_child_comments_load_more",mediaAuthorId:a,mediaId:g,mediaType:i})},c.$14=function(){c.setState({showHiddenComments:!0})},c.$15=function(a){c.setState({commentsSortOrder:a})},b)||babelHelpers.assertThisInitialized(c)}var f=e.prototype;f.$6=function(){return this.$2.current||null};f.$7=function(){return this.$3.current||null};f.$8=function(){return this.$4.current||null};f.$9=function(a,b,c,e){var f=this;this.setState({commentPermalinkAnimEnabled:!1,isAutoscrollingCommentPermalink:!0});d("PolarisBatchDOM").measure(function(){var g,h=m(b,a);if(c){var i=m(c,a),j=c.getBoundingClientRect().height,k=a.getBoundingClientRect().height;k=Math.max(k-j,0);g=Math.max(h,i-k)}else g=h;d("PolarisBatchDOM").mutate(function(){a.scrollTop=g;var b=function(){f.setState({commentPermalinkAnimEnabled:!0,isAutoscrollingCommentPermalink:!1})};e?d("polarisRequestIdleCallback").requestIdleCallback(function(){b()}):b()})})};f.componentDidMount=function(){var a=this.$1;if(!a)return;var b=this.$6();if(b)this.$9(a,b,this.$7(),!0);else if(!this.props.hasRankedComments){if(d("PolarisUA").isDesktop())return;a.scrollTop=a.scrollHeight}};f.componentDidUpdate=function(a,b,c){var d=this.$1;if(!d)return;var e=this.$6();if(e)if(this.state.isAutoscrollingCommentPermalink)return;else if(this.props.permalinkedCommentId!==a.permalinkedCommentId||this.props.permalinkedReplyId!==a.permalinkedReplyId||this.props.permalinkedComment!==a.permalinkedComment){this.$9(d,e,this.$7(),!1);return}this.$10(a,b,c,d,e)};f.$10=function(a,b,c,e,f){var g=this,h=a.commentSaveIsInFlight&&!this.props.commentSaveIsInFlight;c=c||{};var i=c.newCommentCachedOffset,j=a.id===this.props.id&&a.permalinkedCommentId===this.props.permalinkedCommentId&&a.permalinkedReplyId===this.props.permalinkedReplyId&&b.replyPermalinkLastHideTime!==this.state.replyPermalinkLastHideTime,k=this.$8();h&&!a.commentWasReply&&(this.$5[0]&&this.$5[0].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}));d("PolarisBatchDOM").measure(function(){var b=null;h&&!a.commentWasReply&&!g.props.hasRankedComments?b=e.scrollHeight:i!=null?b=e.scrollHeight-i:j&&f&&k&&(b=g.$11(e,f,k));d("PolarisBatchDOM").mutate(function(){b!=null&&(e.scrollTop=b)})})};f.$11=function(a,b,c){c=m(c,a);b=m(b,a);var d=6;c=Math.max(c-d,b);return a.scrollTop>c?c:null};f.getSnapshotBeforeUpdate=function(a,b){b=a.comments;var c=this.props.comments,d=this.$1;return d&&a.id===this.props.id&&c.count()>b.count()&&!this.props.hasRankedComments?{newCommentCachedOffset:d.scrollHeight-d.scrollTop}:null};f.$12=function(){this.setState({replyPermalinkLastHideTime:new Date().valueOf()})};f.render=function(){var a=this,e=this.props,f=e.analyticsContext,g=e.captionAndTitle,h=e.captionCreatedAt,i=e.captionIsEdited,j=e.className,m=e.comments,o=e.commentsDisabled,p=e.commentsHasNextPage,q=e.disableScroll,r=e.hasCoveredComments,s=e.hasRankedComments,t=e.hideUserAvatar,u=e.id,v=e.initialCommentsLoading,w=e.isOwnerVerified,x=e.loggedIn,y=e.mediaType,z=e.ownerId,A=e.permalinkedComment,B=e.permalinkedReplyId,C=e.postedAt,D=e.reducedAvatarMargin,E=e.requestComments,F=e.showCommentOptionsInline;e=e.showPagerBelowComments;p=o!==!0&&Boolean(p);var G=v&&m.size===0;if((g==null||g==="")&&m.count()===0&&!p&&!G)return d("PolarisUA").isDesktop()?k.jsx("div",{className:j,children:k.jsx(c("PolarisNoCommentsPlaceholder.react"),{})}):k.jsx("div",{className:j});var H=null,I=null,J=null;if(!G&&o!=null){H=A?k.jsx("div",{className:"_a9z3"+(this.state.commentPermalinkAnimEnabled&&!B?" _a9yl":""),ref:this.$2,children:k.jsx(n,{isPermalinkedComment:!0,onHidePermalinkReply:function(){return a.$12()},parentComment:A,parentProps:this.props,parentState:this.state,permalinkedReplyId:B,permalinkedReplyNodeRef:this.$3,replyPagerNodeRef:this.$4})}):null;var K=function(){var b;return(b=a.props.comments.findIndex(function(a){return a.isAuthorVerified===!1}))!=null?b:-1};I=m.map(function(b,e){if(A&&b.id===A.id)return null;return b.isCovered===!0?null:k.jsxs(c("IGDSBox.react"),{marginBottom:4,children:[k.jsx(n,{innerRef:function(b){return a.$5[e]=b},parentComment:b,parentProps:a.props,parentState:a.state},e),a.props.sortOrder===d("PolarisSortCommentsUtil").CommentsOptionValues.META_VERIFIED&&K()===e+1&&k.jsx(c("IGDSDivider.react"),{})]},e)}).filter(function(a){return!!a});J=m.filter(function(a){return a.isCovered===!0}).map(function(b,c){return k.jsx(n,{innerRef:function(b){return a.$5[c]=b},parentComment:b,parentProps:a.props,parentState:a.state},c)})}o=null;c("isStringNullOrEmpty")(g)||(o=k.jsx(c("PolarisPostComment.react"),{analyticsContext:f,captionCreatedAt:h,className:(d("PolarisUA").isMobile()?"_a9z4":"")+" _a9z5",commentOwnerId:z,hideUserAvatar:!!t,isAuthorVerified:!!w,isCaption:!0,isEdited:!!i,isRestrictedPending:!1,loggedIn:x,mediaType:y,postedAt:c("nullthrows")(C),postId:u,postOwnerId:z,reducedAvatarMargin:D,showCommentOptionsInline:F,showRemoveIcon:!1,showRichComment:!0,text:g,variant:d("PolarisPostVariants").VARIANTS.flexible},"captionAndTitle"));B=p&&this.renderLoadMoreCommentsLink(H!=null);f=s||e===!0;h=function(a){return E(u,void 0,a)};t=d("PolarisSortCommentsUtil").showCommentsSortOptions(this.props.sortOrder,m.size);w=function(){return m.some(function(a){return a.isAuthorVerified===!0})};i=this.props.sortOrder===d("PolarisSortCommentsUtil").CommentsOptionValues.META_VERIFIED&&!w();x=k.jsx(c("IGDSBox.react"),{marginEnd:d("PolarisUA").isMobile()?4:0,marginStart:d("PolarisUA").isMobile()?4:0,children:k.jsx(c("IGDSDivider.react"),{})});return k.jsx(d("PolarisCommentsSortContext.react").PolarisCommentsSortContextProvider,{commentsSortOrder:this.state.commentsSortOrder,setCommentsSortOrder:this.$15,children:k.jsx("div",{className:j,children:k.jsxs("ul",{className:"_a9z6"+(q?" _a9z7":"")+(H!==null?" _a9z8":"")+(o===null?" _a9z9":"")+(!B||f?" _a9za":""),ref:function(b){return a.$1=b},children:[o,k.jsxs(c("IGDSBox.react"),{direction:"column",display:"flex",children:[t&&b("cr:6742")!=null&&k.jsx(c("IGDSBox.react"),{marginStart:12,marginTop:2,children:k.jsx(b("cr:6742"),{commentsCount:m.size,fetchComments:h})}),H]}),G?k.jsx(c("PolarisCommentsContainerPlaceholder.react"),{}):null,!f&&B,k.jsx(c("IGDSBox.react"),{children:v?k.jsx(c("PolarisCommentsContainerPlaceholder.react"),{}):k.jsxs(c("IGDSBox.react"),{children:[i&&k.jsx(c("PolarisCommentsSectionText.react"),{commentsDivider:x,marginStart:12,text:d("PolarisSortCommentsUtil").NO_META_VERIFIED_COMMENTS}),k.jsxs(c("IGDSBox.react"),{children:[!d("PolarisConfig").isLoggedOutFRXEligible()&&I,f&&B,!B&&r&&!this.state.showHiddenComments&&k.jsx(c("PolarisCommentCover.react"),{onClick:this.$14,postId:u,postOwnerId:z,xstyle:l.commentsCover}),this.state.showHiddenComments&&k.jsxs(k.Fragment,{children:[k.jsx(c("PolarisCommentsSectionText.react"),{commentsDivider:x,marginStart:12,text:d("PolarisCommentsStrings").COVERED_COMMENTS}),J]})]})]})})]})})})};f.renderLoadMoreCommentsLink=function(a){var b=this.props,e=b.code,f=b.commentsIsFetching,g=b.hasRankedComments,h=b.loggedIn;b=b.onLoggedOutIntentClickLoginModal;e=d("PolarisLinkBuilder").buildMediaCommentsLink(c("nullthrows")(e),d("PolarisUA").isMobile());var i;g?(g=0,i=0):a?(g=2,i=2):(g=0,i=4);return k.jsx("li",{children:k.jsx(c("PolarisThreadedCommentsLoadMoreButton.react"),{commentsIsFetching:f,handleLoadMoreCommentsClick:this.$13,loggedIn:h,marginBottom:i,marginTop:g,onLoggedOutIntentClickLoginModal:b,url:e})})};return e}(k.PureComponent);function a(a,b){var c,e,f=b.id,g=b.ownerId;b=b.permalinkedCommentId;var h=d("PolarisThreadedCommentSelectors").getThreadedCommentsLoading(a,f),i=d("PolarisThreadedCommentSelectors").selectVisibleParentCommentsForPostId(a,f);c=(c=a.threadedComments.parentByPostId[f])!=null?c:d("polarisCommentReducer").EMPTY_POST_COMMENTS_STATE;var j=c.count;c=c.pagination;e=(e=a.pendingComments[f])!=null?e:d("PolarisPendingCommentState").EMPTY_PENDING_COMMENT;var k=null;!h&&b!=null&&b!==""&&(k=a.comments.byId.get(b));b=(f=(b=a.threadedComments.parentByPostId[f])==null?void 0:b.sortOrder)!=null?f:d("PolarisSortCommentsUtil").CommentsOptionValues.TOP;return{comments:i,commentSaveIsInFlight:e.committing,commentsHasNextPage:d("PolarisPaginationUtils").hasNextPage(c),commentsIsFetching:d("PolarisPaginationUtils").isFetching(c),commentsTotalCount:j!=null?j:0,commentWasReply:e.repliedToCommentId!=null,hasCoveredComments:i.some(function(a){return a.isCovered===!0}),initialCommentsLoading:h,isOwnerVerified:d("polarisUserSelectors").getUserByIdOrThrows(a,g).isVerified,permalinkedComment:k,sortOrder:b}}function e(a){return{loadMore:function(b,c,e){d("PolarisConfig").isLoggedIn()?a(d("PolarisThreadedCommentActions").requestNextParentCommentPageV2(b,c)):a(d("PolarisThreadedCommentActions").requestNextParentCommentPage(b,c,e))},onLoggedOutIntentClickLoginModal:function(b,c){a(d("PolarisNavigationActions").openLoginModal("feature_wall",b,c,null,b))},requestComments:function(b,c,e){a(d("PolarisThreadedCommentActions").requestInitialComments(b,c,e))}}}h=d("PolarisReactRedux.react").connect(a,e)(f);g["default"]=h}),98);
__d("PolarisThreadedCommentsLoader.react",["CometPlaceholder.react","IGDSBox.react","IGDSSpinner.react","PolarisErrorBoundary.react","PolarisMonitorErrors","PolarisReactRedux.react","PolarisThreadedCommentActions","react","usePolarisGetQuerySetup"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function k(a){var b=a.children,e=a.initialCommentsQuery;a=a.postId;c("usePolarisGetQuerySetup")(e,d("PolarisThreadedCommentActions").setupPostComments(a));return b}function a(a){var b=i(12),e=a.children,f=a.initialCommentsQuery,g=a.postId,h=d("PolarisReactRedux.react").useDispatch();b[0]!==h||b[1]!==g?(a=function(a){h(d("PolarisThreadedCommentActions").initialCommentsError(g)),d("PolarisMonitorErrors").logError(a)},b[0]=h,b[1]=g,b[2]=a):a=b[2];a=a;var l;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(l=function(){return null},b[3]=l):l=b[3];var m;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(m=j.jsx(c("IGDSBox.react"),{direction:"row",justifyContent:"center",position:"relative",children:j.jsx(c("IGDSSpinner.react"),{})}),b[4]=m):m=b[4];b[5]!==f||b[6]!==g||b[7]!==e?(m=j.jsx(c("CometPlaceholder.react"),{fallback:m,children:j.jsx(k,{initialCommentsQuery:f,postId:g,children:e})}),b[5]=f,b[6]=g,b[7]=e,b[8]=m):m=b[8];b[9]!==a||b[10]!==m?(f=j.jsx(c("PolarisErrorBoundary.react"),{errorRenderer:l,onError:a,children:m}),b[9]=a,b[10]=m,b[11]=f):f=b[11];return f}g["default"]=a}),98);
__d("PolarisPostComments.react",["PolarisDeleteCommentModal.react","PolarisPostRemoveCommentsSelectors","PolarisPostVariants","PolarisPreviewComments.react","PolarisReactRedux.react","PolarisThreadedComments.react","PolarisThreadedCommentsLoader.react","PolarisUA","nullthrows","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={commentToDeleteId:null,showDeleteCommentModal:!1},c.$1=function(a){c.setState({commentToDeleteId:a,showDeleteCommentModal:!0})},c.$2=function(){c.setState({commentToDeleteId:null,showDeleteCommentModal:!1})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.$3=function(){return this.props.variant!==d("PolarisPostVariants").VARIANTS.feed&&!d("PolarisUA").isMobile()};e.render=function(){var a=this.props,b=a.analyticsContext,d=a.caption,e=a.captionCreatedAt,f=a.captionIsEdited,g=a.className,h=a.code,j=a.commentingDisabledForViewer,k=a.commentsAreStacked,l=a.commentsDisabled,m=a.customIndentationPadding,n=a.hasRankedComments,o=a.hideUserAvatar,p=a.id,q=a.initialCommentsQuery,r=a.mediaType,s=a.onLikeCountClick,t=a.ownerId,u=a.permalinkedCommentId,v=a.permalinkedReplyId,w=a.postedAt,x=a.reducedAvatarMargin,y=a.showCommentOptionsInline,z=a.showRemoveCommentIcons,A=a.variant;a=a.viewerId;a=a!=null;this.$3()?(e=i.jsx(c("PolarisThreadedComments.react"),{analyticsContext:b,captionAndTitle:d,captionCreatedAt:e,captionIsEdited:f,className:g,code:h,commentingDisabledForViewer:j,commentsDisabled:l,customIndentationPadding:m,handleDeleteCommentClick:this.$1,hasRankedComments:n,hideUserAvatar:!!o,id:p,isDeletingComments:z,loggedIn:a,mediaType:r,onLikeCountClick:s,ownerId:t,permalinkedCommentId:u,permalinkedReplyId:v,postedAt:w,reducedAvatarMargin:x,showCommentOptionsInline:y}),q!=null&&(e=i.jsx(c("PolarisThreadedCommentsLoader.react"),{initialCommentsQuery:q,postId:p,children:e}))):e=i.jsx(c("PolarisPreviewComments.react"),{captionAndTitle:d,captionIsEdited:f,className:g,code:h,commentsAreStacked:k,commentsDisabled:l,handleDeleteCommentClick:this.$1,id:p,loggedIn:a,mediaType:r,ownerId:t,postedAt:w,showRemoveCommentIcons:z,variant:A});return i.jsxs(i.Fragment,{children:[e,this.state.showDeleteCommentModal&&i.jsx(c("PolarisDeleteCommentModal.react"),{analyticsContext:b,commentId:c("nullthrows")(this.state.commentToDeleteId),onClose:this.$2,postId:p})]})};return b}(i.PureComponent);b.defaultProps={variant:d("PolarisPostVariants").VARIANTS.flexible};function a(a){return{showRemoveCommentIcons:d("PolarisPostRemoveCommentsSelectors").getPostRemoveCommentsIsVisible(a),viewerId:(a=d("polarisUserSelectors").getViewer__DEPRECATED(a))==null?void 0:a.id}}e=d("PolarisReactRedux.react").connect(a)(b);g["default"]=e}),98);
__d("PolarisPostPreviewCommentsPicker.react",["CometPlaceholder.react","IGDSBox.react","IGDSSpinner.react","PolarisPostCaptionTranslationPrompt.react","PolarisPostComments.react","PolarisPostFastPreviewCaption.react","PolarisPostFastPreviewCommentsList.react","PolarisPostVariants","PolarisUA","react","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage","xigRequireInterop"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var e=i(33),f=c("usePolarisIsOnFeedPage")(),g=c("usePolarisIsOnAdsActivityPage")(),h;e[0]!==f||e[1]!==g?(h=(f||g)&&d("PolarisUA").isDesktop(),e[0]=f,e[1]=g,e[2]=h):h=e[2];f=h;g=a.variant!==d("PolarisPostVariants").VARIANTS.feed&&!d("PolarisUA").isMobile();if(g){e[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=j.jsx(c("IGDSSpinner.react"),{position:"absolute"}),e[3]=h):h=e[3];e[4]!==a.className?(g=j.jsx("div",{className:a.className,children:h}),e[4]=a.className,e[5]=g):g=e[5];e[6]!==a?(h=j.jsx(c("PolarisPostComments.react"),babelHelpers["extends"]({},a)),e[6]=a,e[7]=h):h=e[7];var k;e[8]!==g||e[9]!==h?(k=j.jsx(c("CometPlaceholder.react"),{fallback:g,children:h}),e[8]=g,e[9]=h,e[10]=k):k=e[10];return k}e[11]===Symbol["for"]("react.memo_cache_sentinel")?(g=c("xigRequireInterop")(b("PolarisPostFastPreviewCommentsList.react")),e[11]=g):g=e[11];h=g["default"];e[12]===Symbol["for"]("react.memo_cache_sentinel")?(k=c("xigRequireInterop")(b("PolarisPostFastPreviewCaption.react")),e[12]=k):k=e[12];g=k["default"];e[13]!==g||e[14]!==a.enableTruncation||e[15]!==a.inModal||e[16]!==a.id?(k=j.jsx(g,{enableTruncation:a.enableTruncation,inModal:a.inModal,postId:a.id}),e[13]=g,e[14]=a.enableTruncation,e[15]=a.inModal,e[16]=a.id,e[17]=k):k=e[17];e[18]!==f||e[19]!==a?(g=f&&j.jsx(c("PolarisPostCaptionTranslationPrompt.react"),{inFeed:!0,marginBottom:2,postId:a.id}),e[18]=f,e[19]=a,e[20]=g):g=e[20];e[21]!==h||e[22]!==a.inModal||e[23]!==a.id||e[24]!==a.shouldIncreaseCommentPreviews?(f=j.jsx(h,{inModal:a.inModal,postId:a.id,shouldIncreaseCommentPreviews:a.shouldIncreaseCommentPreviews}),e[21]=h,e[22]=a.inModal,e[23]=a.id,e[24]=a.shouldIncreaseCommentPreviews,e[25]=f):f=e[25];e[26]!==k||e[27]!==g||e[28]!==f?(h=j.jsxs(c("IGDSBox.react"),{position:"relative",children:[k,g,f]}),e[26]=k,e[27]=g,e[28]=f,e[29]=h):h=e[29];e[30]!==a.className||e[31]!==h?(k=j.jsx("div",{className:a.className,children:h}),e[30]=a.className,e[31]=h,e[32]=k):k=e[32];return k}g["default"]=a}),98);
__d("PolarisHotKeys.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.unstable_useMemoCache;c={keyMap:{}};var l=i.createContext(c);function a(a){var b=k(15),c=a.children,d=a.className,e=a.isButton,f=a.keyMap;a=e===void 0?!1:e;e=j(l).keyMap;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a){return!(a.ctrlKey||a.altKey||a.metaKey)},b[0]=e):e=b[0];var g=e;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(){var a;return((a=document.activeElement)==null?void 0:a.tagName.toLowerCase())!=="textarea"&&((a=document.activeElement)==null?void 0:a.tagName.toLowerCase())!=="input"},b[1]=e):e=b[1];var h=e;b[2]!==f?(e=function(a){if(f[a.key]!=null&&h()&&g(a)){var b=f[a.key];b();a.stopPropagation()}},b[2]=f,b[3]=e):e=b[3];e=e;var m=a?"button":"presentation";a=a?"0":"-1";var n;b[4]!==f?(n={keyMap:f},b[4]=f,b[5]=n):n=b[5];var o;b[6]!==c||b[7]!==e||b[8]!==m||b[9]!==a||b[10]!==d?(o=typeof c==="function"?c(e,m,a):i.jsx("div",{className:d,onKeyUp:e,role:m,tabIndex:a,children:c}),b[6]=c,b[7]=e,b[8]=m,b[9]=a,b[10]=d,b[11]=o):o=b[11];b[12]!==n||b[13]!==o?(c=i.jsx(l.Provider,{value:n,children:o}),b[12]=n,b[13]=o,b[14]=c):c=b[14];return c}g["default"]=a}),98);
__d("PolarisPostFeedbackControls.react",["IGRouter_DO_NOT_USE.react","PolarisCommentButton.react","PolarisFeedActionOpenPostModalForId","PolarisInFeedPostModalContext","PolarisInteractionsLogger","PolarisLikeButton.react","PolarisLinkBuilder","PolarisLoggedOutDownloadAppHelpers","PolarisLogger","PolarisNavigationActions","PolarisPostFastShareButton.react","PolarisPostVariants","PolarisReactRedux.react","PolarisSaveButton.react","PolarisSponsoredPostContext.react","PolarisTrackingConstants","PolarisUA","XPolarisMobileAllCommentsControllerRouteBuilder","logPolarisPostModalOpen","polarisPostSelectors","react","stylex","usePolarisMediaSaveToCollectionReduxHandler","usePolarisPostShowSavedToastHandler","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useContext,l=b.unstable_useMemoCache,m={commentButton:{display:"x1rg5ohu",$$css:!0},commentButtonLeftAligned:{marginEnd:"x1emribx",order:"x182iqb8",$$css:!0},likeButton:{display:"x1rg5ohu",marginStart:"xp7jhwk",$$css:!0},likeButtonLeftAligned:{marginEnd:"x1emribx",marginLeft:null,marginRight:null,order:"x9ek82g",$$css:!0},root:{display:"x78zum5",flexDirection:"x1q0g3np",marginTop:"x1gslohp",$$css:!0},saveButton:{borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",display:"x1rg5ohu",font:"xln7xf2",fontSize:"xk390pu",marginTop:"xdj266r",marginEnd:"x1sre0sj",marginBottom:"xat24cr",marginStart:"x1gryazu",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",verticalAlign:"x11njtxf",$$css:!0},saveButtonLeftAligned:{marginEnd:"x1emribx",marginLeft:null,marginRight:null,marginStart:"x1mh8g0r",order:"xo1ph6p",$$css:!0},shareButton:{display:"x1rg5ohu",$$css:!0},shareButtonLeftAligned:{marginEnd:"x1emribx",order:"x14yy4lh",$$css:!0}};function a(a){var b=l(78),e=a.analyticsContext,f=a.canViewerProvideFeedback,g=a.canViewerReshare,i=a.code,n=a.commentsDisabled,o=a.containerRef,p=a.customAlignment,q=a.hideShareButton,r=a.isBlocked,s=a.isLoggedIn,t=a.isSidecar,u=a.isVideo,v=a.likedByViewer,w=a.mediaId,x=a.onCommentClick,y=a.onLikeChange,z=a.onSaveChange,A=a.ownerIsPrivate,B=a.ownerUsername,C=a.postId,D=a.savedByViewer,E=a.sharingFrictionInfo,F=a.variant,G=a.xstyle,H=a.history,I=d("PolarisReactRedux.react").useDispatch(),J=d("PolarisLoggedOutDownloadAppHelpers").useHandleDownloadAppClick(e);b[0]!==C?(a=function(a){return d("polarisPostSelectors").getPostById(a,C)},b[0]=C,b[1]=a):a=b[1];a=c("usePolarisSelector")(a);var K;b[2]!==C?(K=function(a){return d("polarisPostSelectors").getSavedCollectionsForPost(a,C)},b[2]=C,b[3]=K):K=b[3];K=c("usePolarisSelector")(K);var L=c("usePolarisPostShowSavedToastHandler")(),M=k(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext),N=M.canUserSeePersistentCta,O=k(d("PolarisInFeedPostModalContext").InFeedPostModalContext);b[4]!==I||b[5]!==i||b[6]!==J||b[7]!==B?(M=function(a){var b;bb6:switch(a){case"comment":b="post_feedback_comment";break bb6;case"direct":b="post_feedback_direct";break bb6;case"like":b="post_feedback_like";break bb6;case"save":default:b="post_feedback_save"}d("PolarisUA").isDesktop()?I(d("PolarisNavigationActions").openLoginModal("feature_wall",d("PolarisLinkBuilder").buildMediaLink(i),b)):d("PolarisLoggedOutDownloadAppHelpers").downloadAppOnUfiButtonClick()?J():I(d("PolarisNavigationActions").openLoggedOutIntentDialog(b,B))},b[4]=I,b[5]=i,b[6]=J,b[7]=B,b[8]=M):M=b[8];var P=M;b[9]!==s||b[10]!==y||b[11]!==e||b[12]!==P?(M=function(a){s?y(a,"button"):(d("PolarisLogger").logAction("likeAttempt",{source:e}),P("like"))},b[9]=s,b[10]=y,b[11]=e,b[12]=P,b[13]=M):M=b[13];M=M;var Q;b[14]!==s||b[15]!==z||b[16]!==e||b[17]!==P?(Q=function(a){s?z(a):(d("PolarisLogger").logAction("saveAttempt",{source:e}),P("save"))},b[14]=s,b[15]=z,b[16]=e,b[17]=P,b[18]=Q):Q=b[18];Q=Q;var R=c("usePolarisMediaSaveToCollectionReduxHandler")(C),S;b[19]!==s||b[20]!==e||b[21]!==u||b[22]!==F||b[23]!==I||b[24]!==C||b[25]!==O||b[26]!==t||b[27]!==N||b[28]!==i||b[29]!==H||b[30]!==x||b[31]!==P?(S=function(){var a=d("PolarisUA").isMobile();d("PolarisLogger").logAction("commentButtonClicked",{isLoggedIn:s,source:e,type:u?"video":"photo"});if(s)if(d("PolarisUA").isDesktop()&&F===d("PolarisPostVariants").VARIANTS.feed)I(d("PolarisFeedActionOpenPostModalForId").openPostModalForId(C)),O(C),c("logPolarisPostModalOpen")(e,d("PolarisInteractionsLogger").getMediaTypeFromPost({isSidecar:t,isVideo:u}),"feed_comment");else if(F===d("PolarisPostVariants").VARIANTS.feed||a){a=c("XPolarisMobileAllCommentsControllerRouteBuilder").buildURL((a={},a[d("PolarisTrackingConstants").ENABLE_PERSISTENT_CTA]=N||void 0,a.shortcode=i,a));H.push(a)}else x();else P("comment")},b[19]=s,b[20]=e,b[21]=u,b[22]=F,b[23]=I,b[24]=C,b[25]=O,b[26]=t,b[27]=N,b[28]=i,b[29]=H,b[30]=x,b[31]=P,b[32]=S):S=b[32];S=S;f=!s||f;if(r||!f)return null;r=A!==!0&&Boolean(g);f=p==="left";A=f&&m.likeButtonLeftAligned;b[33]!==A?(g=(h||(h=c("stylex")))(m.likeButton,A),b[33]=A,b[34]=g):g=b[34];b[35]!==g||b[36]!==v||b[37]!==M?(p=j.jsx(c("PolarisLikeButton.react"),{className:g,"data-testid":void 0,isLiked:v,onChange:M}),b[35]=g,b[36]=v,b[37]=M,b[38]=p):p=b[38];b[39]!==n||b[40]!==f||b[41]!==S?(A=!n&&j.jsx(c("PolarisCommentButton.react"),{className:(h||(h=c("stylex")))(m.commentButton,f&&m.commentButtonLeftAligned),"data-testid":void 0,onClick:S}),b[39]=n,b[40]=f,b[41]=S,b[42]=A):A=b[42];b[43]!==r||b[44]!==q||b[45]!==f||b[46]!==e||b[47]!==w||b[48]!==C||b[49]!==E?(g=r&&q!==!0&&j.jsx("span",{className:(h||(h=c("stylex")))(m.shareButton,f&&m.shareButtonLeftAligned),children:j.jsx(c("PolarisPostFastShareButton.react"),{analyticsContext:e,"data-testid":void 0,mediaId:w,mediaOverlayInfo:null,postId:C,sharingFrictionInfo:E})}),b[43]=r,b[44]=q,b[45]=f,b[46]=e,b[47]=w,b[48]=C,b[49]=E,b[50]=g):g=b[50];b[51]!==p||b[52]!==A||b[53]!==g?(v=j.jsxs(j.Fragment,{children:[p,A,g]}),b[51]=p,b[52]=A,b[53]=g,b[54]=v):v=b[54];M=v;b[55]!==G?(n=(h||(h=c("stylex")))(m.root,G),b[55]=G,b[56]=n):n=b[56];S=f&&m.saveButtonLeftAligned;b[57]!==S?(r=(h||(h=c("stylex")))(m.saveButton,S),b[57]=S,b[58]=r):r=b[58];if(b[59]!==K){w=(q=K)!=null?q:[];b[59]=K;b[60]=w}else w=b[60];b[61]!==e||b[62]!==w||b[63]!==D||b[64]!==Q||b[65]!==R||b[66]!==L||b[67]!==C||b[68]!==a.displayResources?(E=j.jsx(c("PolarisSaveButton.react"),{analyticsContext:e,collectionsPostSavedTo:w,"data-testid":void 0,isSaved:D,onSaveMedia:Q,onSaveMediaToCollection:R,onShowToast:L,postId:C,thumbnailSrcSet:a.displayResources}),b[61]=e,b[62]=w,b[63]=D,b[64]=Q,b[65]=R,b[66]=L,b[67]=C,b[68]=a.displayResources,b[69]=E):E=b[69];b[70]!==r||b[71]!==E?(p=j.jsx("span",{className:r,children:E}),b[70]=r,b[71]=E,b[72]=p):p=b[72];b[73]!==n||b[74]!==o||b[75]!==M||b[76]!==p?(A=j.jsxs("section",{className:n,ref:o,children:[M,p]}),b[73]=n,b[74]=o,b[75]=M,b[76]=p,b[77]=A):A=b[77];return A}e=d("IGRouter_DO_NOT_USE.react").withIGRouter(a);g["default"]=e}),98);
__d("PolarisPostFooter.react",["IGDSBox.react","PolarisBoostUtils.react","PolarisPostBoostButton.react","PolarisPostViewInsights.react","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k={marginTop0:{marginTop:"xdj266r",$$css:!0},marginTop16:{marginTop:"xw7yly9",$$css:!0}};function a(a){var b=i(20),e=a.analyticsContext,f=a.bloksAppId,g=a.boostedStatus,h=a.boostUnavailableIdentifier,l=a.boostUnavailableReason,m=a.className,n=a.hasViewInsights,o=a.mediaId,p=a.productType;a=a.viewerId;a=d("PolarisBoostUtils.react").useIsEligibleForBoost(g!=null&&a!=null);if(!n&&!a)return null;var q=n?"between":"end",r=n?k.marginTop0:k.marginTop16,s;b[0]!==n||b[1]!==f||b[2]!==o?(s=n&&j.jsx(c("PolarisPostViewInsights.react"),{bloksAppId:f,mediaId:o}),b[0]=n,b[1]=f,b[2]=o,b[3]=s):s=b[3];b[4]!==a||b[5]!==p||b[6]!==g||b[7]!==e||b[8]!==h||b[9]!==l||b[10]!==o?(n=a&&p!=="ad"&&j.jsx(c("PolarisPostBoostButton.react"),{analyticsContext:e,boostedStatus:c("nullthrows")(g),boostUnavailableIdentifier:h,boostUnavailableReason:l,isOrganicMediaArchived:!1,mediaId:o,productType:c("nullthrows")(p)}),b[4]=a,b[5]=p,b[6]=g,b[7]=e,b[8]=h,b[9]=l,b[10]=o,b[11]=n):n=b[11];b[12]!==q||b[13]!==r||b[14]!==s||b[15]!==n?(f=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:q,paddingX:4,paddingY:3,position:"relative",xstyle:r,children:[s,n]}),b[12]=q,b[13]=r,b[14]=s,b[15]=n,b[16]=f):f=b[16];b[17]!==m||b[18]!==f?(a=j.jsx("section",{className:m,children:f}),b[17]=m,b[18]=f,b[19]=a):a=b[19];return a}g["default"]=a}),98);
__d("PolarisPostLikers.react",["IGDSBox.react","IGDSText.react","IGRouter_DO_NOT_USE.react","PolarisConfig","PolarisFacepile.next.react","PolarisLikedByListActions","PolarisLikedByListButton.react","PolarisLikedByText.react","PolarisLinkBuilder","PolarisLogger","PolarisNavigationActions","PolarisPostUtils","PolarisReactRedux.react","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$2=function(){c.props.onLike()};c.$3=function(a){c.$1(),!c.props.viewer&&c.props.inModal!==!0?(a.preventDefault(),c.props.onGoToLoginModal(c.props.code)):d("PolarisUA").isDesktop()&&(a.preventDefault(),c.props.onViewLikedByList(c.props.mediaId),c.props.onLikeCountClick(a))};return c}var e=b.prototype;e.$1=function(){d("PolarisLogger").logAction("likeCountClick")};e.render=function(){var a=d("PolarisPostUtils").getOrderedUsersForLikedByList(this.props.users,this.props.viewer).map(function(a){return a.profilePictureUrl}).filter(Boolean),b=i.jsx(c("PolarisFacepile.next.react"),{avatarSize:this.props.avatarSize,border:"transparent",userProfilePicUrls:a}),e=!!this.props.viewer;return i.jsxs(c("IGDSBox.react"),{direction:"row",flex:"grow",position:"relative",children:[a.length>0&&e===!0&&i.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"column",justifyContent:"start",marginEnd:1,position:"relative",children:i.jsx(c("PolarisLikedByListButton.react"),{code:this.props.code,inModal:this.props.inModal,onClick:this.$3,children:b})}),i.jsx(c("IGDSBox.react"),{alignItems:"start",direction:"column",flex:"grow",margin:"auto",position:"relative",wrap:!0,children:i.jsx(c("IGDSText.react"),{zeroMargin:!0,children:i.jsx(c("PolarisLikedByText.react"),{code:this.props.code,hideCounts:this.props.hideCounts,inModal:!!this.props.inModal,onClick:this.$3,onLike:this.$2,topLikers:this.props.topLikers,totalCount:this.props.totalCount,users:this.props.users})})})]})};return b}(i.Component);function a(a){return{onGoToLoginModal:function(b){b=d("PolarisLinkBuilder").buildMediaLink(b);a(d("PolarisNavigationActions").openLoginModal("content_wall",b,null,null,b));return},onLoggedOutIntentClickLoginModal:function(b,c){var e=d("PolarisUA").isDesktop()||d("PolarisConfig").isLoggedOutFRXEligible()?"feature_wall":"content_wall";a(d("PolarisNavigationActions").openLoginModal(e,b,c,null,b))},onViewLikedByList:function(b){return a(d("PolarisLikedByListActions").requestNativeLikedByList(b))}}}e=d("IGRouter_DO_NOT_USE.react").withIGRouter(d("PolarisReactRedux.react").connect(null,a)(b));g["default"]=e}),98);
__d("PolarisPostSocialProof.react",["PolarisPostLikers.react","PolarisPostVariants","PolarisPostViews.react","PolarisShouldHideLikeCountsWithControls","PolarisUA","nullthrows","polarisGetPostFromGraphMediaInterface","react","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(28),e=a.analyticsContext,f=a.canLike,g=a.className,h=a.code,k=a.containerRef,l=a.inModal,m=a.likeAndViewCountsDisabled,n=a.likedByViewer,o=a.likers,p=a.mediaId,q=a.numPreviewLikes,r=a.onLikeChange,s=a.onLikeCountClick,t=a.productType,u=a.topLikers,v=a.variant,w=a.videoViews,x=a.viewer;a=a.viewerIsOwner;var y=w!=null&&w>0,z=q!==0,A=c("usePolarisIsOnFeedPage")(),B=c("usePolarisIsOnAdsActivityPage")();v===d("PolarisPostVariants").VARIANTS.feed?v=z||y:v=z||y||f;z=x==null?void 0:x.hideLikeAndViewCounts;b[0]!==z||b[1]!==m||b[2]!==a?(f=d("PolarisShouldHideLikeCountsWithControls").shouldHideLikeCountsWithControls(z,m,a),b[0]=z,b[1]=m,b[2]=a,b[3]=f):f=b[3];z=f;m=y&&!z&&!d("polarisGetPostFromGraphMediaInterface").isClipsProductType(t);if(!v)return null;b[4]!==A||b[5]!==B||b[6]!==l?(a=(A||B)&&l!==!0&&d("PolarisUA").isDesktop(),b[4]=A,b[5]=B,b[6]=l,b[7]=a):a=b[7];f=a;b[8]!==m||b[9]!==w||b[10]!==e||b[11]!==q||b[12]!==f||b[13]!==l||b[14]!==r||b[15]!==h||b[16]!==z||b[17]!==n||b[18]!==p||b[19]!==s||b[20]!==u||b[21]!==o||b[22]!==x?(y=m?j.jsx(c("PolarisPostViews.react"),{analyticsContext:e,likeCount:q,viewCount:c("nullthrows")(w)}):j.jsx(c("PolarisPostLikers.react"),{avatarSize:f?"micro":void 0,code:h,hideCounts:z,inModal:!!l,likedByViewer:n,mediaId:p,onLike:function(){r(!0,"beTheFirstPrompt")},onLikeCountClick:s,topLikers:u,totalCount:q,users:o,viewer:x}),b[8]=m,b[9]=w,b[10]=e,b[11]=q,b[12]=f,b[13]=l,b[14]=r,b[15]=h,b[16]=z,b[17]=n,b[18]=p,b[19]=s,b[20]=u,b[21]=o,b[22]=x,b[23]=y):y=b[23];b[24]!==g||b[25]!==k||b[26]!==y?(t=j.jsx("section",{className:g,ref:k,children:y}),b[24]=g,b[25]=k,b[26]=y,b[27]=t):t=b[27];return t}g["default"]=a}),98);
__d("PolarisPostDetailsSection.react",["IGDSBox.react","IGDSText.react","PolarisCommentLikedByListContainerLazy.react","PolarisConfig","PolarisFeedPageConstants","PolarisGenericStrings","PolarisHotKeys.react","PolarisInteractionsLogger","PolarisLikedByListContainerLazy.react","PolarisLikedByListVariant","PolarisLinkBuilder","PolarisPendingCommentState","PolarisPoliticalContextButton.react","PolarisPostCaptionTranslationPrompt.react","PolarisPostCommentInputPicker.react","PolarisPostConstants","PolarisPostFeatures.react","PolarisPostFeedbackControls.react","PolarisPostFooter.react","PolarisPostModalRenderingContext.react","PolarisPostPreviewCommentsPicker.react","PolarisPostSocialProof.react","PolarisPostTimestamp.react","PolarisPostVariants","PolarisReactRedux.react","PolarisUA","isStringNullOrEmpty","nullthrows","polarisAdsSelectors.react","react","stylex","usePolarisDisplayProperties","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,aa=b.useRef,l=b.useState,ba=b.unstable_useMemoCache,m={commentingDisabledForViewerBox:{alignItems:"x6s0dn4",borderTopColor:"x1xp8e9x",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",display:"x78zum5",height:"x1dnml7z",justifyContent:"xl56j7k",marginTop:"x1gslohp",order:"x1hrcb2b",$$css:!0},commentingDisabledForViewerBoxFamiliarFeed:{borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",height:"xxeg0ib",$$css:!0},commentingDisabledForViewerBoxV2:{marginTop:"xdj266r",$$css:!0},commentInput:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},commentInputAsSidebar:{order:"x1hrcb2b",$$css:!0},commentInputHidden:{display:"x1s85apg",minHeight:"x1wxaq2x",$$css:!0},commentInputStatic:{paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,$$css:!0},commentInputV2:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},commentInputV2WithRichComments:{paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,paddingStart:"x1ye3gou",$$css:!0},comments:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",overflowX:"xw2csxc",overflowY:"x1odjw0f",position:"x1n2onr6",$$css:!0},commentsAsSidebar:{marginTop:"xdj266r",marginEnd:"x1kncehz",marginBottom:"xat24cr",marginStart:"x10ndw75",order:"x9ek82g",overflowX:"x6ikm8r",$$css:!0},commentsMarginBottom:{marginBottom:"x12nagc",$$css:!0},commentsMarginBottomDense:{marginBottom:"xat24cr",$$css:!0},commentsV2:{marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"x4ii5y1",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"xn6708d",paddingBottom:"x18d9i69",paddingStart:"x1ye3gou",$$css:!0},commentsWithRichComments:{marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"x4ii5y1",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x1pi30zi",paddingBottom:"x18d9i69",paddingStart:"x1swvt13",$$css:!0},expandedSidebarContainerResponsive:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"xo71vjh",$$css:!0},feedback:{marginTop:"x1gslohp",paddingBottom:"xwib8y2",paddingTop:"x1yrsyyn",$$css:!0},feedbackAsSidebar:{borderTopColor:"x1xp8e9x",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",order:"xo1ph6p",$$css:!0},feedbackV2:{paddingBottom:"x10b6aqq",paddingTop:"xexx8yu",$$css:!0},feedbackV2WithRichComments:{paddingEnd:"xn6708d",paddingLeft:null,paddingRight:null,paddingStart:"x1ye3gou",$$css:!0},feedbackWithRichComments:{paddingEnd:"x1pi30zi",paddingLeft:null,paddingRight:null,paddingStart:"x1swvt13",$$css:!0},mediaInfo:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",minWidth:"x1q2y9iw",paddingTop:"xexx8yu",paddingEnd:"x1pi30zi",paddingBottom:"x18d9i69",paddingStart:"x1swvt13",position:"x1n2onr6",width:"xh8yej3",$$css:!0},mediaInfoAsSidebar:{boxSizing:"x9f619",flexGrow:"x1iyjqo2",paddingEnd:"xxbr6pl",paddingStart:"xbbxn1n",$$css:!0},mediaInfoFamiliarFeed:{borderTopStyle:"x1ejq31n",borderEndStyle:"xd10rxx",borderBottomStyle:"x1sy0etr",borderStartStyle:"x17r0tee",$$css:!0},mediaInfoWithRichComments:{borderStartColor:"x18l3tf1",borderStartStyle:"x26u7qi",borderStartWidth:"xy80clv",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",$$css:!0},msite:{borderBottomColor:"xh05dso",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},politicalContext:{marginBottom:"x1e56ztr",$$css:!0},politicalContextV2:{paddingEnd:"xn6708d",paddingStart:"x1ye3gou",$$css:!0},politicalContextWithRichComments:{paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0},responsiveViewInsights:{marginStart:"x169t7cy",width:"x1j7kr1c",$$css:!0},roundedSidebarContainer:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},sectionWithNoPadding:{overflowX:"x1plvlek",overflowY:"xryxfnj",paddingEnd:"x4uap5",paddingLeft:null,paddingRight:null,paddingStart:"xkhd6sd",$$css:!0},sidebarContainer:{display:"x78zum5",flexDirection:"xdt5ytf",pointerEvents:"x67bb7w",position:"x1n2onr6",$$css:!0},sidebarContainerAsSidebar:{backgroundColor:"xvbhtw8",height:"x5yr21d",width:"x4h1yfo",$$css:!0},sidebarContainerFeedRoot:{backgroundColor:"xvbhtw8",$$css:!0},sidebarContainerInModal:{backgroundColor:"xvbhtw8",height:"x5yr21d",$$css:!0},sidebarContainerV2:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",$$css:!0},socialProof:{marginBottom:"x1e56ztr",$$css:!0},socialProofAsSidebar:{marginBottom:"x12nagc",order:"x182iqb8",$$css:!0},socialProofV2:{paddingEnd:"xn6708d",paddingStart:"x1ye3gou",$$css:!0},socialProofWithRichComments:{paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",$$css:!0},timestamp:{marginBottom:"x1yztbdb",$$css:!0},timestampAsSidebar:{order:"x1h3rv7z",$$css:!0},timestampDense:{marginBottom:"x1e56ztr",$$css:!0},timestampV2:{paddingStart:"x1ye3gou",$$css:!0},timestampWithRichComments:{paddingStart:"x1swvt13",$$css:!0},viewInsights:{borderBottomStyle:"x1sy0etr",borderTopColor:"x1xp8e9x",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",order:"x14yy4lh",$$css:!0},viewInsightsWithStackedCommentsSidecar:{marginBottom:"x1hyhr7",marginTop:"x1gde2r1",$$css:!0}};function a(a){var b=ba(81),e=a.analyticsContext,f=a.bloksAppId,g=a.currSidecarIndex,i=a.currSidecarItem,n=a.enableTruncation,o=a.handleLikeChange,p=a.handleSaveChange,q=a.hasDenserFeedRedesign,r=a.hasSidebarInRedesign,s=a.hasViewInsights,t=a.initialCommentsQuery,u=a.owner,v=a.permalinkedCommentId,w=a.permalinkedReplyId,x=a.post,y=a.postAuthorId,z=a.postAuthorUsername,A=a.postFeedbackControlsRef,B=a.postHeader,ca=a.redesignWithoutSidebar,C=a.redesignWithSidebar,da=a.shouldIncreaseCommentPreviews,D=a.showDetailsAsSidebar,E=a.variant,F=a.viewer,G=!d("PolarisUA").isDesktop();a=l(null);var H=a[0],ea=a[1];a=l(!1);var fa=a[0],ga=a[1];a=l(!1);var ha=a[0],ia=a[1];a=c("usePolarisDisplayProperties")();var ja=a.viewportWidth,I=aa(null);b[0]!==x.commentsDisabled||b[1]!==x.commentingDisabledForViewer||b[2]!==ha||b[3]!==ja?(a=function(){return x.commentsDisabled!==!0&&x.commentingDisabledForViewer!==!0&&(ha||ja>=d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF)},b[0]=x.commentsDisabled,b[1]=x.commentingDisabledForViewer,b[2]=ha,b[3]=ja,b[4]=a):a=b[4];var J=a;b[5]!==x.id?(a=function(a){return(a=a.pendingComments[x.id])!=null?a:d("PolarisPendingCommentState").EMPTY_PENDING_COMMENT},b[5]=x.id,b[6]=a):a=b[6];a=d("PolarisReactRedux.react").useSelector(a);var K=a.committing,L=c("usePrevious")(K);a=d("PolarisPostModalRenderingContext.react").usePolarisPostModalRenderingContext();var M=a.isInModal;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){ia(!0),I.current&&I.current.focusAndScroll()},b[7]=a):a=b[7];var N=a;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){ga(!1)},b[8]=a):a=b[8];var ka=a;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){ga(!0)},b[9]=a):a=b[9];var la=a;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){ea(null)},b[10]=a):a=b[10];var ma=a;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){ea(a)},b[11]=a):a=b[11];var na=a;b[12]!==F||b[13]!==x||b[14]!==N?(a=F?{c:function(){x.commentsDisabled!==!0&&N()}}:{},b[12]=F,b[13]=x,b[14]=N,b[15]=a):a=b[15];a=a;var O=c("usePrevious")(x),P,Q;b[16]!==O||b[17]!==x?(P=function(){O!=null&&x!=null&&O!==x&&(ea(null),ga(!1))},Q=[x,O],b[16]=O,b[17]=x,b[18]=P,b[19]=Q):(P=b[18],Q=b[19]);k(P,Q);b[20]!==L||b[21]!==K?(P=function(){L===!0&&K===!1&&ia(!1)},Q=[K,L],b[20]=L,b[21]=K,b[22]=P,b[23]=Q):(P=b[22],Q=b[23]);k(P,Q);P=d("PolarisPostFeatures.react").usePolarisPostFeatures({owner:u,post:x,variant:E});var R=P.canViewerProvideFeedback,S=P.commentsAreStacked,T=P.hasThreadedSidebarComments,U=P.isBlocked,V=P.isLoggedIn,W=P.isSidecar,oa=P.isStackedScreenSize,pa=P.showPostButton;b[24]===Symbol["for"]("react.memo_cache_sentinel")?(Q=function(a){return a},b[24]=Q):Q=b[24];var X=d("polarisAdsSelectors.react").useFeedAdInfo(x==null?void 0:x.id,Q),Y=X==null?void 0:(P=X.political_context)==null?void 0:P.byline_text;Q=c("usePolarisIsOnFeedPage")();P=c("usePolarisIsOnAdsActivityPage")();var Z;b[25]!==Q||b[26]!==P||b[27]!==M?(Z=(Q||P)&&M!==!0&&d("PolarisUA").isDesktop(),b[25]=Q,b[26]=P,b[27]=M,b[28]=Z):Z=b[28];Q=Z;var $=Q;P=C?"grow":"none";b[29]!==E||b[30]!==D||b[31]!==M||b[32]!==q||b[33]!==ca||b[34]!==C||b[35]!==r||b[36]!==S||b[37]!==B||b[38]!==T||b[39]!==$||b[40]!==e||b[41]!==f||b[42]!==x||b[43]!==W||b[44]!==s||b[45]!==F||b[46]!==R||b[47]!==A||b[48]!==g||b[49]!==U||b[50]!==V||b[51]!==i||b[52]!==N||b[53]!==o||b[54]!==p||b[55]!==u||b[56]!==Y||b[57]!==y||b[58]!==n||b[59]!==t||b[60]!==v||b[61]!==w||b[62]!==da||b[63]!==J||b[64]!==X||b[65]!==pa||b[66]!==I||b[67]!==oa||b[68]!==fa||b[69]!==z||b[70]!==H?(Z=function(a,b,k){return j.jsxs("div",{className:(h||(h=c("stylex")))(m.sidebarContainer,E===d("PolarisPostVariants").VARIANTS.feed&&m.sidebarContainerFeedRoot,D&&!M===!0&&m.sidebarContainerAsSidebar,M&&m.sidebarContainerInModal,!M===!0&&q&&m.sidebarContainerV2,ca&&m.roundedSidebarContainer,C&&m.expandedSidebarContainerResponsive),onKeyUp:a,role:b,tabIndex:k,children:[(M===!0?r:!S)?B:null,j.jsxs("div",{className:h(m.mediaInfo,D&&m.mediaInfoAsSidebar,T&&m.mediaInfoWithRichComments,$&&m.mediaInfoFamiliarFeed),children:[j.jsx(c("PolarisPostFooter.react"),{analyticsContext:e,bloksAppId:f,boostedStatus:x.boostedStatus,boostUnavailableIdentifier:x.boostUnavailableIdentifier,boostUnavailableReason:x.boostUnavailableReason,className:h(d("PolarisUA").isMobile()?m.msite:m.viewInsights,!r&&m.responsiveViewInsights,S&&W&&m.viewInsightsWithStackedCommentsSidecar),hasViewInsights:s,mediaId:x.id,productType:x.productType,viewerId:F==null?void 0:F.id}),j.jsx(c("PolarisPostFeedbackControls.react"),{analyticsContext:e,canViewerProvideFeedback:R,canViewerReshare:x.viewerCanReshare,code:c("nullthrows")(x.code),commentsDisabled:!!x.commentsDisabled,containerRef:A,currSidecarIndex:g,hideShareButton:x.igMediaSharingDisabled===!0,isBlocked:U,isLoggedIn:V,isSidecar:W,isVideo:!!x.isVideo,likedByViewer:!!x.likedByViewer,mediaId:i!=null?i.id:x.id,numSteps:(a=x.sidecarChildren)==null?void 0:a.length,onCommentClick:N,onLikeChange:o,onSaveChange:p,ownerIsPrivate:u.isPrivate,ownerUsername:u.username,postId:x.id,savedByViewer:!!x.savedByViewer,sharingFrictionInfo:i!=null?i.sharingFrictionInfo:x.sharingFrictionInfo,variant:E,xstyle:[m.feedback,q&&m.feedbackV2,q&&T&&m.feedbackV2WithRichComments,D&&m.feedbackAsSidebar,T&&m.feedbackWithRichComments,$&&m.sectionWithNoPadding]}),Y!=null&&j.jsx(c("PolarisPoliticalContextButton.react"),{className:(h||(h=c("stylex")))(m.politicalContext,T&&m.politicalContextWithRichComments,q&&T&&m.politicalContextV2),text:Y}),x.code!=null&&j.jsx(c("PolarisPostSocialProof.react"),{analyticsContext:e,canLike:!U&&R,className:(h||(h=c("stylex")))(m.socialProof,D&&m.socialProofAsSidebar,T&&m.socialProofWithRichComments,q&&T&&m.socialProofV2,$&&m.sectionWithNoPadding),code:c("nullthrows")(x.code),inModal:M,likeAndViewCountsDisabled:x.likeAndViewCountsDisabled,likedByViewer:!!x.likedByViewer,likers:x.likers||[],mediaId:x.id,numPreviewLikes:x.numPreviewLikes||0,onLikeChange:o,onLikeCountClick:la,productType:x.productType,topLikers:x.topLikers,variant:E,videoViews:x.videoViews,viewer:F,viewerIsOwner:y===(F==null?void 0:F.id)}),j.jsx(c("PolarisPostPreviewCommentsPicker.react"),{analyticsContext:e,caption:x.caption,captionCreatedAt:x.captionCreatedAt,captionHasTranslation:x.captionHasTranslation,captionId:x.captionCommentId,captionIsEdited:x.captionIsEdited,className:h(m.comments,!G&&m.commentsMarginBottom,G&&m.commentsMarginBottomDense,D&&m.commentsAsSidebar,T&&m.commentsWithRichComments,q&&T&&m.commentsV2,$&&m.sectionWithNoPadding),code:x.code,commentingDisabledForViewer:(b=x.commentingDisabledForViewer)!=null?b:!1,commentsAreStacked:S,commentsDisabled:x.commentsDisabled,commentsQuery:null,enableTruncation:n,hasRankedComments:x.hasRankedComments===!0,id:x.id,initialCommentsQuery:t,inModal:M,mediaType:d("PolarisInteractionsLogger").getMediaTypeFromPost(x),onLikeCountClick:na,owner:u,ownerId:y,permalinkedCommentId:v,permalinkedReplyId:w,postedAt:c("nullthrows")(x.postedAt),postId:x.id,shouldIncreaseCommentPreviews:da,showCommentOptionsInline:!0,title:x.title,variant:E}),!$&&j.jsx("div",{className:(h||(h=c("stylex")))(!G&&m.timestamp,G&&m.timestampDense,D&&m.timestampAsSidebar,T&&m.timestampWithRichComments,q&&T&&m.timestampV2),children:x.isSponsored===!0?null:j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",position:"relative",children:[j.jsx(c("PolarisPostTimestamp.react"),{code:c("nullthrows")(x.code),isVideo:x.isVideo,mediaLinkBuilder:V?void 0:d("PolarisLinkBuilder").buildDynamicUsernameMediaLink(u.username),postedAt:c("nullthrows")(x.postedAt)}),e===d("PolarisFeedPageConstants").FEED_PAGE_ANALYTICS_CONTEXT&&j.jsx(c("IGDSBox.react"),{marginStart:2,position:"relative",children:j.jsx(c("PolarisPostCaptionTranslationPrompt.react"),{inFeed:!0,postId:x.id})})]})}),(d("PolarisConfig").isIOS()||J())&&j.jsx(c("PolarisPostCommentInputPicker.react"),{adInfo:X,analyticsContext:e,canViewerProvideFeedback:R,hasPostButton:pa,id:x.id,inModal:M,isLoggedIn:V,isRevampVersion:!1,isVideo:x.isVideo,ownerId:u.id,ref:I,xstyle:[m.commentInput,D&&m.commentInputAsSidebar,q&&m.commentInputV2,q&&T&&m.commentInputV2WithRichComments,!J()&&m.commentInputHidden,!oa&&m.commentInputStatic]},x.id),!J()&&d("PolarisUA").isDesktop()&&x.commentsDisabled!==!0&&x.commentingDisabledForViewer===!0&&j.jsx("div",{className:(h||(h=c("stylex")))(m.commentingDisabledForViewerBox,q&&m.commentingDisabledForViewerBoxV2,$&&m.commentingDisabledForViewerBoxFamiliarFeed),children:j.jsx(c("IGDSText.react"),{color:"tertiaryText",textAlign:"center",children:d("PolarisGenericStrings").COMMENTING_LIMITED})})]}),fa&&j.jsx(c("PolarisLikedByListContainerLazy.react"),{display:c("PolarisLikedByListVariant").Modal,isOwnerTheViewer:(F==null?void 0:F.id)===y,likeAndViewCountsDisabled:x.likeAndViewCountsDisabled,likeCount:x.numLikes||0,mediaId:x.id,onClose:ka,ownerUsername:z,productType:(k=x.productType)!=null?k:"",shortcode:c("nullthrows")(x.code),viewCount:x.videoViews}),!c("isStringNullOrEmpty")(H)&&j.jsx(c("PolarisCommentLikedByListContainerLazy.react"),{commentId:H,display:c("PolarisLikedByListVariant").Modal,onClose:ma})]})},b[29]=E,b[30]=D,b[31]=M,b[32]=q,b[33]=ca,b[34]=C,b[35]=r,b[36]=S,b[37]=B,b[38]=T,b[39]=$,b[40]=e,b[41]=f,b[42]=x,b[43]=W,b[44]=s,b[45]=F,b[46]=R,b[47]=A,b[48]=g,b[49]=U,b[50]=V,b[51]=i,b[52]=N,b[53]=o,b[54]=p,b[55]=u,b[56]=Y,b[57]=y,b[58]=n,b[59]=t,b[60]=v,b[61]=w,b[62]=da,b[63]=J,b[64]=X,b[65]=pa,b[66]=I,b[67]=oa,b[68]=fa,b[69]=z,b[70]=H,b[71]=Z):Z=b[71];b[72]!==a||b[73]!==Z?(Q=j.jsx(c("PolarisHotKeys.react"),{keyMap:a,children:Z}),b[72]=a,b[73]=Z,b[74]=Q):Q=b[74];b[75]!==P||b[76]!==Q?(a=j.jsx(c("IGDSBox.react"),{flex:P,position:"relative",children:Q}),b[75]=P,b[76]=Q,b[77]=a):a=b[77];Z=a;if(C){b[78]===Symbol["for"]("react.memo_cache_sentinel")?(P="x1qjc9v5 x972fbf xcfux6l x1qhh985 xm0m39n x9f619 x78zum5 xdt5ytf x1iyjqo2 x5wqa0o xln7xf2 xk390pu xdj266r x11i5rnm xat24cr x1mh8g0r x65f84u x1vq45kp xexx8yu x4uap5 x18d9i69 xkhd6sd x1n2onr6 x11njtxf",b[78]=P):P=b[78];b[79]!==Z?(Q=j.jsx("div",{className:P,children:Z}),b[79]=Z,b[80]=Q):Q=b[80];return Q}return Z}g["default"]=a}),98);
__d("PolarisPostHeaderFavoritedIconButton.react",["IGDSBox.react","IGDSIconButton.react","IGDSStarPanoFilledGradientIcon.react","PolarisFavoritesStrings","PolarisLogger","PolarisPostModalContext.react","react","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(5);a=a.isFavorited;var e=d("PolarisPostModalContext.react").useSetPostModal(),f=c("usePolarisAnalyticsContext")();if(a&&(f==="feedPage"||f==="postPage")){b[0]!==e?(a=function(){d("PolarisLogger").logAction("favoriteIconInPostHeaderClick"),e("favorites")},b[0]=e,b[1]=a):a=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("IGDSBox.react"),{marginEnd:2,position:"relative",children:j.jsx(c("IGDSStarPanoFilledGradientIcon.react"),{alt:d("PolarisFavoritesStrings").FAVORITED_ICON_ALT,size:16})}),b[2]=f):f=b[2];b[3]!==a?(f=j.jsx(c("IGDSIconButton.react"),{onClick:a,children:f}),b[3]=a,b[4]=f):f=b[4];return f}return null}g["default"]=a}),98);
__d("PolarisPostPageRouteReferrerContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({referrerTracePolicy:null});g["default"]=b}),98);
__d("PolarisUnsaveFromCollectionDialog.react",["fbt","IGCoreDialog.react","PolarisGenericStrings","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i;function a(a){var b=j(16),c=a.onClose,e=a.onUnsaveFromAll;a=a.onUnsaveFromCollection;var f;b[0]!==a?(f=a?h._("__JHASH__HVkWD3QgXEe__JHASH__"):h._("__JHASH__Gl54JxLo7Pe__JHASH__"),b[0]=a,b[1]=f):f=b[1];var g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._("__JHASH__CSnwTDU3-Jd__JHASH__"),b[2]=g):g=b[2];var i;b[3]!==a?(i=a&&k.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:"ig-error-or-destructive",onClick:a,children:h._("__JHASH__x0m8qdE4Y2N__JHASH__")}),b[3]=a,b[4]=i):i=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._("__JHASH__e0klumbklCI__JHASH__"),b[5]=a):a=b[5];b[6]!==e?(a=k.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{color:d("PolarisUA").isDesktop()?"ig-error-or-destructive":"ig-primary-button",onClick:e,children:a}),b[6]=e,b[7]=a):a=b[7];b[8]!==c?(e=k.jsx(d("IGCoreDialog.react").IGCoreDialogItem,{onClick:c,children:d("PolarisGenericStrings").CANCEL_TEXT}),b[8]=c,b[9]=e):e=b[9];b[10]!==f||b[11]!==c||b[12]!==i||b[13]!==a||b[14]!==e?(g=k.jsxs(d("IGCoreDialog.react").IGCoreDialog,{body:f,onModalClose:c,title:g,children:[i,a,e]}),b[10]=f,b[11]=c,b[12]=i,b[13]=a,b[14]=e,b[15]=g):g=b[15];return g}g["default"]=a}),226);
__d("polarisPostModalHelpers",["fbt","justknobx","polarisUnexpected"],(function(a,b,c,d,e,f,g,h){"use strict";var i=1032,j=55,k=500,l=250,m=h._("__JHASH__l_M0CG6unzO__JHASH__");h=h._("__JHASH__wVnrOsb2lsR__JHASH__");var n=-1,o=1;function a(a){var b="";switch(a){case"profilePage":case"selfProfilePage":b="profilePageModal";break;case"locationPage":b="locationPageModal";break;case"tagPage":b="tagPageModal";break;case"exploreLandingPage":b="discoverMediaPageModal";break;case"DirectThreadPage":b="directThreadPageModal";break;case"ClipsAudioPage":b="clipsAudioPageModal";break;case"feedPage":b="feedPageModal";break;case"KeywordSearchExplorePage":b="keywordSearchExplorePageModal";break;case"adsActivityFeed":b="adActivityFeedModal";break;case"ExploreSERPPage":b="ExploreSERPPageModal";break;default:c("polarisUnexpected")("Unexpected analytics context: "+a)}return b}function b(a){a=a.match(new RegExp("^(.+/)(saved)/(.+)/(.+)/"));return a!=null?a[4]:null}function d(a){return!!a.match(new RegExp("/p/"))}function e(a){a=a.match(new RegExp("/([^/]+)/[^/]*$"));return a?a[1]:null}function p(a,b,c,d){if(a.height>a.width){var e=c/a.height;d.style.maxHeight=c;d.style.maxWidth=a.width*e;d.style.aspectRatio=a.width+" / "+a.height}else b&&(d.style.aspectRatio="1"),d.style.maxHeight=c,d.style.maxWidth=c;return d}function q(a,b,c,d){c.style.maxWidth=b;b=b/a.width;c.style.maxHeight=a.height*b+d;c.style.aspectRatio=a.width*b+" / "+(a.height*b+d);return c}function f(a){var b=a.dimensions,d=a.footerHeight;d=d===void 0?j:d;var e=a.viewportHeight,f=a.viewportWidth,g=a.hasSidebarInRedesign;a=a.hasFooter;a=a===void 0?!1:a;if(b==null||e===0||f===0)return null;var h={style:{maxHeight:0,maxWidth:0}},m=f-64*2-(g?k:0);if(b){var n=e>f&&a===!0?m:g?e-24*2:e-24*2-l;n>i&&c("justknobx")._("64")&&(n=i);if(a===!1)h=p(b,g,n,h);else{a=b.height;a=(n-d)/a;h.style.maxHeight=n;!g?h=q(b,n,h,d):b.height>=b.width?e>f?h=q(b,n,h,d):b.width*a>m?h=q(b,m,h,d):(h.style.maxHeight=n,h.style.aspectRatio=b.width*a+" / "+(b.height*a+d),h.style.maxWidth=b.width*a):(h.style.aspectRatio=b.width*a>b.height*a+d?"1":b.width*a+" / "+(b.height*a+d),h.style.maxWidth=e>f?n:b.width*a>b.height*a+d?n:b.width*a)}g&&(h.style.flexBasis=h.style.maxWidth)}return h}g.PREVIOUS_ARROW_TITLE=m;g.NEXT_ARROW_TITLE=h;g.LEFT_DELTA=n;g.RIGHT_DELTA=o;g.getModalPageIdFromAnalyticsContext=a;g.getCollectionIdFromPath=b;g.isPostUrl=d;g.getPostCodeFromPath=e;g.getMediaContainerProps=f}),226);
__d("PolarisPost.react",["cx","IGDSBox.react","PolarisErrorBoundary.react","PolarisHeroPageletLogger","PolarisHotKeys.react","PolarisIGCoreConstants","PolarisInsightsUtils","PolarisInteractionsLogger","PolarisLogger","PolarisMediaContainer.react","PolarisOrganicImpressionAction","PolarisPanavisionQEHelpers","PolarisPostActionLikePost","PolarisPostActionRemovePostFromCollection","PolarisPostActionSavePost","PolarisPostActionUnlikePost","PolarisPostActionUnsavePost","PolarisPostConstants","PolarisPostDetailsSection.react","PolarisPostFeatures.react","PolarisPostHeader.react","PolarisPostHeaderFavoritedIconButton.react","PolarisPostModalContext.react","PolarisPostModalRenderingContext.react","PolarisPostOptionsButtonPicker.react","PolarisPostOverlayInfoFooterCTA.react","PolarisPostPageRouteReferrerContext.react","PolarisPostSidecarIndexHelpers","PolarisPostSuggestedHeader.react","PolarisPostToast.react","PolarisPostToastProvider.react","PolarisPostUtils","PolarisPostVariants","PolarisReactRedux.react","PolarisSavedPostsActionEditCollection","PolarisSavedPostsTypes","PolarisSponsoredPostCTAFooter.react","PolarisTrackingNodeProvider.react","PolarisUA","PolarisUnsaveFromCollectionDialog.react","PolarisViewpointActionUtils","PolarisViewpointReact.react","PolarisVpvdImpressionAction","browserHistory_DO_NOT_USE","hero-tracing","joinClasses","nullthrows","polarisAdsSelectors.react","polarisDeveloperSettings","polarisPostModalHelpers","polarisPostSelectors","polarisRelationshipSelectors.react","polarisUserSelectors","polarisWithPPRLogging","qex","react","useMergeRefs","usePolarisDisplayProperties","usePolarisIsOnFeedPage","usePolarisPostSetURLSidecarIndex","usePolarisShowFooterCTA","usePolarisViewer","usePrevious"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;var k=e.useContext,l=e.useEffect,m=e.useRef,n=e.useState;function a(a){var b=a.adImpressionRefs,e=a.analyticsContext,f=a.autoplay,g=a.className,h=a.enableLookasideForVideoPosts,i=a.enableTruncation,o=a.id;a.imageMediaActsAsCta;var p=a.initialCarouselIndex,aa=a.initialCommentsQuery,q=a.isSponsored;q=q===void 0?!1:q;var ba=a.isVisible,ca=a.lightLetterbox,da=a.onMediaRendered,ea=a.permalinkedCommentId,fa=a.permalinkedReplyId,r=a.position,ga=a.shortcode,ha=a.shouldIncreaseCommentPreviews,s=a.shouldRenderAudioNameAsH2,t=a.testid;t=t===void 0?"post":t;t=a.variant;var u=t===void 0?d("PolarisPostVariants").VARIANTS.flexible:t;t=a.viewpointActionsForSponsoredPost;var ia=a.visiblePosition,ja=a.willScrollTo,v=d("PolarisReactRedux.react").useDispatch(),w=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisPostSelectors").getPostById(a,o)}),x=c("nullthrows")(w.owner).id;a=(a=w.group)==null?void 0:a.id;var ka=(a=a)!=null?a:x;a=k(c("PolarisPostPageRouteReferrerContext.react"));a=a.referrerTracePolicy;var la=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisUserSelectors").getUserByIdOrThrows(a,x)}),y=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisUserSelectors").getUserByIdOrThrows(a,ka)}),ma=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisRelationshipSelectors.react").getRelationship(a.relationships,ka)}),z=c("usePolarisViewer")(),A=!!(z==null?void 0:z.canSeeOrganicInsights),B=!!w.canSeeInsightsAsBrand,C=d("polarisAdsSelectors.react").useFeedAdInfo(w==null?void 0:w.id,function(a){return a}),D=c("usePolarisDisplayProperties")(),na=D.viewportHeight;D=D.viewportWidth;var E=d("PolarisPostModalRenderingContext.react").usePolarisPostModalRenderingContext(),F=E.isInModal,G=(p=(E=p)!=null?E:d("PolarisPostUtils").getInitialSidecarIndexFromPost(w))!=null?p:0;w.isSidecar===!0&&(G<0||w.sidecarChildren!=null&&G>=w.sidecarChildren.length)&&(G=0);E=n(G);var H=E[0],oa=E[1];p=n({});var I=p[0],pa=p[1];E=n(!1);p=E[0];var qa=E[1];E=n({});var J=E[0],ra=E[1];E=n(!1);var sa=E[0],K=E[1];E=n(!1);var ta=E[0],ua=E[1];E=n(null);var va=E[0],wa=E[1];E=m(null);var xa=c("usePolarisPostSetURLSidecarIndex")();l(function(){ja==="top"&&window.setTimeout(function(){window.scrollTo(0,0)})},[ja]);var L=c("usePrevious")(w);l(function(){L!=null&&w.id!==L.id&&(pa({}),ra({}))},[w,L]);l(function(){ga!=null&&w.isSidecar===!0&&d("PolarisPostSidecarIndexHelpers").shouldHaveIndexableUrls()&&xa(H+1)},[H,w.isSidecar,xa,ga]);var ya=function(a){qa(!0),da!=null&&da(w.id,a)},za=function(a){oa(a)},M=function(a,b){var c;c={mediaAuthorId:(c=w.owner)==null?void 0:c.id,mediaId:w.id,source:e,sourceOfLike:b,trackingToken:w.trackingToken};b=null;(C==null?void 0:C.ad_id)!=null&&(C==null?void 0:C.tracking_token)!=null&&Y!=null&&(b={adId:C==null?void 0:C.ad_id,adTrackingToken:C==null?void 0:C.tracking_token,viewerId:Y});a?w.likedByViewer!==!0&&v(d("PolarisPostActionLikePost").likePost(w.id,c,b)):v(d("PolarisPostActionUnlikePost").unlikePost(w.id,c,b))},Aa=function(){M(!0,"double_tap_media")},Ba=function(a){var b={source:e},c=null;if((C==null?void 0:C.ad_id)!=null&&(C==null?void 0:C.tracking_token)!=null&&Y!=null){var f;c={adId:C==null?void 0:C.ad_id,adTrackingToken:C==null?void 0:C.tracking_token,analyticsContext:e,followStatus:d("PolarisViewpointActionUtils").getFollowStatus(ma),mediaPk:d("PolarisViewpointActionUtils").getMPKForFeedMedia(w),mediaType:d("PolarisInteractionsLogger").getMediaTypeFromPost(w),ownerId:(f=w.owner)==null?void 0:f.id,viewerId:Y}}a?w.savedByViewer!==!0&&v(d("PolarisPostActionSavePost").savePost(w.id,b,c)):w.savedByViewer===!0&&(w.savedByViewerToCollection===!0?(d("PolarisLogger").logAction("removeSavedItemFromCollectionDialogShown"),K(!0)):v(d("PolarisPostActionUnsavePost").unsavePost(w.id,b,c)))},Ca=function(){d("PolarisLogger").logAction("removeSavedItemFromCollectionDialogCancelled"),K(!1)},Da=function(){K(!1),v(d("PolarisPostActionUnsavePost").unsavePost(w.id,{source:e})),d("PolarisLogger").logAction("removeSavedItemFromCollectionDialogAccepted")},Ea=function(){var a={source:e};K(!1);var b=d("browserHistory_DO_NOT_USE").browserHistory.location.pathname;b=d("polarisPostModalHelpers").getCollectionIdFromPath(b);b!=null&&z!=null&&(v(d("PolarisPostActionRemovePostFromCollection").removePostFromCollection({collectionId:b,postId:w.id})),v(d("PolarisSavedPostsActionEditCollection").editCollection({collectionId:b,postIdsToRemove:[w.id],source:a.source,userId:c("nullthrows")(z==null?void 0:z.id)})))},Fa=function(a){Ha(a)&&Ja(a.id)},Ga=function(a){Ka(a)},Ha=function(a){return I[a.id]===!0},Ia=function(a){return J[a]===!0},Ja=function(a){var b=babelHelpers["extends"]({},I);b[a]=!0;pa(b)},Ka=function(a){var b=babelHelpers["extends"]({},J);b[a]=!0;ra(b)},N=function(a){ua(!0),wa(a)},La=function(){ua(!1)},O=d("browserHistory_DO_NOT_USE").browserHistory.location.pathname,P=d("PolarisPostFeatures.react").usePolarisPostFeatures({owner:y,path:O,post:w,variant:u}),Q=P.commentsAreStacked,Ma=P.hasPhotosOfYouOption,Na=P.hasThreadedSidebarComments,R=P.isFavorited,Oa=P.isSidecar,Pa=P.isStackedScreenSize;P=P.showFollowButton;O=d("polarisPostModalHelpers").getCollectionIdFromPath(O);var Qa=O!=null&&O!==d("PolarisSavedPostsTypes").SAVED_COLLECTION_TYPE.ALL_MEDIA_AUTO_COLLECTION;O=!!P&&(!w.coauthorProducers||w.coauthorProducers.length===0)&&!q;var S=D>=d("PolarisPostConstants").SIDEBAR_VARIANT_CUTOFF,Ra=S&&F===!0,T=!S&&F===!0,Sa=F===!0?S:!Q;P=c("usePolarisIsOnFeedPage")();var U=e==="adsActivityFeed",V=(P||U)&&F!==!0&&d("PolarisUA").isDesktop(),W=(P||U)&&F!==!0&&d("PolarisUA").isDesktop(),Ta=d("PolarisPostUtils").getCurrentSidecarItemFromPost(w,H),Ua=j.jsxs("div",{className:"_aasi"+(V?" _aasj":"")+(T?" _aask":"")+(W?" _ai9a":""),children:[w.inventorySource==="mixed_unconnected"&&P&&!F&&j.jsx(c("PolarisPostSuggestedHeader.react"),{postId:w.id,title:(U=w.explore)==null?void 0:U.title}),j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",position:"relative",children:[j.jsx(c("PolarisPostHeader.react"),{adTitle:C==null?void 0:C.ad_title,analyticsContext:e,clipsAttributionInfo:w.clipsAttributionInfo,clipsAudioAttributionInfo:w.clipsMusicAttributionInfo,coauthorProducers:w.coauthorProducers,displayFBPageName:C==null?void 0:C.display_fb_page_name,followHashtagInfo:w.followHashtagInfo,headerAvatarSize:c("PolarisIGCoreConstants").AVATAR_SIZES.small,inModal:F,isAffiliate:w.isAffiliate===!0,isPaidPartnership:w.isPaidPartnership===!0,isSharedToCloseFriends:w.audience==="MediaAudience.BESTIES",isSponsored:w.isSponsored===!0,isVideo:!!w.isVideo,location:w.location,mediaId:w.id,onDisabledClipsAudioAttributionClick:N,owner:y,postedAt:w.postedAt,shouldRenderAudioNameAsH2:s,shouldShowFollowButton:O,showVerifiedBadge:!0,sidebarVariantOptionsButton:Na,sponsoredLabel:C==null?void 0:C.label,sponsors:w.sponsors},w.id),j.jsx(c("PolarisPostHeaderFavoritedIconButton.react"),{isFavorited:R}),j.jsx(c("PolarisPostOptionsButtonPicker.react"),{buttonClassName:"_aasm"+(V||d("PolarisPanavisionQEHelpers").hasDenserMobileWebFeed()?" _aasn":"")+(W?" _agh1":""),isSponsored:w.isSponsored===!0,mediaPK:w.id})]})]});P=d("PolarisInsightsUtils").getViewInsightsInfo(z,x,w,B,A);var Va=P.bloksAppId,X=P.hasViewInsights,Y=z==null?void 0:z.id;U=q&&t!=null?t:[d("PolarisOrganicImpressionAction").makePostImpressionAction(w,e,a,r),d("PolarisVpvdImpressionAction").makePostVpvdImpressionAction(w,e)];N=d("PolarisViewpointReact.react").useViewpoint({action:U,id:"viewpoint"+w.id});O=[N].concat((s=b)!=null?s:[]);var Wa=c("useMergeRefs").apply(void 0,O),Xa=z?{l:function(){M(!w.likedByViewer,"button")},s:function(){Ba(!w.savedByViewer)}}:{};R=c("usePolarisShowFooterCTA")(w,H,I,q);var Z=null;q?Z=j.jsx(c("PolarisSponsoredPostCTAFooter.react"),{isMediaRendered:p,post:w,sidecarIndex:H}):(R||!F)&&(Z=j.jsx(d("PolarisPostOverlayInfoFooterCTA.react").PolarisPostOverlayInfoFooterCTA,{analyticsContext:e,currentSidecarIndex:H,dynamicFooterRef:E,idsWithClearedBlurOverlays:I,idsWithDisabledMediaOverlayInfoImpressionLogging:J,onLogOverlayImpression:function(a){return Ga(a)},rootPost:w}));B=Z!=null;var $=d("polarisPostModalHelpers").getMediaContainerProps({dimensions:w.dimensions,footerHeight:B?(A=E.current)==null?void 0:A.offsetHeight:void 0,hasFooter:B,hasSidebarInRedesign:S,viewportHeight:na,viewportWidth:D}),Ya=!1,Za={border:w.isSeen===!0?"2px solid green":"2px solid red"};return j.jsx(d("PolarisPostToastProvider.react").PostToastProvider,{children:function(a){return j.jsx(d("PolarisPostModalContext.react").PostModalContext,{post:w,children:j.jsx(d("hero-tracing").HeroPagelet,{name:d("PolarisHeroPageletLogger").getHeroPageletLogName(d("PolarisHeroPageletLogger").PageletLogName.POST,r),ref:Wa,children:function(b,k){return j.jsx(c("PolarisHotKeys.react"),{keyMap:Xa,children:function(l,m,n){return j.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:301,children:j.jsxs("article",{className:c("joinClasses")(g,"_aatb"+(u===d("PolarisPostVariants").VARIANTS.feed?" _aatc":"")+(Pa?" _aatd":"")+(Pa?"":" _aate")+(Q?" _aatf":"")+(Sa?" _aatg":"")+(Oa?" _aath":"")+(Na?" _aati":"")+(X?" _aatj":"")),"data-testid":void 0,onKeyUp:l,ref:b,role:m,style:Ya?Za:{},tabIndex:n,children:[j.jsxs(c("IGDSBox.react"),{alignSelf:T?"center":void 0,direction:(F===!0?S:!Q)?"row":"column",display:"flex",justifyContent:"center",maxHeight:"inherit",maxWidth:T&&($==null?void 0:$.style)!=null?$.style.maxWidth:"inherit",position:"relative",children:[(F===!0?!S:Q)?Ua:null,j.jsx("div",babelHelpers["extends"]({},F===!0?$:{},{className:"_aatk"+(F===!0?" _aatl":"")+(Ra&&w.dimensions!=null&&w.dimensions.width>=w.dimensions.height?" _aatm":"")+(ca===!0?" _aatn":"")+(W?" _aiao":""),children:j.jsx(c("PolarisMediaContainer.react"),{accessibilityCaption:w.accessibilityCaption,adInfo:C,analyticsContext:e,autoplay:f,checkIsSensitivityOverlayDisabledCallback:function(a){return Ha(a)},className:"_aato",commentsAreStacked:Q,enableLookasideForVideoPosts:h,hasPhotosOfYouOption:Ma,hasViewInsights:X,id:w.id,initialCarouselIndex:G,inModal:F,isVisible:ba,mediaFooter:Z,onLike:z?Aa:null,onPostMediaRendered:ya,onPostSidecarChildIndexChange:za,onSensitivityOverlayCleared:Fa,onToastClose:La,position:r,post:w,relationship:ma,sensitivityOverlayMediaOverlayInfoLoggingProps:{checkIfMediaOverlayInfoImpressionLoggingDisabled:function(a){return Ia(a)},onLoggedMediaOverlayInfoImpression:function(a){return Ga(a)}},showToast:ta,toastString:va,viewer:z,visiblePosition:ia})})),j.jsx(c("PolarisPostDetailsSection.react"),{analyticsContext:e,bloksAppId:Va,currSidecarIndex:H,currSidecarItem:Ta,enableTruncation:i,handleLikeChange:M,handleSaveChange:Ba,hasDenserFeedRedesign:V,hasSidebarInRedesign:S,hasViewInsights:X,initialCommentsQuery:aa,owner:y,permalinkedCommentId:ea,permalinkedReplyId:fa,post:w,postAuthorId:x,postAuthorUsername:la==null?void 0:la.username,postFeedbackControlsRef:a,postHeader:Ua,redesignWithoutSidebar:T,redesignWithSidebar:Ra,shouldIncreaseCommentPreviews:ha,showDetailsAsSidebar:Sa,variant:u,viewer:z}),sa&&j.jsx(c("PolarisUnsaveFromCollectionDialog.react"),{onClose:Ca,onUnsaveFromAll:Da,onUnsaveFromCollection:Qa&&d("PolarisUA").isDesktop()?Ea:null}),j.jsx(c("PolarisPostToast.react"),{isFeedVariant:u===d("PolarisPostVariants").VARIANTS.feed,isModal:(l=F)!=null?l:!1,isSidecar:Oa})]}),j.jsx(k,{})]})})}})}})},w.id)}})}a.displayName=a.name+" [from "+f.id+"]";var o=c("polarisWithPPRLogging")(a);function p(){d("PolarisLogger").logAction("feedUnitFailure",{source:"PolarisPost"})}function b(a){return j.jsx(c("PolarisErrorBoundary.react"),{errorRenderer:function(a){return null},onError:p,children:j.jsx(o,babelHelpers["extends"]({},a))})}b.displayName=b.name+" [from "+f.id+"]";h=c("qex")._("511")===!0?j.memo(b):b;e=h;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("oz-player/shims/ozReportUnexpectedError",["oz-player/shims/www/ozReportUnexpectedErrorWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/ozReportUnexpectedErrorWWW")}),98);
__d("oz-player/loggings/OzLoggingUtils",["oz-player/shims/ozReportUnexpectedError"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){a=a.getOperationLogger(b).start();try{return c(a)}catch(b){a.setError(b);throw b}finally{a.log()}}function b(a,b,d,e,f){e===void 0&&(e=function(){});f===void 0&&(f=function(){});var g=b.getOperationLogger(d).start();e(g);a.then(function(a){f(g),g.log()},function(a){f(g),g.setError(a),g.log()})["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,d+" logger")})}g.executeOperationAndLog=a;g.monitorPromiseAndLogOperation=b}),98);
__d("oz-player/loggings/OzOperationLoggerBase",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$52=new Map(),this.$1=a}var b=a.prototype;b.start=function(){var a=Date.now();this.setClientTimeBegin(a);this.setClientTimeEnd(null);this.setClientTimeDuration(null);return this};b.log=function(){var a=Date.now(),b=this.getClientTimeBegin(),c=this.getClientTimeEnd();(b==null||b===0)&&(b=a,this.setClientTimeBegin(b));(c==null||c===0)&&(c=a,this.setClientTimeEnd(c));this.setClientTimeDuration(c-b)};b.setError=function(a){this.$2=a;return this};b.setPerSessionSampleRate=function(a){this.$3=a;return this};b.setAppendTarget=function(a){this.$47=a;return this};b.setOneObserved=function(a){this.$44=a;return this};b.setOneReqWave=function(a){this.$45=a;return this};b.setOneResWave=function(a){this.$46=a;return this};b.setIsP2pPlayback=function(a){this.$43=a;return this};b.setResult=function(a){this.$4=a;return this};b.setType=function(a){this.$5=a;return this};b.setClientTimeBegin=function(a){this.$6=a;return this};b.setClientTimeDuration=function(a){this.$7=a;return this};b.setClientTimeEnd=function(a){this.$8=a;return this};b.setSegmentCount=function(a){this.$15=a;return this};b.setTimeToFirstByte=function(a){this.$9=a;return this};b.setTimeToLastByte=function(a){this.$10=a;return this};b.setTimeToRequestStart=function(a){this.$11=a;return this};b.setTimeToRequestSent=function(a){this.$12=a;return this};b.setReason=function(a){this.$13=a;return this};b.setResource=function(a){this.$14=a;return this};b.setSegmentStartTime=function(a){this.$16=a;return this};b.setSegmentEndTime=function(a){this.$17=a;return this};b.setLength=function(a){this.$18=a;return this};b.setLiveheadPosition=function(a){this.$19=a;return this};b.setLiveheadSeqNumHeader=function(a){this.$20=a;return this};b.setLiveheadSeqNumMpd=function(a){this.$21=a;return this};b.setManifestType=function(a){this.$22=a;return this};b.setMediaSourceNewDuration=function(a){this.$23=a;return this};b.setMediaSourcePreviousDuration=function(a){this.$24=a;return this};b.setPriorityFloat=function(a){this.$25=a;return this};b.setAppendedBufferMs=function(a){this.$26=a;return this};b.setInitiator=function(a){this.$27=a;return this};b.setPreloadTime=function(a){this.$28=a;return this};b.setConcluder=function(a){this.$29=a;return this};b.setPreviousRepresentationID=function(a){this.$30=a;return this};b.setRepresentationID=function(a){this.$31=a;return this};b.setStreamSwitchReason=function(a){this.$32=a;return this};b.setState=function(a){this.$33=a;return this};b.setContentLengthHeader=function(a){this.$34=a;return this};b.setOriginHitHeader=function(a){this.$36=a;return this};b.setEdgeHitHeader=function(a){this.$37=a;return this};b.setFNAHitHeader=function(a){this.$38=a;return this};b.setCode=function(a){this.$35=a;return this};b.setResponseTimeMsHeader=function(a){this.$39=a;return this};b.setIsTemplatedManifest=function(a){this.$40=a;return this};b.setIsLatencyCachupEnabled=function(a){this.$41=a;return this};b.setPlayerFormat=function(a){this.$42=a;return this};b.setIsRingBufferSample=function(a){this.$48=a;return this};b.setIsOnline=function(a){this.$49=a;return this};b.setProxyStatusHeader=function(a){this.$50=a;return this};b.setPlaybackFbmsParam=function(a){return this};b.setPreferredEdgeLatency=function(a){this.$51=a;return this};b.setUserInfo=function(a){return this};b.setDynamicStatusHeader=function(a){return this};b.getPerSessionSampleRate=function(){return this.$3};b.setMediaSourceSourceBuffer=function(a,b){this.$52.set(a,b);return this};b.unsetMediaSourceSourceBuffers=function(){this.$52.clear();return this};b.getError=function(){return this.$2};b.getResult=function(){return this.$4};b.getType=function(){return this.$5};b.getClientTimeBegin=function(){return this.$6};b.getClientTimeEnd=function(){return this.$7!=null?this.$6!=null?this.$6+this.$7:null:this.$8};b.getTimeToRequestStart=function(){return this.$11};b.getTimeToRequestSent=function(){return this.$12};b.getReason=function(){return this.$13};b.getResource=function(){return this.$14};b.getOperationName=function(){return this.$1};b.getSegmentStartTime=function(){return this.$16};b.getSegmentEndTime=function(){return this.$17};b.getLength=function(){return this.$18};b.getLiveheadPosition=function(){return this.$19};b.getManifestType=function(){return this.$22};b.getPriorityFloat=function(){return this.$25};b.getAppendedBufferMs=function(){return this.$26};b.getInitiator=function(){return this.$27};b.getPreloadTime=function(){return this.$28};b.getConcluder=function(){return this.$29};b.getContentLengthHeader=function(){return this.$34};b.getOriginHitHeader=function(){return this.$36};b.getEdgeHitHeader=function(){return this.$37};b.getFNAHitHeader=function(){return this.$38};b.getCode=function(){return this.$35};b.getResponseTimeMsHeader=function(){return this.$39};b.getIsTemplatedManifest=function(){return this.$40};b.getOneObserved=function(){return this.$44};b.getOneReqWave=function(){return this.$45};b.getOneResWave=function(){return this.$46};b.getAppendTarget=function(){return this.$47};b.getIsRingBufferSample=function(){return this.$48};b.getIsOnline=function(){return this.$49};b.getProxyStatusHeader=function(){return this.$50};b.getMediaSourceSourceBuffers=function(){return this.$52};return a}();f["default"]=a}),66);
__d("oz-player/shims/www/OzMaybeNativePromiseWWW",["cr:3014"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:3014")}),98);
__d("oz-player/shims/OzMaybeNativePromise",["oz-player/shims/www/OzMaybeNativePromiseWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzMaybeNativePromiseWWW")}),98);
__d("oz-player/utils/OzErrorEmitter",["oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;b===void 0&&(b=!1);d=a.call(this)||this;d.$OzErrorEmitter$p_1=!1;d.$OzErrorEmitter$p_2=!1;d.$OzErrorEmitter$p_3=[];d.emitError=function(a){!d.$OzErrorEmitter$p_1?d.$OzErrorEmitter$p_2?d.$OzErrorEmitter$p_3.push(a):d.$OzErrorEmitter$p_1||c("oz-player/shims/ozvariant")(0,14038):d.emit("error",a)};d.$OzErrorEmitter$p_2=b;return d}var d=b.prototype;d.onError=function(a){this.$OzErrorEmitter$p_1=!0;a=this.addListener("error",a);this.$OzErrorEmitter$p_2&&this.$OzErrorEmitter$p_3.length>0&&this.$OzErrorEmitter$p_3.forEach(this.emitError);return a};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/drm/OzDrmManager",["oz-player/drm/OzDrmUtils","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzOperationLoggerBase","oz-player/shims/OzDOMEventListener","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e){var f=this;e===void 0&&(e=null);this.$1=null;this.$2=new Map();this.$4=!1;this.$6=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$7=new(c("oz-player/utils/OzErrorEmitter"))();this.$8=!1;this.$9=null;this.$10=0;this.$11=[];this.$12=[];this.$22=function(a,b){a instanceof c("oz-player/loggings/OzOperationLoggerBase")&&a.getError()&&a.setResult("failed"),b!=null&&a.setReason(b)};this.$19=function(a){if(f.$4)return c("oz-player/shims/OzMaybeNativePromise").reject(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"OzDrmManager destroyed before call to mediaKeySystemAccess.createMediaKeys()."}));var b=f.$5.mediaKeys!=null?c("oz-player/shims/OzMaybeNativePromise").resolve(f.$5.mediaKeys):a.createMediaKeys();b=b.then(function(b){return{mediaKeySystemAccess:a,mediaKeys:b}});d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b,f.$3,"drm_create_media_keys",function(){},f.$22);return b};this.$20=function(a){if(f.$4)return c("oz-player/shims/OzMaybeNativePromise").reject(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"OzDrmManager destroyed before call to setMediaKeys()"}));var b=a.mediaKeySystemAccess,e=a.mediaKeys;if(!e)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"No mediaKeys for mediaKeySystemAccess"});a=f.$5.setMediaKeys(e).then(function(){if(f.$4)return c("oz-player/shims/OzMaybeNativePromise").reject(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"OzDrmManager destroyed after setMediaKeys() called."}));var a=Array.from(f.$2.values()).find(function(a){return a.getKeySystem()===b.keySystem});if(!a)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"Can't find OzDrmProvider for keySystem "+b.keySystem});var g=a.getServerCertificate();return g?e.setServerCertificate(g).then(function(){return{mediaKeys:e,provider:a}}):{mediaKeys:e,provider:a}});d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,f.$3,"drm_set_media_keys",function(){},f.$22);return a};this.$21=function(a){var b=a.mediaKeys,e=a.provider;a=e.getInitDatas();if(a.length===0){f.$6.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(f.$5,"encrypted",function(a){f.$23(b,e,a)["catch"](function(a){f.$14(d("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(a,{type:"OZ_DRM_MANAGER",description:"DRM encrypted rejection"}))})}));return c("oz-player/shims/OzMaybeNativePromise").resolve([])}a=a.map(function(a){return f.$23(b,e,{initData:a.data,initDataType:a.type})});a=c("oz-player/shims/OzMaybeNativePromise").all(a);d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,f.$3,"drm_request_license",function(){},f.$22);return a};this.$5=b;this.$1=e;this.$3=a.cloneContext().setType("drm_manager")}var b=a.prototype;b.hasContentProtections=function(){return this.$9};b.onError=function(a){return this.$7.onError(a)};b.$13=function(a){this.$7.emitError(a)};b.$14=function(a){var b;b=(b=(b=this.$1)==null?void 0:b.maxStartEMEAttempts)!=null?b:-1;this.$10<b?this.$15():this.$13(a)};b.addProvider=function(a){this.$2.set(a.getSchemeId(),a)};b.getProviderForSchemeId=function(a){return this.$2.get(a)};b.$16=function(a){if(!a)return null;var b=[];for(var c=0;c<a.length;c++){var e=a[c],f=e.$.schemeIdUri;f=this.getProviderForSchemeId(f);if(f){var g=f.getInitDatas();if(g.length==0&&e["cenc:pssh"]&&e["cenc:pssh"].length===1){e=(e=e["cenc:pssh"][0]._)!=null?e:"";e=d("oz-player/drm/OzDrmUtils").base64ToUint8Array(e.replace(/-/g,"+").replace(/_/g,"/"));g=[{data:e,type:"cenc"}];f.setInitDatas(g)}b.push({provider:f,initDatas:g})}}return b};b.$15=function(){try{this.$8=!1,this.startEME(this.$11,this.$12)}catch(b){var a=b;this.$13(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"Restart EME failed with: "+String(a),extra:{}}))}};b.startEME=function(a,b){var c=this;if(this.$8)return;this.$8=!0;this.$10+=1;this.$11=a;this.$12=b;var e=new Map();this.$17(b,e,"audio");this.$17(a,e,"video");var f;e.forEach(function(a,b){!f?f=c.$18(b,a):f=f["catch"](function(){return c.$18(b,a)})});if(!f){this.$9=!1;return}this.$9=!0;var g=this.$3.getOperationLogger("drm_setup").start();f.then(this.$19).then(this.$20).then(this.$21).then(function(){return g.log()},function(a){a=d("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(a,{type:"OZ_DRM_MANAGER",description:"DRM keyPromiseChain rejection"});c.$13(a);g.setResult("failed").setError(a).log()})};b.$17=function(a,b,c){var d=this;a.forEach(function(a){var e=d.$16(a.getContentProtectionXml()),f=a.getMimeCodecs();e!=null&&e.forEach(function(a){a=a.provider;var d=a.getKeySystem(),e=b.get(d);e||(e={audioCapabilities:new Map(),videoCapabilities:new Map(),distinctiveIdentifier:a.getRequireDistinctiveIdentifier(),persistentState:a.getRequirePersistentState(),sessionTypes:a.getDrmSessionTypes(),initDataTypes:a.getInitDataTypes()},b.set(d,e));c==="audio"&&!e.audioCapabilities.has(f)&&e.audioCapabilities.set(f,{contentType:f,robustness:a.getAudioRobustness()});c==="video"&&!e.videoCapabilities.has(f)&&e.videoCapabilities.set(f,{contentType:f,robustness:a.getVideoRobustness()})})})};b.destroy=function(){this.$6.release(),this.$4=!0};b.$18=function(a,b){var e=this,f={audioCapabilities:Array.from(b.audioCapabilities.values()),videoCapabilities:Array.from(b.videoCapabilities.values()),distinctiveIdentifier:b.distinctiveIdentifier,persistentState:b.persistentState,sessionTypes:b.sessionTypes,initDataTypes:b.initDataTypes};b=window.navigator.requestMediaKeySystemAccess(a,[f]);d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b,this.$3,"drm_request_media_key_system_access",function(){},function(b){var d=null;b instanceof c("oz-player/loggings/OzOperationLoggerBase")&&b.getError()&&(d="keySystem: "+a+";domConfig: "+JSON.stringify(f));return e.$22(b,d)});return b};b.$23=function(a,b,e){var f=this,g=a.createSession();this.$6.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g,"message",function(a){f.$24(g,b,a)["catch"](function(a){f.$14(d("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(a,{type:"OZ_DRM_MANAGER",description:"DRM message rejection"}))})}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g,"keystatuseschange",function(a){f.$25(g)["catch"](function(a){f.$14(d("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(a,{type:"OZ_DRM_MANAGER",description:"DRM keystatuseschange rejection"}))})}));return g.generateRequest(e.initDataType,e.initData)};b.$24=function(a,b,c){var e=this;c=b.getLicenseRequestInfo(c.message.slice(0));var f=this.$3.getOperationLogger("drm_fetch_license").setResource(c.url).start();return window.fetch(c.url,c).then(function(c){c.ok?f.setResult("success").setCode(c.status).log():f.setResult("failed").setCode(c.status).setError(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"DRM license fetch HTTP status not OK ("+c.status+")",extra:{code:c.status.toString()}})).log();return c.arrayBuffer().then(function(f){var g=new Uint8Array(f);g=b.parseLicenseResponse(g);if(g==null||g.byteLength===0){var h=g==null?"License is null or undefined.":"License is 0 bytes.";!c.ok?h+=" HTTP status not OK ("+c.status+")":f.byteLength===0&&(h+=" HTTP status OK ("+c.status+"), but response body is 0 bytes");f=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"No license for "+b.getKeySystem()+" - "+h,extra:{code:c.status.toString(),headers:c.headers,url:c.url}});h=(h=(h=e.$1)==null?void 0:h.throwNoLicenseError)!=null?h:!1;if(h)throw f;else e.$13(f)}else a.update(g)})})};b.$25=function(a){return a.expiration<Date.now()?a.close():c("oz-player/shims/OzMaybeNativePromise").resolve()};return a}();g.OzDrmManager=a}),98);
__d("oz-player/loggings/OzPerfLoggerProviderBase",["oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.cloneContext=function(){var a=this.createLoggerProvider();this.$11(a);return a};b.setType=function(a){this.$1=a;return this};b.setInitiator=function(a){this.$2=a;return this};b.setResource=function(a){this.$4=a;return this};b.setRepresentationID=function(a){this.$3=a;return this};b.setSegmentStartTime=function(a){this.$5=a;return this};b.setSegmentEndTime=function(a){this.$6=a;return this};b.setStreamSwitchReason=function(a){this.$7=a;return this};b.setIsP2pPlayback=function(a){this.$8=a;return this};b.setIsRingBufferSample=function(a){this.$9=a;return this};b.setPerSessionSampleRate=function(a){this.$10=a;return this};b.getType=function(){return this.$1};b.getInitiator=function(){return this.$2};b.getRepresentationID=function(){return this.$3};b.getStreamSwitchReason=function(){return this.$7};b.getResource=function(){return this.$4};b.getSegmentStartTime=function(){return this.$5};b.getSegmentEndTime=function(){return this.$6};b.getIsP2pPlayback=function(){return this.$8};b.getIsRingBufferSample=function(){return this.$9};b.getOperationLogger=function(a){a=this.createOperationLogger(a);return this.setOperationContext(a)};b.setOperationContext=function(a){this.$11(a);return a};b.createOperationLogger=function(a){throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: createOperationLogger"})};b.createLoggerProvider=function(){throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: createLoggerProvider"})};b.$11=function(a){this.getType()&&a.setType(this.getType()),this.getInitiator()&&a.setInitiator(this.getInitiator()),this.getResource()&&a.setResource(this.getResource()),this.getRepresentationID()&&a.setRepresentationID(this.getRepresentationID()),this.getStreamSwitchReason()&&a.setStreamSwitchReason(this.getStreamSwitchReason()),typeof this.getSegmentStartTime()==="number"&&a.setSegmentStartTime(this.getSegmentStartTime()),typeof this.getSegmentEndTime()==="number"&&a.setSegmentEndTime(this.getSegmentEndTime()),typeof this.getIsP2pPlayback()==="boolean"&&a.setIsP2pPlayback(this.getIsP2pPlayback()),typeof this.getIsRingBufferSample()==="boolean"&&a.setIsRingBufferSample(this.getIsRingBufferSample())};return a}();g["default"]=a}),98);
__d("oz-player/loggings/OzDevConsolePerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).debug.apply(a,["[oz]"].concat(c))}function i(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).error.apply(a,["[oz]"].concat(c))}function j(a,b){return Math.floor(a).toString().padStart(b,"0")}function k(a,b){b===void 0&&(b=null);var c=function(a){return j(a.getHours(),2)+":"+j(a.getMinutes(),2)+":"+j(a.getSeconds(),2)+" "+j(a.getMilliseconds(),3)},d=b?b-a:0;return"["+c(a)+(b?" - "+c(b):"")+" ("+d+" ms)]"}function l(a){return a==="failed"?i:h}function m(a){return a==null||a===0?null:a.toFixed(2)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.createOperationLogger=function(a){return new n(a)};c.createLoggerProvider=function(){return new b()};return b}(c("oz-player/loggings/OzPerfLoggerProviderBase"));var n=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var c=a.prototype;c.log=function(){b.prototype.log.call(this);var a=this.getClientTimeBegin()||0,c=this.getClientTimeEnd();c=c!=null&&c!==0?new Date(c):null;var d=this.getResult()||"success",e=this.getType(),f=this.getInitiator(),g=this.getResource(),h=m(this.getSegmentStartTime()),i=m(this.getSegmentEndTime());l(d)("["+d+"]",this.getOperationName()+": "+k(new Date(a),c),e!=null&&e!==""?"["+e+"]":"",h!=null&&h!==""&&i!=null&&i!==""?"[segment time range: "+h+" - "+i+"]":"",f||"",g||"")};return a}(c("oz-player/loggings/OzOperationLoggerBase"));g.OzDevConsolePerfLoggerProvider=a;g.OzDevConsoleOperationLogger=n}),98);
__d("oz-player/loggings/OzMultiDestinationPerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OzMultiDestinationPerfLoggerProvider$p_1=b;return c}var c=b.prototype;c.createOperationLogger=function(a){return new h(a,this.$OzMultiDestinationPerfLoggerProvider$p_1.map(function(b){return b.getOperationLogger(a)}))};c.createLoggerProvider=function(){return new b(this.$OzMultiDestinationPerfLoggerProvider$p_1)};return b}(c("oz-player/loggings/OzPerfLoggerProviderBase"));var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=b.call(this,a)||this;a.$OzMultiDestinationOperationLogger$p_1=c;return a}var c=a.prototype;c.start=function(){b.prototype.start.call(this);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.start()});return this};c.setPerSessionSampleRate=function(a){b.prototype.setPerSessionSampleRate.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setPerSessionSampleRate(a)});return this};c.setResult=function(a){b.prototype.setResult.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setResult(a)});return this};c.setError=function(a){b.prototype.setError.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setError(a)});return this};c.setType=function(a){b.prototype.setType.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setType(a)});return this};c.setMediaSourcePreviousDuration=function(a){b.prototype.setMediaSourcePreviousDuration.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setMediaSourcePreviousDuration(a)});return this};c.setMediaSourceNewDuration=function(a){b.prototype.setMediaSourceNewDuration.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setMediaSourceNewDuration(a)});return this};c.setClientTimeBegin=function(a){b.prototype.setClientTimeBegin.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setClientTimeBegin(a)});return this};c.setClientTimeDuration=function(a){b.prototype.setClientTimeDuration.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setClientTimeDuration(a)});return this};c.setClientTimeEnd=function(a){b.prototype.setClientTimeEnd.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setClientTimeEnd(a)});return this};c.setSegmentCount=function(a){b.prototype.setSegmentCount.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setSegmentCount(a)});return this};c.setTimeToFirstByte=function(a){b.prototype.setTimeToFirstByte.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setTimeToFirstByte(a)});return this};c.setTimeToLastByte=function(a){b.prototype.setTimeToLastByte.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setTimeToLastByte(a)});return this};c.setTimeToRequestStart=function(a){b.prototype.setTimeToRequestStart.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setTimeToRequestStart(a)});return this};c.setTimeToRequestSent=function(a){b.prototype.setTimeToRequestSent.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setTimeToRequestSent(a)});return this};c.setReason=function(a){b.prototype.setReason.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setReason(a)});return this};c.setResource=function(a){b.prototype.setResource.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setResource(a)});return this};c.setSegmentStartTime=function(a){b.prototype.setSegmentStartTime.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setSegmentStartTime(a)});return this};c.setSegmentEndTime=function(a){b.prototype.setSegmentEndTime.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setSegmentEndTime(a)});return this};c.setAppendedBufferMs=function(a){b.prototype.setAppendedBufferMs.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setAppendedBufferMs(a)});return this};c.setLength=function(a){b.prototype.setLength.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setLength(a)});return this};c.setLiveheadPosition=function(a){b.prototype.setLiveheadPosition.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setLiveheadPosition(a)});return this};c.setLiveheadSeqNumHeader=function(a){b.prototype.setLiveheadSeqNumHeader.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setLiveheadSeqNumHeader(a)});return this};c.setLiveheadSeqNumMpd=function(a){b.prototype.setLiveheadSeqNumMpd.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setLiveheadSeqNumMpd(a)});return this};c.setManifestType=function(a){b.prototype.setManifestType.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setManifestType(a)});return this};c.setPriorityFloat=function(a){b.prototype.setPriorityFloat.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setPriorityFloat(a)});return this};c.setInitiator=function(a){b.prototype.setInitiator.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setInitiator(a)});return this};c.setPreloadTime=function(a){b.prototype.setPreloadTime.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setPreloadTime(a)});return this};c.setConcluder=function(a){b.prototype.setConcluder.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setConcluder(a)});return this};c.setPreviousRepresentationID=function(a){b.prototype.setPreviousRepresentationID.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setPreviousRepresentationID(a)});return this};c.setRepresentationID=function(a){b.prototype.setRepresentationID.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setRepresentationID(a)});return this};c.setState=function(a){b.prototype.setState.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setState(a)});return this};c.setContentLengthHeader=function(a){b.prototype.setContentLengthHeader.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setContentLengthHeader(a)});return this};c.setEdgeHitHeader=function(a){b.prototype.setEdgeHitHeader.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setEdgeHitHeader(a)});return this};c.setFNAHitHeader=function(a){b.prototype.setFNAHitHeader.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setFNAHitHeader(a)});return this};c.setOriginHitHeader=function(a){b.prototype.setOriginHitHeader.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setOriginHitHeader(a)});return this};c.setCode=function(a){b.prototype.setCode.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setCode(a)});return this};c.setResponseTimeMsHeader=function(a){b.prototype.setResponseTimeMsHeader.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setResponseTimeMsHeader(a)});return this};c.setIsTemplatedManifest=function(a){b.prototype.setIsTemplatedManifest.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setIsTemplatedManifest(a)});return this};c.setIsLatencyCachupEnabled=function(a){b.prototype.setIsLatencyCachupEnabled.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setIsLatencyCachupEnabled(a)});return this};c.setPlayerFormat=function(a){b.prototype.setPlayerFormat.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setPlayerFormat(a)});return this};c.setIsP2pPlayback=function(a){b.prototype.setIsP2pPlayback.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setIsP2pPlayback(a)});return this};c.setOneObserved=function(a){b.prototype.setOneObserved.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setOneObserved(a)});return this};c.setOneReqWave=function(a){b.prototype.setOneReqWave.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setOneReqWave(a)});return this};c.setOneResWave=function(a){b.prototype.setOneResWave.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setOneResWave(a)});return this};c.setAppendTarget=function(a){b.prototype.setAppendTarget.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setAppendTarget(a)});return this};c.setIsRingBufferSample=function(a){b.prototype.setIsRingBufferSample.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setIsRingBufferSample(a)});return this};c.setIsOnline=function(a){b.prototype.setIsOnline.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setIsOnline(a)});return this};c.setProxyStatusHeader=function(a){b.prototype.setProxyStatusHeader.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setProxyStatusHeader(a)});return this};c.setPlaybackFbmsParam=function(a){b.prototype.setPlaybackFbmsParam.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setPlaybackFbmsParam(a)});return this};c.setPreferredEdgeLatency=function(a){b.prototype.setPreferredEdgeLatency.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setPreferredEdgeLatency(a)});return this};c.setUserInfo=function(a){b.prototype.setUserInfo.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setUserInfo(a)});return this};c.setDynamicStatusHeader=function(a){b.prototype.setDynamicStatusHeader.call(this,a);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setDynamicStatusHeader(a)});return this};c.setMediaSourceSourceBuffer=function(a,c){b.prototype.setMediaSourceSourceBuffer.call(this,a,c);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(b){return b.setMediaSourceSourceBuffer(a,c)});return this};c.unsetMediaSourceSourceBuffers=function(){b.prototype.unsetMediaSourceSourceBuffers.call(this);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.unsetMediaSourceSourceBuffers()});return this};c.log=function(){b.prototype.log.call(this),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.log()})};return a}(c("oz-player/loggings/OzOperationLoggerBase"));g.OzMultiDestinationPerfLoggerProvider=a}),98);
__d("oz-player/loggings/OzOperationLoggerObserver",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new(c("oz-player/shims/OzSubscriptionsHandler"))()}var b=a.prototype;b.observe=function(a,b){var c;a=a.map(function(a){var c=a.setOperationLoggedListener(function(a){var c=a.getClientTimeBegin()||0,d=a.getClientTimeEnd()||0;b.getOperationLogger(a.getOperationName()).setClientTimeBegin(c).setClientTimeDuration(d-c).setClientTimeEnd(d).setLength(a.getLength()).setResult(a.getResult()||"success").setInitiator(a.getInitiator()).setType(a.getType()).log()});a.activate();return c});(c=this.$1).addSubscriptions.apply(c,a)};b.destroy=function(){this.$1.release()};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/OzNetworkDiagnosticsWWW",["VideoPlayerOzWWWGlobalConfig"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){if(!a)return null;a=parseInt(a.get(b),10);return!isNaN(a)&&isFinite(a)?a:null}function i(a,b,c){if(!a||b===""||c==="")return null;b=(a=a.get(b))!=null?a:"";a=b.split(";");for(b=0;b<a.length;b++){var d=a[b].split(":");if(d.length===2&&d[0]===c){d=parseInt(d[1],10);return isFinite(d)?d:null}}return null}a={getNextValidSegmentId:function(a){return h(a,"x-fb-next-valid-segment-id")},getResponseTimeMs:function(a){return h(a,"x-fb-response-time-ms")},getDvlSegmentPTS:function(a){return h(a,"x-fb-segment-pts-start")},getDvlStatus:function(a){return a==null?void 0:a.get("x-fb-dynamic-status")},getUsableResponseSizeForBandwidthEstimation:function(a){return h(a,"x-fb-dynamic-predictive-response-chunk-size")},getBandwidthMeanEstimate:function(a){var b=c("VideoPlayerOzWWWGlobalConfig").getString("bandwidth_estimate_header_key",""),d=c("VideoPlayerOzWWWGlobalConfig").getString("bandwidth_estimate_key","");return i(a,b,d)},getBandwidthStandardDeviationEstimate:function(a){return h(a,"x-bwe-std-dev")},getTimeToFirstByteMsEstimate:function(a){return h(a,"x-mrtt-ms")}};b=a;g["default"]=b}),98);
__d("oz-player/shims/OzNetworkDiagnostics",["oz-player/shims/www/OzNetworkDiagnosticsWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzNetworkDiagnosticsWWW")}),98);
__d("oz-player/manifests/OzDynamicVideoLibrary",["oz-player/shims/OzNetworkDiagnostics"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$4=null;this.$5=null;this.$6=new RegExp(/(.*)\.(m4v|m4a)(\?|$)/);this.$7={m4a:{time:0},m4v:{time:0}};this.$8={audio:"m4a",video:"m4v"};this.$9={};a=a.config;this.$3=a}var b=a.prototype;b.getLastSegmentStartPTS=function(){return this.$1};b.getLast200RequestedTime=function(){return this.$5};b.getLast200RequestedUrlDecisionMinTime=function(){var a=[];for(var b in this.$7)a.push(this.$7[b].time);return Math.min.apply(Math,a)};b.getLast200RequestedUrlDecisionTimeByMimeType=function(a){return(a=this.$7[this.$8[a]])==null?void 0:a.time};b.updateWithResponse=function(a,b,d,e){var f;if(!e.headers||e.status!=200)return;this.$5=b;this.$1=(f=c("oz-player/shims/OzNetworkDiagnostics").getDvlSegmentPTS(e.headers))!=null?f:this.$1;this.$2=c("oz-player/shims/OzNetworkDiagnostics").getDvlStatus(e.headers);this.$10(a,d);(this.$2!=null||this.$2==="200")&&(this.$4=b)};b.$10=function(a,b){a=this.$6.exec(a);if(a!=null){a=a[2];b!=null&&(this.$7[a]={time:b})}};b.shouldRequestDynamicInfo=function(a){if(a!=="video")return!1;this.$11(a);a=this.$12(a);return a!=null&&a<=this.$3.getNumber("dvl_initial_segment_ignore_count")?!1:this.$3.getNumber("dvl_update_interval_ms")==0||this.$4==null||this.$4+this.$3.getNumber("dvl_update_interval_ms")<=Date.now()};b.$11=function(a){this.$9[a]==null&&(this.$9[a]={segmentCount:0});return this.$9[a].segmentCount=this.$9[a].segmentCount!=null?this.$9[a].segmentCount+1:0};b.$12=function(a){return this.$9[a].segmentCount};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzRepresentationBase",["oz-player/parsers/getMIMECodecs","oz-player/shims/ozvariant","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l){this.$1=a,this.$2=b,this.$10=c,this.$5=f,this.$3=d,this.$4=e,this.$6=g,this.$7=h,this.$8=i,this.$9=j,this.$11=k,this.$12=l}var b=a.prototype;b.getContentProtectionXml=function(){return this.$2};b.getID=function(){return this.$10};b.getBandwidth=function(){return this.$9};b.getMimeCodecs=function(){return c("oz-player/parsers/getMIMECodecs")(this.$3,this.$4)};b.getMimeType=function(){return this.$3};b.getCodecs=function(){return this.$4};b.getLang=function(){return this.$5};b.getRole=function(){return this.$6};b.getDisplayLabel=function(){return this.$10};b.getInitSegment=function(){return this.$7};b.getCustomFieldFirstSegment=function(){return this.$11};b.getCustomField=function(a){if(this.$12==null||!this.$12[a])throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_REPRESENTATION_PARSER",description:"Custom field "+a+" is not specified by caller",extra:{code:"OZ_RP-8"}});a=this.$12[a];try{return a(this.$1)}catch(a){return null}};b.updateWith=function(b){b instanceof a||c("oz-player/shims/ozvariant")(0,229),this.$8.updateWith(b.$8)};b.getSegmentByTime=function(a){return this.$8.getSegmentByTime(a)};b.getSegment=function(a){return this.$8.getSegment(a)};b.getPredictedSegmentAfter=function(a){return this.$8.getPredictedSegmentAfter(a)};b.canPredict=function(){return this.$8.canPredict()};b.canApproximateId=function(){return this.$8.canApproximateId()};b.getSegmentAfter=function(a){return this.$8.getSegmentAfter(a)};b.isEndingSegment=function(a){return this.$8.isEndingSegment(a)};b.addUpdateListener=function(a){return this.$8.addUpdateListener(a)};b.getTimeRanges=function(){return this.$8.getTimeRanges()};b.blockTimeRange=function(a){this.$8.blockTimeRange(a)};b.getEndingSegment=function(){return this.$8.getEndingSegment()};b.getMaxGopSec=function(){return this.$8.getMaxGopSec()};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzVideoRepresentation",["oz-player/manifests/OzRepresentationBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k,l,m,n,o){c=a.call(this,b,c,d,e,f,g,h,i,j,k,l,m)||this;c.$OzVideoRepresentation$p_5=null;c.$OzVideoRepresentation$p_6=null;c.$OzVideoRepresentation$p_7=null;c.$OzVideoRepresentation$p_1=n;c.$OzVideoRepresentation$p_2=o;c.$OzVideoRepresentation$p_4=m;c.$OzVideoRepresentation$p_3=b;if(m!=null){if(m.playbackResolutionMos!=null){d=c.getCustomField("playbackResolutionMos");c.$OzVideoRepresentation$p_7=d!=null?String(d):null}if(m.playbackResolutionCsvqm!=null){e=c.getCustomField("playbackResolutionCsvqm");c.$OzVideoRepresentation$p_6=e!=null?String(e):null}}return c}var c=b.prototype;c.getQualityScore=function(a){if(a==="csvqm")return this.$OzVideoRepresentation$p_6;else return this.$OzVideoRepresentation$p_7};c.getWidth=function(){return this.$OzVideoRepresentation$p_1};c.getHeight=function(){return this.$OzVideoRepresentation$p_2};c.getDisplayLabel=function(){if(this.$OzVideoRepresentation$p_5!=null)return this.$OzVideoRepresentation$p_5;var a=this.$OzVideoRepresentation$p_4?this.$OzVideoRepresentation$p_4.qualityLabel:null;a&&(this.$OzVideoRepresentation$p_5=a(this.$OzVideoRepresentation$p_3));(this.$OzVideoRepresentation$p_5==null||this.$OzVideoRepresentation$p_5=="")&&(this.$OzVideoRepresentation$p_5=this.getHeight().toString()+"p");return this.$OzVideoRepresentation$p_5||""};return b}(c("oz-player/manifests/OzRepresentationBase"));g["default"]=a}),98);
__d("oz-player/utils/OzMimeUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){return(a.split("/")[0]||"").trim()}function b(a){a=(a.split(";")[0]||"").trim();a=(a.split("/")[1]||"").trim();return a}function c(a){a=a.split('codecs="').pop();return a.split(".")[0].trim()}f.getMimeType=a;f.getContainerType=b;f.getParsedCodecFamily=c}),66);
__d("oz-player/media_source/OzMSESourceBufferImpl",["oz-player/shims/OzDOMEventListener","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$1=a,this.$2=c,this.$3=b}var b=a.prototype;b.registerOnUpdateStartListener=function(a){return c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"updatestart",a)};b.registerOnUpdateEndListener=function(a){return c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"updateend",a)};b.registerOnUpdateListener=function(a){return c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"update",a)};b.registerOnErrorListener=function(a){return c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"error",a)};b.getIsUpdating=function(){return this.$1.updating};b.getBuffered=function(){return this.$1.buffered};b.setAppendWindowEnd=function(a){this.$1.appendWindowEnd=a};b.appendBuffer=function(a,b){var c=this.$2.getBool("mcm_in_play_codec_switch");if(c){var e=(c=d("oz-player/utils/OzMimeUtil")).getMimeType(b)!==c.getMimeType(this.$3),f=c.getContainerType(b)!==c.getContainerType(this.$3);c=c.getParsedCodecFamily(b)!==c.getParsedCodecFamily(this.$3);if(e||f||c)try{this.$1.changeType(b),this.$3=b}catch(a){throw d("oz-player/utils/OzErrorUtils").createOzError({description:'SourceBufferChangeTypeError: Failed to changeType("'+b+'"): '+String(a)+" current MIME Codecs: "+this.$3,type:"OZ_SOURCE_BUFFER_CHANGE_TYPE"})}}this.$1.appendBuffer(a)};b.abort=function(){this.$1.abort()};b.remove=function(a,b){this.$1.remove(a,b)};return a}();g["default"]=a}),98);
__d("oz-player/media_source/OzMediaErrorProvider",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.hasError=function(){return this.$1.error!==null};b.getMediaErrorName=function(){var a=this.$1.error;return a&&a.message?this.$2(a.message):null};b.getErrorCode=function(){var a=this.$1.error;return a&&a.code?a.code:null};b.getVideoNode=function(){return this.$1};b.$2=function(a){return a.replace(/([0-9]{2,})/g,function(a){var b="";while(b.length<a.length)b+="#";return b})};return a}();f["default"]=a}),66);
__d("oz-player/utils/OzSourceBufferUtil",["oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=0;for(var c=0;c<a.getBuffered().length;c++)b+=a.getBuffered().end(c)-a.getBuffered().start(c);return b}function b(a){return a.reduce(function(a,b){return a+(b.endTime-b.startTime)},0)}function c(a){return a.getBuffered().length==0?0:a.getBuffered().start(0)}function e(a){var b=null;try{b=a.getBuffered()}catch(a){return 0}return b.length==0?0:b.end(b.length-1)}function f(a){var b=[];for(var c=0;c<a.length;c++)b.push({startTime:a.start(c),endTime:a.end(c)});return b}function h(a,b,c){c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(c,b,a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));b=c>=0?parseFloat((a[c].endTime-b).toFixed(3)):0;a=c>=0?a.length-1-c:-1;return{bufferAheadSec:b,bufferedOffset:a}}function i(a,b,c){var e=a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(c,b,e);e=parseFloat(e.reduce(function(a,c){var e=c.rangeEnd;return e==null?a:a+(d("oz-player/utils/OzNumericalRangeUtil").isWithin(b,c)?e-b:d("oz-player/utils/OzNumericalRangeUtil").isLargerThan(c.rangeStart,b)?e-c.rangeStart:0)},0).toFixed(3));a=c>=0?a.length-1-c:-1;return{bufferAheadSec:e,bufferedOffset:a}}g.getTotalBufferedTime=a;g.getTotalInBufferedRanges=b;g.getStartBufferedTime=c;g.getEndBufferedTime=e;g.convertToBufferedTimeRangeArray=f;g.getBufferAheadInBufferedRanges=h;g.getTotalBufferAheadOfPosition=i}),98);
__d("oz-player/media_source/SourceBufferManagerUtils",["oz-player/utils/OzSourceBufferUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e=d("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime(b);return function(){var a=d("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime(b);return{startTime:e,endTime:a}}}g.startMeasuringAppendedBuffer=a}),98);
__d("oz-player/shims/www/OzDeferredWWW",["Deferred"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("Deferred")}),98);
__d("oz-player/shims/OzDeferred",["oz-player/shims/www/OzDeferredWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzDeferredWWW")}),98);
__d("oz-player/utils/OzFakeEventTarget",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.dispatchEvent=function(a){if(this.$1[a]==null)return;this.$1[a].forEach(function(a){return a()})};b.addEventListener=function(a,b){var c=this;this.$1[a]===void 0&&(this.$1[a]=new Set());this.$1[a].add(b);return{remove:function(){c.removeEventListener(a,b)}}};b.removeEventListener=function(a,b){if(!this.$1[a])return;this.$1[a]["delete"](b)};b.destroy=function(){this.$1={}};return a}();f["default"]=a}),66);
__d("oz-player/states/OzObservedSourceBufferState",["oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzFakeEventTarget"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$OzObservedSourceBufferState$p_2=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzObservedSourceBufferState$p_3=[];e.$OzObservedSourceBufferState$p_6=function(){var a;try{a=e.$OzObservedSourceBufferState$p_1.getBuffered()}catch(a){if(a.name==="InvalidStateError"){e.$OzObservedSourceBufferState$p_3=[];return}else throw a}var b=[];for(var c=0;c<a.length;c++)b.push({startTime:a.start(c),endTime:a.end(c)});e.$OzObservedSourceBufferState$p_3=b};e.$OzObservedSourceBufferState$p_1=b;e.$OzObservedSourceBufferState$p_4=d;e.$OzObservedSourceBufferState$p_5();return e}var d=b.prototype;d.$OzObservedSourceBufferState$p_5=function(){var a=this;this.$OzObservedSourceBufferState$p_2.release();this.$OzObservedSourceBufferState$p_2=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$OzObservedSourceBufferState$p_2.addSubscriptions(this.$OzObservedSourceBufferState$p_1.registerOnUpdateEndListener(function(){a.$OzObservedSourceBufferState$p_6(),a.dispatchEvent("buffer_updated")}),this.$OzObservedSourceBufferState$p_1.registerOnErrorListener(this.$OzObservedSourceBufferState$p_6))};d.setSourceBuffer=function(a){this.$OzObservedSourceBufferState$p_1=a,this.$OzObservedSourceBufferState$p_5(),this.$OzObservedSourceBufferState$p_6()};d.getBufferedRanges=function(){return this.$OzObservedSourceBufferState$p_3};d.destroy=function(){a.prototype.destroy.call(this),this.$OzObservedSourceBufferState$p_2.release(),this.$OzObservedSourceBufferState$p_2.engage()};return b}(c("oz-player/utils/OzFakeEventTarget"));g["default"]=a}),98);
__d("oz-player/utils/OzCustomErrorCode",[],(function(a,b,c,d,e,f){"use strict";a={APPEND_BUFFER_UNKNOWN_ERROR:"21539",APPEND_BUFFER_INVALID_STATE_ERROR_SOURCE_BUFFER_HAS_BEEN_REMOVED:"21540",APPEND_BUFFER_MEDIA_ERROR_ATTRIBUTE_NOT_NULL:"21541",APPEND_BUFFER_SOURCE_BUFFER_UPDATING_ATTRIBUTE_IS_TRUE:"21542",SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR:"21543",SOURCE_BUFFER_MANAGER_CREATE_ERROR:"21544",SETUP_STREAMS_PROMISE_REJECTION:"21545",APPEND_BUFFER_QUOTA_EXCEEDED_ERROR:"21546",APPEND_BUFFER_INVALID_STATE_ERROR:"21547",SOURCE_BUFFER_MANAGER_UPDATEEND_UNKNOWN_ERROR:"21548",NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR:"21549",STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR:"21550",SOURCE_BUFFER_MANAGER_CLEAR_RANGE_FAILED:"21551",WEBVTT_CAPTION_PARSE_ERROR:"21552"};b=a;f["default"]=b}),66);
__d("oz-player/media_source/SourceBufferManager",["Promise","oz-player/loggings/OzLoggingUtils","oz-player/media_source/SourceBufferManagerUtils","oz-player/shims/OzDOMEventListener","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzStreams","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzObservedSourceBufferState","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorUtils","oz-player/utils/ozConcatUint8Arrays"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,e,f,g,h){var i=this;h===void 0&&(h=null);this.$4=null;this.$5=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$7=!1;this.$8=[];this.$12=!1;this.$13=!1;this.$14=0;this.$26=function(){if(i.$10.hasError()){i.$13=!1;i.$12=!1;var a=i.$10.getMediaErrorName();a=a!=null?a:"An unknown source buffer error occurred.";var b=i.$10.getErrorCode();b=b!=null?String(b):c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_UPDATEEND_UNKNOWN_ERROR;a=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:a,extra:{code:b}});i.$4&&i.$4.reject(a);i.$4=null;i.cancelOperationAndCleanQueue()}else if(!i.$13){i.$13=!0;b=i.$10.getVideoNode();a=i.$26;b=c("oz-player/shims/OzDOMEventListener").listenDOMEvent(b,"error",a);i.$5.addSubscriptions(b)}};this.$17=function(){var a=i.$2;if(a!=null){a.getOperationLogger("source_buffer_updateend").setError((a=i.$10.getMediaErrorName())!=null?a:void 0).setCode(i.$10.getErrorCode()).setResult(i.$12?"failed":"success").log()}a=i.$4;a&&(i.$12?i.$26():(a.resolve(),i.$4&&(i.$4=null)))};this.$18=function(){var a=i.$2;if(a!=null){a.getOperationLogger("source_buffer_error").setError((a=i.$10.getMediaErrorName())!=null?a:void 0).setCode(i.$10.getErrorCode()).setResult("failed").log()}i.$12=!0};this.$1=a;this.$2=h;this.$3=b;this.$11=e;this.$16();this.$9=new(c("oz-player/states/OzObservedSourceBufferState"))(this.$3,this.$11);this.$10=f;this.$15=g}var e=a.prototype;e.$16=function(){this.$5.release(),this.$5=new(c("oz-player/shims/OzSubscriptionsHandler"))(),this.$5.addSubscriptions(this.$3.registerOnUpdateEndListener(this.$17),this.$3.registerOnErrorListener(this.$18))};e.setSourceBuffer=function(a){if(a==null)return;this.cancelOperationAndCleanQueue();this.$3=a;this.$16();this.$9.setSourceBuffer(a)};e.queueData=function(a,b,d,e,f){e===void 0&&(e=null);f===void 0&&(f=0);var g=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$8.push({data:a,deferred:g,loggerProvider:e,appendTarget:f,mimeCodecs:b,clearSourceBufferRange:d});a=g.getPromise();this.$7||this.$19()["catch"](function(a){});return a};e.cancelOperationAndCleanQueue=function(a){a===void 0&&(a=null);a&&a.cloneContext().getOperationLogger("source_buffer_cancel_and_clean").log();var b=d("oz-player/utils/OzErrorUtils").createOzCancelledError("SBM cancel and clean");this.$8.forEach(function(a){a=a.deferred;a.reject(b)});this.$8=[];try{this.$11.getBool("enable_alternative_audio_tracks")?this.$15()==="open"&&(this.$10.hasError()||this.$3.abort()):this.$15()!=="closed"&&!0&&(this.$10.hasError()||this.$3.abort())}catch(b){var c=b;a&&a.cloneContext().getOperationLogger("cancel_operation_abort_failed").setError(c).setReason(this.$15?this.$15():null).log()}a=this.$4;a&&a.reject(b);this.$6&&(this.$6.reject(b),this.$6=null)};e.getSourceBufferState=function(){return this.$9};e.$20=function(a,b){a=Math.max(a,0);b>0&&b>a&&this.$3.remove(a,b)};e.$21=function(a,b){a=Math.max(a,0);if(b>0&&b>a){var d=this.$22();this.$20(a,b);return d}return c("oz-player/shims/OzMaybeNativePromise").resolve()};e.clearRangeWithWait=function(a){var c=this;this.cancelOperationAndCleanQueue();return a.reduce(function(a,b){var d=b.fromTime,e=b.toTime;return a.then(function(){return c.$21(d,e)})},(h||(h=b("Promise"))).resolve())};e.$22=function(a){var b=this.$4=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));b=b.getPromise();a&&d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b,a,"wait_for_source_buffer");return b};e.$23=function(a,b,e,f){var g=this,h=function(){var h=g.$4=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),i=!1,j=!0;try{j=!!g.$3.getBuffered()}catch(a){j=!1}try{i=g.$3.getIsUpdating();if(j)g.$3.appendBuffer(a,b);else{h.resolve();return h.getPromise()}}catch(a){j=a;var k=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_UNKNOWN_ERROR,l=j.name,m=j.message;l==="QuotaExceededError"?k=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_QUOTA_EXCEEDED_ERROR:g.$10.hasError()?k=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_MEDIA_ERROR_ATTRIBUTE_NOT_NULL:i?k=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_SOURCE_BUFFER_UPDATING_ATTRIBUTE_IS_TRUE:l==="InvalidStateError"&&typeof m==="string"&&/SourceBuffer has been removed/.test(m)?k=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_INVALID_STATE_ERROR_SOURCE_BUFFER_HAS_BEEN_REMOVED:l==="InvalidStateError"&&(k=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_INVALID_STATE_ERROR);i=d("oz-player/utils/OzErrorUtils").createOzError({type:g.$11.getBool("emit_caption_parse_errors_as_warning")&&d("oz-player/utils/OzErrorUtils").isOzError(j)?j.getType():l==="QuotaExceededError"?"OZ_SOURCE_BUFFER_QUOTA_EXCEEDED":l==="OZ_SOURCE_BUFFER_CHANGE_TYPE"?"OZ_SOURCE_BUFFER_CHANGE_TYPE":"OZ_SOURCE_BUFFER",description:"SBM#"+g.$1+" appendBuffer("+b+") failed: "+String(m),extra:g.$11.getBool("emit_caption_parse_errors_as_warning")&&d("oz-player/utils/OzErrorUtils").isOzError(j)?j.getExtra():{originalError:j,code:k}});g.$4=null;h.reject(i)}l=h.getPromise();e&&d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(l,e,"append",function(b){var c;b.setLength(a.byteLength);c=(c=f==null?void 0:f.appendTarget)!=null?c:null;b.setAppendTarget(c)});return l};if(this.$3.getIsUpdating())return this.$22(e).then(h)["catch"](function(a){throw a});this.$14+=a.byteLength;return h()};e.$19=function(){var a=this;if(this.$7)return c("oz-player/shims/OzMaybeNativePromise").reject(this.$24("Another unit of queued data is being appended."));var b=this.$8.shift();if(!b){this.$7=!1;return c("oz-player/shims/OzMaybeNativePromise").resolve()}var e=b.data,f=b.mimeCodecs,g=b.deferred,h=b.loggerProvider,i=b.appendTarget,j=b.clearSourceBufferRange;this.$7=!0;var k;b=function(){return e instanceof d("oz-player/shims/OzStreams").OzReadableStream?a.$25(e,f,h,i):a.$23(e,f,h,{appendTarget:i})};j?(k=this.$3.getIsUpdating()?this.$22(h):c("oz-player/shims/OzMaybeNativePromise").resolve(),k=k.then(function(){return a.clearRangeWithWait([{fromTime:j[0],toTime:j[1]}])}).then(b)):k=b();var l=d("oz-player/media_source/SourceBufferManagerUtils").startMeasuringAppendedBuffer(this.$11,this.$3,this.$9);return k["catch"](function(a){g.reject(a)}).then(function(){var b=l(),c=b.startTime;b=b.endTime;g.resolve({startTime_UNSAFE:c,endTime_UNSAFE:b,appendedSec:b-c});a.$7=!1;a.$19()["catch"](function(a){})})};e.$25=function(a,b,d,e){var f=this,g=[],h=0,i=a.getReader();a=function a(){var j=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));f.$6=j;i.read().then(function(a){j.resolve(a),f.$6=null})["catch"](function(a){j.reject(a),f.$6=null});return j.getPromise().then(function(i){if(i.done){var j=c("oz-player/utils/ozConcatUint8Arrays")(g);j=j.buffer;g.length=0;h=0;return j.byteLength>0?f.$23(j,b,d,{appendTarget:e}):c("oz-player/shims/OzMaybeNativePromise").resolve()}j=i.value;i=j;if(e>0){j=j instanceof Uint8Array?j:new Uint8Array(j);g.push(j);h+=j.byteLength;if(h>=e){j=c("oz-player/utils/ozConcatUint8Arrays")(g);j=j.buffer;g.length=0;h=0;i=j}}return i&&i.byteLength>=e?f.$23(i,b,d,{appendTarget:e}).then(function(){return a()}):a()},function(a){if(f.$11.getBool("enable_alternative_audio_tracks"))try{f.$15()==="open"&&(f.$10.hasError()||f.$3.abort())}catch(a){a}else f.$3.abort();return c("oz-player/shims/OzMaybeNativePromise").reject(a)})};return a()};e.$24=function(a){var b=this.$2;b!=null&&b.getOperationLogger("source_buffer_invariant").setError(a).setResult("failed").log();return d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:"SBM invariant: "+a})};e.destroy=function(){var a=this,b=this.$2;b&&b.cloneContext().getOperationLogger("source_buffer_destroy").log();b=this.$4;b&&(!this.$13?(b.reject(d("oz-player/utils/OzErrorUtils").createOzCancelledError("SBM destroyed")),this.$4=null,this.$5.release(),this.$5=new(c("oz-player/shims/OzSubscriptionsHandler"))()):b.getPromise()["catch"](function(){a.$4=null,a.$5.release(),a.$5=new(c("oz-player/shims/OzSubscriptionsHandler"))()}));this.$9.destroy()};e.getDebug=function(){return{SourceBuffer:this.$3}};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/getOzVTTSourceBufferImplLazyWWW",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("OzVTTSourceBufferImpl").__setRef("oz-player/shims/www/getOzVTTSourceBufferImplLazyWWW");function a(){return h.load()}g["default"]=a}),98);
__d("oz-player/shims/www/getOzVTTSourceBufferImplWWW",["oz-player/shims/www/getOzVTTSourceBufferImplLazyWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/getOzVTTSourceBufferImplLazyWWW")}),98);
__d("oz-player/shims/getOzVTTSourceBufferImpl",["oz-player/shims/www/getOzVTTSourceBufferImplWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/getOzVTTSourceBufferImplWWW")}),98);
__d("oz-player/shims/www/ozClearTimeoutWWW",["clearTimeout"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("clearTimeout")}),98);
__d("oz-player/shims/ozClearTimeout",["oz-player/shims/www/ozClearTimeoutWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/ozClearTimeoutWWW")}),98);
__d("oz-player/shims/www/ozSetTimeoutAcrossTransitionsWWW",["setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("setTimeoutAcrossTransitions")}),98);
__d("oz-player/shims/ozSetTimeoutAcrossTransitions",["oz-player/shims/www/ozSetTimeoutAcrossTransitionsWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/ozSetTimeoutAcrossTransitionsWWW")}),98);
__d("oz-player/utils/ozGetErrorNameFromMediaErrorCode",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:}return"MEDIA_ERR_UNKNOWN"}f["default"]=a}),66);
__d("oz-player/media_source/MediaSourceManager",["oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/media_source/OzMSESourceBufferImpl","oz-player/media_source/OzMediaErrorProvider","oz-player/media_source/SourceBufferManager","oz-player/shims/OzDOMEventListener","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/getOzVTTSourceBufferImpl","oz-player/shims/ozClearTimeout","oz-player/shims/ozReportUnexpectedError","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozThrottle","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil","oz-player/utils/ozGetErrorNameFromMediaErrorCode"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this,e=a.videoNode,f=a.config,g=a.perfLoggerProvider;g=g===void 0?new(d("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider)([]):g;var h=a.handleVttCaptionsUpdated,i=a.onClearVideoNodeError;a=a.onRetryVideoElementError;this.$3=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$6=[];this.$7=new Map();this.$8=[];this.$10=!1;this.$12=!1;this.$13=!1;this.$14=!1;this.$15=!1;this.$18=null;this.$19=null;this.$20=new(c("oz-player/utils/OzErrorEmitter"))();this.$22="undetected";this.$28=function(){b.$31()||(b.$10=!1);if(!b.$32())return;var a=b.$8.shift();a&&(a(b.$2),b.$10=!0)};this.$5=g;this.$11=f;this.$1=e;this.$21=h;this.$16=i;this.$17=a;this.$9=new(c("oz-player/media_source/OzMediaErrorProvider"))(this.$1);this.$3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"error",function(){var a;b.$5.getOperationLogger("media_element_error").setError((a=b.$9.getMediaErrorName())!=null?a:void 0).setCode(b.$9.getErrorCode()).setResult("failed").setUserInfo({av1HardwareSupport:b.$22}).log();b.$8=[];b.$6=[];b.$4.release();b.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))();b.$15=b.$15||b.$14||b.$13;a=b.$1.error;var e=(a==null?void 0:a.code)||0,f=d("oz-player/utils/OzErrorUtils").createOzError({type:c("oz-player/utils/ozGetErrorNameFromMediaErrorCode")(e),description:(a==null?void 0:a.message)!=null?a.message:"",extra:{originalError:a,code:String(e)}});if(b.$19!=null){b.$5.getOperationLogger("media_element_error").setError(a).setCode(e).setReason("mitigation_failed").setResult("failed").setUserInfo({av1HardwareSupport:b.$22}).log();b.$20.emitError(f);return}b.$19=b.$1.currentTime;b.$18==null&&(b.$18=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){b.$18=null,b.$11.getBool("retry_video_element_error")&&(b.$17!=null&&b.$17(f),b.$23())},0))}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"play",function(){b.$14=!0}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"playing",function(){b.$14=!1,b.$15=!1,b.$19=null,b.$13=!0}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"pause",function(){b.$14=!1,b.$13=!1,b.$15=!!b.$1.error}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"ended",function(){b.$14=!1,b.$13=!1}));this.$2=new MediaSource();this.$5.getOperationLogger("media_source_new").log();this.$3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceopen",function(){b.$5.getOperationLogger("media_source_open").log()}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceended",function(){b.$5.getOperationLogger("media_source_ended").log()}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceclose",function(){b.$5.getOperationLogger("media_source_close").log()}));this.$24(this.$2)}var b=a.prototype;b.$24=function(a){var b=this.$1,c=b.src;c!==""&&URL.revokeObjectURL(c);a?b.src=URL.createObjectURL(a):(b.removeAttribute("src"),b.removeAttribute("srcObject"))};b.$23=function(){var a=this;this.$7.forEach(function(a){a.cancelOperationAndCleanQueue()});this.$2=new MediaSource();this.$24(this.$2);this.$7.forEach(function(a,b){a.setSourceBuffer(null)});var b=this.$25().then(function(){var b=[];a.$7.forEach(function(c,d){var e=a.$26(d).then(function(b){c.setSourceBuffer(b),a.$27(b,d)});b.push(e)});return c("oz-player/shims/OzMaybeNativePromise").all(b)});b.then(function(){a.$16&&a.$16();a.$19!=null&&(a.$1.currentTime=a.$19);if(a.$15){var b=a.$1.play();return b==null?void 0:b["catch"](function(){})}})["catch"](function(b){a.$20.emitError(b)})};b.$25=function(){var a=this;if(this.$11.getBool("msm_refactor_wait_for_sourceopen")){if(this.$2.readyState==="open")return c("oz-player/shims/OzMaybeNativePromise").resolve();var b=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),d=c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceopen",function(){d.remove(),b.resolve()});this.$3.addSubscriptions(d);return b.getPromise()}else{if(this.$2.readyState==="open")return c("oz-player/shims/OzMaybeNativePromise").resolve();var e=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceopen",function(){e.resolve(),a.$28()}));return e.getPromise()}};b.$26=function(a){var b=this;if(this.$11.getBool("msm_refactor_wait_for_sourceopen"))return c("oz-player/shims/OzMaybeNativePromise").resolve().then(function(){return b.$29(a)})["catch"](function(b){b=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:'Failed to addSourceBuffer("'+a+'"): '+String(b),extra:{originalError:b,code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR.toString()}});throw b});else try{return this.$29(a)}catch(b){var e=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:'Failed to addSourceBuffer("'+a+'"): '+(b.message||String(b)),extra:{originalError:b,code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR.toString()}});throw e}};b.$29=function(a){var b=this,e;a.includes("vtt")?e=this.$30(a):e=this.$25().then(function(){return new(c("oz-player/media_source/OzMSESourceBufferImpl"))(b.$2.addSourceBuffer(a),a,b.$11)});return e.then(function(c){b.$6.push(c);c.registerOnUpdateListener(function(){b.$5.cloneContext().getOperationLogger("source_buffer_update_start").setType(d("oz-player/utils/OzMimeUtil").getMimeType(a)).setMediaSourceSourceBuffer(d("oz-player/utils/OzMimeUtil").getMimeType(a),c).setType(d("oz-player/utils/OzMimeUtil").getMimeType(a)).log()});b.$5.getOperationLogger("add_source_buffer").setMediaSourceSourceBuffer(d("oz-player/utils/OzMimeUtil").getMimeType(a),c).log();return c})};b.$27=function(a,b){var c=this;this.$4.addSubscriptions(a.registerOnUpdateEndListener(function(){c.$28()}))};b.$30=function(a){var b=this;return c("oz-player/shims/getOzVTTSourceBufferImpl")().then(function(e){if(b.$21!=null){var f=new e({onCaptionsChanged:b.$21,config:b.$11}),g=c("oz-player/shims/ozThrottle")(function(){f.setCurrentVideoTime(b.$1.currentTime)},200);b.$3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(b.$1,"timeupdate",function(){g()}),{remove:function(){g=function(){}}});return f}else throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:'Failed to addSourceBuffer("'+a+'"): No handleVttCaptionsUpdated callback provided',extra:{code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR.toString()}})})};b.createSourceBufferManager=function(a,b,e,f){var g=this;return(this.$11.getBool("msm_refactor_wait_for_sourceopen")?this.$26(b).then(function(a){return[void 0,a]}):c("oz-player/shims/OzMaybeNativePromise").all([this.$25(),this.$26(b)])).then(function(e){e[0];e=e[1];var f=new(c("oz-player/media_source/SourceBufferManager"))(a,e,g.$11,g.$9,function(){return g.$2.readyState},g.$5.cloneContext().setType(d("oz-player/utils/OzMimeUtil").getMimeType(b)));g.$27(e,b);g.$7.set(b,f);return f})["catch"](function(b){var e=d("oz-player/utils/OzErrorUtils").isOzError(b)?b.getExtra():void 0,f=e==null?void 0:e.code;f=d("oz-player/utils/OzErrorUtils").isOzError(b)?""+b.getType()+(f!=null?"#"+f:"")+": "+b.getDescription():String(b);f=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:"Failed to create SBM#"+a+": "+f+", support AAC-LC="+(MediaSource.isTypeSupported("audio/mp4; codecs=mp4a.40.2")?"true":"false")+", readyState="+g.$2.readyState,extra:babelHelpers["extends"]({},e,{originalError:b,code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_CREATE_ERROR.toString()})});throw f})};b.getReadyState=function(){return this.$2.readyState};b.getMediaSource=function(){return this.$2};b.notifyEndOfStream=function(a,b){var d=this,e=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceended",function(){e.resolve()}));this.$8.push(function(c){if(c.readyState==="open"){var e=d.$5.getOperationLogger("end_of_stream");e.setInitiator(a).setReason(b);e.log();c.endOfStream()}});this.$28();return e.getPromise()};b.updateDuration=function(a,b){var e=this,f=this.$2.duration;if(Number.isFinite(f)&&(!b||f>=a))return;this.$8.push(function(b){b.duration!==f&&!(isNaN(b.duration)&&isNaN(f))&&c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:"mediaSource duration discrepancy: "+b.duration+" != "+f}),"MediaSourceManager updateDuration","warn");if(a<b.duration)return;e.$5.getOperationLogger("media_source_update_duration").setMediaSourcePreviousDuration(b.duration).setMediaSourceNewDuration(a).log();b.duration=a});this.$28();return};b.detach=function(){this.$18&&(c("oz-player/shims/ozClearTimeout")(this.$18),this.$18=null);this.$5.getOperationLogger("source_buffer_detach").unsetMediaSourceSourceBuffers();this.$24(null);for(var a=0;a<this.$2.sourceBuffers.length;a++){var b=this.$2.sourceBuffers[a];this.$2.removeSourceBuffer(b)}this.$3.release();this.$3.engage();this.$4.release();this.$4.engage();this.$8=[];this.$10=!1;this.$12=!0};b.$32=function(){return!this.$31()&&this.$2.readyState==="open"&&!this.$10&&!this.$12};b.$31=function(){return this.$6.some(function(a){return a.getIsUpdating()})};b.onError=function(a){return this.$20.onError(a)};return a}();g["default"]=a}),98);
__d("oz-player/media_source/OzMediaSeekableRangeManager",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var d=this;this.$5=function(a){a===void 0&&(a=!0);var b=d.$2;if(!b)return;b=b.getTimeRanges();if(!b.length)return;b=b[b.length-1];d.$1.updateDuration(b.endTime,a)};this.$1=a;this.$3=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$4=b}var b=a.prototype;b.setTimeRangeProvider=function(a){this.$3.release(),this.$3.engage(),this.$3.addSubscriptions(a.addUpdateListener(this.$5)),this.$2=a};b.listenToMediaStreamInitAppended=function(a){var b=this;return a.addListener("initAppended",function(){b.$5(!1)})};b.destroy=function(){this.$3.release()};return a}();g["default"]=a}),98);
__d("oz-player/networks/OzCreateErrorStream",["oz-player/shims/OzStreams"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return new(d("oz-player/shims/OzStreams").OzReadableStream)({pull:function(b){b.error(a)}})}g["default"]=a}),98);
__d("oz-player/shims/OzFetchAPI",[],(function(a,b,c,d,e,f){"use strict";b=function(b,c){return a.fetch(b,c)};c=function(b,c){return new a.Response(b,c)};f.fetch=b;f.Response=c}),66);
__d("oz-player/networks/FetchWithTimeout",["oz-player/shims/OzFetchAPI","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";function b(b,e,f,g){if(!d("oz-player/shims/OzFetchAPI").fetch)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"fetch api is missing"});var h=null;if("AbortController"in a&&f!=null&&f!=0){var i=new AbortController();h=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){return i.abort()},f);f={credentials:e,signal:i.signal}}else f={credentials:e};g!=null&&(f=babelHelpers["extends"]({},f,{referrer:g}));return d("oz-player/shims/OzFetchAPI").fetch(b,f).then(function(a){c("oz-player/shims/ozClearTimeout")(h);return a})}g["default"]=b}),98);
__d("oz-player/networks/OzHTTPHeaders",["oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";d=function(){function a(){this.$1=new Map()}var b=a.prototype;b.append=function(a,b){a=a.toLowerCase();var c=this.$1.get(a);c!=null?this.$1.set(a,c+", "+b):this.$1.set(a,b)};b.get=function(a){a=a.toLowerCase();a=this.$1.get(a);return(a=a)!=null?a:null};b.entries=function(){return this.$1.entries()};b.has=function(a){return this.get(a)!==null};return a}();e=a.Headers;f=e&&e.prototype;var h=e&&f&&typeof f.append==="function"&&typeof f.entries==="function"&&typeof f.get==="function"&&typeof f.has==="function"?e:d;function b(a){if(a==null)return null;if(typeof a==="object"&&typeof a.append==="function"&&typeof a.get==="function"&&typeof a.has==="function")if(typeof a.entries==="function")return a;else if(typeof a.forEach==="function"){var b=new h();a.forEach(function(a,c){b.append(c,a)});return b}c("oz-player/shims/ozvariant")(!1,"Malformed Headers object: %s %s",typeof a,String(a));return null}g.OzHTTPHeaders=h;g.maybeConvertHeadersToOzHTTPHeaders=b}),98);
__d("oz-player/utils/arrayBuffer2OzReadableStream",["oz-player/shims/OzStreams"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return new(d("oz-player/shims/OzStreams").OzReadableStream)({start:function(b){var c=new Uint8Array(a);b.enqueue(c);b.close()}})}g["default"]=a}),98);
__d("oz-player/utils/maybeConvertReadableStreamToOzReadableStream",["asyncToGeneratorRuntime","oz-player/shims/OzStreams"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(!d("oz-player/shims/OzStreams").OzReadableStreamIsPolyfilled)return a;var c=a.getReader();return new(d("oz-player/shims/OzStreams").OzReadableStream)({start:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){while(!0){var b=(yield c.read());if(b.done)break;a.enqueue(b.value)}a.close()});function d(b){return a.apply(this,arguments)}return d}()})}g["default"]=a}),98);
__d("oz-player/utils/processFetchResponse",["oz-player/networks/OzHTTPHeaders","oz-player/shims/OzMaybeNativePromise","oz-player/utils/arrayBuffer2OzReadableStream","oz-player/utils/maybeConvertReadableStreamToOzReadableStream"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.body,e=a.ok,f=a.status,g=a.headers;return b!=null?c("oz-player/shims/OzMaybeNativePromise").resolve({ok:e,status:f,headers:d("oz-player/networks/OzHTTPHeaders").maybeConvertHeadersToOzHTTPHeaders(g),body:c("oz-player/utils/maybeConvertReadableStreamToOzReadableStream")(b),arrayBuffer:function(){return a.arrayBuffer()}}):a.arrayBuffer().then(function(a){return{ok:e,status:f,headers:d("oz-player/networks/OzHTTPHeaders").maybeConvertHeadersToOzHTTPHeaders(g),body:c("oz-player/utils/arrayBuffer2OzReadableStream")(a),arrayBuffer:function(){return c("oz-player/shims/OzMaybeNativePromise").resolve(a)}}})}g["default"]=a}),98);
__d("oz-player/networks/OzFetchRequestImplementation",["oz-player/networks/FetchWithTimeout","oz-player/utils/processFetchResponse"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f,g,h,i){f=d?d.networkTimeoutMs:null;g=c("oz-player/networks/FetchWithTimeout")(a,b.credentials,f);return g.then(function(a){var b=a.ok,d=a.status,f=a.headers;return e!=null&&!b&&typeof a.text==="function"?a.text().then(function(c){return{ok:b,status:d,headers:f,body:c,arrayBuffer:function(){return a.arrayBuffer()}}}):c("oz-player/utils/processFetchResponse")(a)})}b=a;d=b;g["default"]=d}),98);
__d("oz-player/networks/withRetries",["Promise","asyncToGeneratorRuntime","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,d,e){return new(h||(h=b("Promise")))(function(f,g){function h(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){try{f(yield a())}catch(a){if(b>0){var i=typeof e==="function"?e(d-b):e;c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){h(b-1)},i)}else g(a)}});return i.apply(this,arguments)}h(d)})}g["default"]=a}),98);
__d("oz-player/networks/OzFetchWithCache",["oz-player/networks/OzFetchRequestImplementation","oz-player/networks/withRetries","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzErrorUtils","oz-player/utils/arrayBuffer2OzReadableStream","oz-player/utils/processFetchResponse"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.config,e=a.url,f=a.http,g=a.overrideOzRequestImplementation,h=a.options,i=a.prefetchCache,j=a.mediaStreamType,k=a.onPerfEntryAvailable,l=a.dataAppendedCallback,m=a.dataAppendedErrorCallback,n=g!=null?function(){return g.apply(void 0,arguments)}:c("oz-player/networks/OzFetchRequestImplementation");a=i?i.getCacheValue(e):null;i=a;a=!1;if(i)a=!0,i=i.then(function(a){if(a.initiator==="FETCH"){var b=a.response,e=b.ok,f=b.status,g=b.headers;return!e&&typeof a.response.text==="function"?a.response.text().then(function(b){return{ok:!1,status:f,headers:g,body:b,arrayBuffer:function(){return a.response.arrayBuffer()}}}):c("oz-player/utils/processFetchResponse")(a.response)}else if(a.initiator==="XHR_REQUEST"){b=c("oz-player/utils/arrayBuffer2OzReadableStream")(a.response);return{body:b,status:200,headers:null,ok:!0,arrayBuffer:function(){return c("oz-player/shims/OzMaybeNativePromise").resolve(a.response)}}}else throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_UNEXPECTED_CACHE_INITIATOR",description:"Unable to handle request initiator: "+a.initiator})})["catch"](function(a){return n(e,f,null,null,j,k,l,m)});else{var o;o=(o=h==null?void 0:h.retryAttempts_SIDX_USE_ONLY)!=null?o:0;if(o>0){var p;p=(p=h==null?void 0:h.retryTimeoutMs_SIDX_USE_ONLY)!=null?p:100;i=c("oz-player/networks/withRetries")(function(){return n(e,f,h,b,j,k,l,m)},o,p)}else i=n(e,f,h,b,j,k,l,m)}return{promise:i,retrievedFromCache:a}}g["default"]=a}),98);
__d("oz-player/networks/OzNetworkRequestStream",["oz-player/networks/OzCreateErrorStream","oz-player/networks/OzFetchWithCache","oz-player/shims/ozvariant","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorUtils","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$8=!1;var b=a.debugName,c=a.config,d=a.baseUri,e=a.baseUriDecisionTime,f=a.options,g=a.requestParamCreator,h=a.networkRequestStreamHandlers,i=a.overrideOzRequestImplementation,j=a.prefetchCache,k=a.networkRequestStreamRetryHandler,l=a.dynamicVideoLibrary,m=a.mediaStreamType,n=a.dataAppendedCallback;a=a.dataAppendedErrorCallback;this.$1=b;this.$2=d;this.$3=f;this.$4=g;this.$10=(b=h)!=null?b:[];this.$11=k;this.$9=i;this.$12=j;this.$13=c;this.$14=l;this.$15=e;this.$16=m;this.$17=n;this.$18=a}var b=a.prototype;b.$19=function(a){var b=this;a=this.$4.createRequestParam(this.$2,a);var d=a.uri;a=a.http;d=d.toString();this.$5=d;a=c("oz-player/networks/OzFetchWithCache")({config:this.$13,url:d,http:a,overrideOzRequestImplementation:this.$9,options:this.$3,prefetchCache:this.$12,mediaStreamType:this.$16,onPerfEntryAvailable:function(a){b.$20(a)},dataAppendedCallback:this.$17,dataAppendedErrorCallback:this.$18});var e=a.promise;a=a.retrievedFromCache;this.$8=a;return{requestPromise:e,requestUrl:d}};b.startStream=function(a){var b=this,e=this.$19(a),f=e.requestPromise,g=e.requestUrl,h=g,i=Date.now();return f.then(function(e){var f;(f=b.$14)==null?void 0:f.updateWithResponse(g,i,b.$15,e);b.$7=e;if(b.$11!=null&&e.ok===!1)return b.$11(e,function(){var d=b.$19(a),c=d.requestPromise;d=d.requestUrl;h=d;return c},h)["catch"](function(a){throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR",description:String(a),extra:{originalError:a,code:c("oz-player/utils/OzCustomErrorCode").NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR,url:h}})});else return e}).then(function(a){var e=[];for(var f=0;f<b.$10.length;f++)try{var g=b.$10[f].onResponse(a,h);g&&e.push(g)}catch(a){g=a;return c("oz-player/networks/OzCreateErrorStream")(g)}g=a.body;f=a.headers;var i=a.ok;a=a.status;if(!i)return c("oz-player/networks/OzCreateErrorStream")(d("oz-player/utils/OzErrorUtils").createOzNetworkError({description:"OzNetworkRequestStream("+b.$1+") HTTP status not OK",responseStatus:a,responseHeaders:f,requestUrl:h,responseBody:typeof g==="string"?g:void 0}));typeof g!=="string"&&typeof g.getReader==="function"||c("oz-player/shims/ozvariant")(0,3287);i=g;for(a=0;a<e.length;a++)i=i.pipeThrough(e[a]);return i},function(a){var e=[];for(var f=0;f<b.$10.length;f++)try{var g=b.$10[f].onError(a,h);g&&e.push(g)}catch(a){g=a;return c("oz-player/networks/OzCreateErrorStream")(g)}if(a instanceof TypeError){g=c("oz-player/networks/OzCreateErrorStream")(d("oz-player/utils/OzErrorUtils").createOzNetworkError({description:"OzNetworkRequestStream("+b.$1+") TypeError: "+a.message,responseStatus:0,responseHeaders:null,requestUrl:h}));for(f=0;f<e.length;f++)g=g.pipeThrough(e[f]);return g}throw a})["catch"](function(a){if(d("oz-player/utils/OzErrorUtils").isOzError(a)&&a.getType()==="OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR")throw a;if(a.name==="AbortError"){var b=a.message;return c("oz-player/networks/OzCreateErrorStream")({type:a.name,status:a.code,url:h,message:b})}return c("oz-player/networks/OzCreateErrorStream")({type:"stream_processing",status:0,url:h,message:"Stream processing error. "+a})})};b.$20=function(a){this.$6=a};b.getLastPerformanceEntry=function(){if(this.$6!=null)return this.$6;return this.$5==null?null:d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(this.$5)};b.getLastRequestUrl=function(){return this.$5};b.getLastResponse=function(){return this.$7};b.retrievedFromCache=function(){return this.$8};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzByteRange",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.startByte===b.startByte}function b(a,b){return b.endByte===null?!1:a.startByte===b.endByte+1}function c(a,b){return a.startByte<b.startByte?!1:b.endByte==null||b.endByte>=a.startByte}function d(a,b){a=a;b=b;if(b.startByte<a.startByte){var c=a;a=b;b=c}if(a.endByte==null)return{startByte:a.startByte,endByte:null};if(b.startByte>a.endByte+1)return null;c=b.endByte==null||b.endByte>a.endByte?b.endByte:a.endByte;return{startByte:a.startByte,endByte:c}}function e(a,b){if(b.endByte==null)return null;if(a.startByte>b.endByte)return{startByte:a.startByte,endByte:a.endByte};return a.endByte!=null&&a.endByte<=b.endByte?null:{startByte:b.endByte+1,endByte:a.endByte}}function g(a){return a.endByte==null?null:a.endByte-a.startByte+1}f.startsAtSame=a;f.startsImmediateAfter=b;f.startsDuring=c;f.union=d;f.disjoinAfter=e;f.getLength=g}),66);
__d("oz-player/networks/OzProducerInterruptedError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("oz-player/networks/OzDeferredBuffer",["oz-player/networks/OzProducerInterruptedError","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a===void 0&&(a={});this.$2=[];this.$3=!1;this.$5=0;a=a;a=a.disableArrayShift;this.$1=!!a}var b=a.prototype;b.produce=function(a){this.$6(a)};b.signalProducerInterruption=function(){this.$6(new(c("oz-player/networks/OzProducerInterruptedError"))("producer interrupted"))};b.consume=function(a){var b=this;if(this.$3)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DEFERRED_BUFFER",description:"A buffer can only be consumed by one client at a time"});this.$3=!0;var e=c("oz-player/shims/OzMaybeNativePromise").resolve();this.isEmpty()&&(this.$4=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),e=this.$4.getPromise());return e.then(function(){if(b.$1){if(b.$2[b.$5]===void 0)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DEFERRED_BUFFER",description:"buffer has no value at position "+b.$5})}else if(b.$2.length===0)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DEFERRED_BUFFER",description:"buffer length must not be 0"});b.$4=null;b.$3=!1;var c=b.$1?b.$7(a):b.$8(a);if(c instanceof Uint8Array)return c;throw c})};b.$6=function(a){this.$2.push(a),this.$4&&this.$4.resolve()};b.$7=function(a){var b=this.$2[this.$5];if(b===void 0)return new Uint8Array([]);b=b;if(!(b instanceof Uint8Array)){this.$2[this.$5]=void 0;this.$5++;return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$2[this.$5]=c}else this.$2[this.$5]=void 0,this.$5++;return b};b.$8=function(a){if(this.$2.length===0)return new Uint8Array([]);var b=this.$2[0];if(!(b instanceof Uint8Array)){this.$2.shift();return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$2[0]=c}else this.$2.shift();return b};b.isEmpty=function(){return this.$1?this.$2[this.$5]===void 0:this.$2.length===0};return a}();g["default"]=a}),98);
__d("oz-player/utils/ozPipeErrorTo",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){try{a==null?void 0:a.error(b)}catch(a){}}f["default"]=a}),66);
__d("oz-player/networks/OzPausableRangeStream",["oz-player/manifests/OzByteRange","oz-player/networks/OzDeferredBuffer","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzErrorUtils","oz-player/utils/ozPipeErrorTo"],(function(a,b,c,d,e,f,g){"use strict";function h(){return d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAM",description:"Upstream has an inconsistent range"})}var i=function(){function a(){this.$1=0}var b=a.prototype;b.setBytesToSkip=function(a){this.$1=a};b.setBytesSkipped=function(a){this.$1-=a};b.getBytesToSkip=function(){return this.$1};b.hasMoreBytesToSkip=function(){return this.$1>0};return a}();a=function(){function a(b,d,e,f,g){var j=this;this.$5=!1;this.$7=0;this.$8=0;this.$13=!1;this.$14=new i();this.$15=!1;this.$16=!1;this.$17=!1;this.startStream=function(){j.$13=!0;var b={startByte:j.$1.startByte,endByte:j.$1.endByte};!j.$15?b.startByte+=j.$8:j.$8&&(j.$3.produce("skip_buffered_bytes"),j.$8=0);var d=j.$4;return j.$2.startStream(b).then(function(b){b.pipeTo(j.$16?d:j.$4).then(function(){j.$12&&j.$12.resolve("stream_done")})["catch"](function(b){j.$12&&!j.$12.isSettled()&&(j.$16&&b===a.STREAM_PAUSED?j.$12.resolve("stream_paused"):j.$12.reject(b))});j.$12=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));return{statusPromise:j.$12.getPromise()}})};this.$18=b;this.$19=d;this.$1=e;this.$2=f;b=g||{};d=b.fixStreamingUndefinedEndByte;e=b.disableDeferredBufferArrayShift;f=b.enablePausableStreamResumeFromStartDangerously;g=b.fixPausePreReadableStream;b=b.throwErrorWhenAborted;this.$11=!!d;this.$15=!!f;this.$16=!!g;this.$17=!!b;this.$3=new(c("oz-player/networks/OzDeferredBuffer"))({disableArrayShift:!!e});this.$6=new this.$18({start:function(a){j.$10=a},pull:function(a){if((j.$11&&j.$1.endByte===null&&j.$5||j.$7===j.$20())&&j.$3.isEmpty()){a.close();return c("oz-player/shims/OzMaybeNativePromise").resolve()}var b=function b(){var d=j.$14.hasMoreBytesToSkip()?j.$14.getBytesToSkip():void 0;return j.$3.consume(d).then(function(d){if(j.$14.hasMoreBytesToSkip()){j.$14.setBytesSkipped(d.length);return b()}j.$7+=d.length;var e=j.$20();e!==null&&j.$7>(e||0)&&c("oz-player/utils/ozPipeErrorTo")(j.$10,h());a.enqueue(d)})["catch"](function(a){if(a==="skip_buffered_bytes"){j.$14.setBytesToSkip(j.$7);return b()}throw a})};return b()},cancel:function(a){j.$12&&j.$12.resolve("stream_cancelled"),c("oz-player/utils/ozPipeErrorTo")(j.$9,a)}});this.$4=this.$21()}var b=a.prototype;b.$20=function(){var a=this.$1,b=a.startByte;a=a.endByte;return a!=null?a-b+1:null};b.$21=function(){var a=this;return new this.$19({start:function(b){a.$9=b},write:function(b){a.$3.produce(b),a.$8+=b.length},close:function(){a.$5=!0;var b=a.$1,d=b.endByte;b=b.startByte;a.$11&&d===null&&a.$3.produce(new Uint8Array([]));d!==null&&a.$8!==(d||0)-b+1&&c("oz-player/utils/ozPipeErrorTo")(a.$10,h())},abort:function(b){a.$12&&(a.$17?a.$12.reject(b):a.$12.resolve("stream_aborted")),c("oz-player/utils/ozPipeErrorTo")(a.$10,b)}})};b.getStream=function(){return this.$6};b.pauseStream=function(){c("oz-player/utils/ozPipeErrorTo")(this.$9,a.STREAM_PAUSED),this.$12&&this.$12.resolve("stream_paused"),this.$4=this.$21()};b.getByteRange=function(){return this.$1};b.getBytesStreamed=function(){return this.$7};b.tryConcatByteRange=function(a){if(this.$13||!d("oz-player/manifests/OzByteRange").startsImmediateAfter(a,this.$1))return!1;this.$1={startByte:this.$1.startByte,endByte:a.endByte};return!0};return a}();a.STREAM_PAUSED="streamPaused";g["default"]=a}),98);
__d("oz-player/networks/RequestParamCreator",["oz-player/shims/OzURI"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b){var d=this;this.createRequestParam=function(a,b){var e=new(c("oz-player/shims/OzURI"))(a.toString());if(b){a=b.startByte;var f=b.endByte;a===0&&f==null||(e.addQueryData({bytestart:b.startByte}),f!=null&&e.addQueryData({byteend:f}))}if(d.$2){var g=d.$2(e);g&&Object.keys(g).forEach(function(a){var b=g[a];e.addQueryData(a,b)})}a=d.$1&&d.$1(e)?"include":"same-origin";return{uri:e,http:{credentials:a}}};this.$1=a;this.$2=b};g["default"]=a}),98);
__d("oz-player/networks/getOzSegmentStreamableRange",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(!a.length)return null;var b=a[0].getURI().toString(),c=a[0].getByteRange();if(!c)return null;var d=c;for(var e=1;e<a.length;e++){var f=a[e];if(f.getURI().toString()!==b)return null;f=f.getByteRange();if(!d||!f)return null;if(d.endByte===null||f.startByte!==d.endByte+1)return null;d=f}return{startByte:c.startByte,endByte:d.endByte}}f["default"]=a}),66);
__d("oz-player/utils/OzNetworkRequestLoggingUtils",["oz-player/shims/OzNetworkDiagnostics","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return a?parseInt(a.get("content-length"),10):null},i=function(a){return a?a.get("x-fb-fna-hit"):null},j=function(a){return a?a.get("x-fb-edge-hit"):null},k=function(a){return a?a.get("x-fb-origin-hit"):null},l=function(a){return a?parseInt(a.get("x-fb-dynamic-latest-segment-id"),10):null},m=function(a,b){b=d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(b);b&&a.setTimeToFirstByte(Math.round(b.responseStart-b.startTime)).setTimeToLastByte(Math.round(b.responseEnd-b.startTime)).setTimeToRequestStart(Math.round(b.requestStart-b.startTime))};a=function(a,b,d,e,f,g){d.length&&a.setSegmentCount(d.length),b!=null&&b!==""&&m(a,String(b)),a.setResource(b!=null&&b!==""?b:null).setInitiator("fetch").setTimeToRequestSent(Math.round(Math.floor(e))).setLiveheadSeqNumHeader(l(g==null?void 0:g.headers)).setContentLengthHeader(h(g==null?void 0:g.headers)).setEdgeHitHeader(j(g==null?void 0:g.headers)).setOriginHitHeader(k(g==null?void 0:g.headers)).setFNAHitHeader(i(g==null?void 0:g.headers)).setResponseTimeMsHeader(c("oz-player/shims/OzNetworkDiagnostics").getResponseTimeMs(g==null?void 0:g.headers)).setUserInfo({segmentPTSHeader:String(c("oz-player/shims/OzNetworkDiagnostics").getDvlSegmentPTS(g==null?void 0:g.headers))}).setCode(g==null?void 0:g.status).setLength(f)};b=function(a,b,d,e,f,g,i){b!=null&&b!==""&&m(a,String(b)),a.setResource(b!=null&&b!==""?b:null).setLiveheadSeqNumHeader(l(e==null?void 0:e.headers)).setContentLengthHeader(h(e==null?void 0:e.headers)).setEdgeHitHeader(j(e==null?void 0:e.headers)).setOriginHitHeader(k(e==null?void 0:e.headers)).setResponseTimeMsHeader(c("oz-player/shims/OzNetworkDiagnostics").getResponseTimeMs(e==null?void 0:e.headers)).setCode(e==null?void 0:e.status).setLength(d).setClientTimeBegin(f).setClientTimeDuration(g-f).setClientTimeEnd(g).setUserInfo(i!=null&&i>0?{chunkSize:String(i)}:null)};g.setPerformanceLoggingAttributes=m;g.setFetchStreamLoggingAttributes=a;g.setBandwidthSampledLoggingAttributes=b}),98);
__d("oz-player/networks/OzNetworkManager",["oz-player/loggings/OzLoggingUtils","oz-player/networks/OzNetworkRequestStream","oz-player/networks/OzPausableRangeStream","oz-player/networks/RequestParamCreator","oz-player/networks/getOzSegmentStreamableRange","oz-player/shims/OzStreams","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$9=null;var b=a.config,d=a.prefetchCache,e=a.networkRequestStreamHandlers,f=a.getOverrideOzRequestImplementation,g=a.getShouldIncludeCredentials,h=a.getCustomRequestParametersForURI,i=a.networkRequestStreamRetryHandler,j=a.setCustomFetchStreamLoggingAttributes,k=a.dynamicVideoLibrary,l=a.configureCustomRequestParametersForSegment;a=a.onResourceTimingBufferFull;this.$2=b;this.$7=g;this.$8=h;this.$1=new(c("oz-player/networks/RequestParamCreator"))(this.$7,this.$8);this.$3=d;this.$4=e;this.$5=i;this.$6=f;this.$9=j;this.$10=k;this.$11=l;this.$12=a}var b=a.prototype;b.destroy=function(){};b.request=function(a){var b=a.debugName,d=a.segments,e=a.pipeThroughRangeStreamProviders,f=a.loggerProvider,g=a.requestOptions,h=a.mediaStreamType,i=a.dataAppendedCallback;a=a.dataAppendedErrorCallback;d.length>0||c("oz-player/shims/ozvariant")(0,212);var j=c("oz-player/networks/getOzSegmentStreamableRange")(d)||{startByte:0,endByte:null},k=this.$6?this.$6():null,l=this.$13(d[0]);b=new(c("oz-player/networks/OzNetworkRequestStream"))({debugName:b,config:this.$2,baseUri:l,baseUriDecisionTime:null,options:g,requestParamCreator:this.$1,networkRequestStreamHandlers:this.$4,overrideOzRequestImplementation:k,prefetchCache:this.$3,networkRequestStreamRetryHandler:this.$5,mediaStreamType:h,dataAppendedCallback:i,dataAppendedErrorCallback:a});return this.$14(j,b,e,f,d)};b.createPausableStream=function(a){var b=a.debugName,d=a.segments,e=a.pipeThroughRangeStreamProviders,f=a.loggerProvider,g=a.mediaStreamType,h=a.dataAppendedCallback;a=a.dataAppendedErrorCallback;d.length>0||c("oz-player/shims/ozvariant")(0,212);var i=c("oz-player/networks/getOzSegmentStreamableRange")(d)||{startByte:0,endByte:null},j=null,k=this.$2.getNumber("network_seg_timeout_ms");k>0&&(j={networkTimeoutMs:k});k=this.$6?this.$6():null;var l=new(c("oz-player/networks/OzNetworkRequestStream"))({debugName:b,config:this.$2,baseUri:this.$13(d[0]),baseUriDecisionTime:d[0].getOptions().getSegmentNumDecisionTime(),options:j,requestParamCreator:this.$1,networkRequestStreamHandlers:this.$4,overrideOzRequestImplementation:k,prefetchCache:this.$3,networkRequestStreamRetryHandler:this.$5,dynamicVideoLibrary:this.$10,mediaStreamType:g,dataAppendedCallback:h,dataAppendedErrorCallback:a});return{pausableStream:this.$15(i,l,e||null,f),loggingPayloads:{getRequestUrl:function(){return l.getLastRequestUrl()||null},segments:d,getResponse:function(){return l.getLastResponse()}}}};b.requestRawUrl=function(a){var b=a.debugName,d=a.url,e=a.options;a=a.loggerProvider;var f=this.$6?this.$6():null;b=new(c("oz-player/networks/OzNetworkRequestStream"))({debugName:b,config:this.$2,baseUri:new(c("oz-player/shims/OzURI"))(d),baseUriDecisionTime:null,options:e,requestParamCreator:this.$1,networkRequestStreamHandlers:this.$4,overrideOzRequestImplementation:f,prefetchCache:this.$3,networkRequestStreamRetryHandler:this.$5,dynamicVideoLibrary:this.$10,mediaStreamType:null,dataAppendedCallback:null,dataAppendedErrorCallback:null});d={startByte:0,endByte:null};return this.$14(d,b,[],a)};b.$15=function(a,b,e,f){b=b;if(e!=null)for(var g=0;g<e.length;g++){var h=e[g];b=h(this.$2,b,f,this.$12)}return new(c("oz-player/networks/OzPausableRangeStream"))(d("oz-player/shims/OzStreams").OzReadableStream,d("oz-player/shims/OzStreams").OzWritableStream,a,b,{fixStreamingUndefinedEndByte:!0,enablePausableStreamResumeFromStartDangerously:!0,fixPausePreReadableStream:!0,throwErrorWhenAborted:!0})};b.$14=function(a,b,c,e,f){var g=this;f===void 0&&(f=[]);var h=this.$15(a,b,c,e);a=h.startStream();var i=this.$16(a);if(e){c=function(a){d("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes(a,b.getLastRequestUrl(),f,0,h.getBytesStreamed(),b.getLastResponse());var c=g.$9;c&&c(a,b.getLastRequestUrl(),b.getLastResponse())};d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(i,e,"fetch_stream",c,c)}return{getStream:function(){return h.getStream()},cancel:function(){return h.pauseStream()},getStatusChangePromise:function(){return i}}};b.$16=function(a){return a.then(function(a){a=a.statusPromise;return a.then(function(a){return"done"})})};b.$13=function(a){var b=this.$11,d=new(c("oz-player/shims/OzURI"))(a.getURI().toString());if(b){var e=b(a);e&&Object.keys(e).forEach(function(a){var b=e[a];d.addQueryData(a,b)})}return d};a.getStreamableSegmentsRange=function(a){if(!a.length)return[];return!c("oz-player/networks/getOzSegmentStreamableRange")(a)?[a[0]]:a.slice(0)};return a}();g["default"]=a}),98);
__d("oz-player/manifests/Mpd",["oz-player/shims/OzEventEmitter","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i){var j;j=a.call(this)||this;j.$Mpd$p_9=!1;j.$Mpd$p_1=b;j.$Mpd$p_5=g;j.$Mpd$p_2=c;j.$Mpd$p_3=d;j.$Mpd$p_4=e;j.$Mpd$p_6=f;j.$Mpd$p_7=h;j.$Mpd$p_8=i;return j}var c=b.prototype;c.markRefreshed=function(){this.$Mpd$p_10=Date.now()};c.getRefreshDate=function(){return this.$Mpd$p_10};c.updateLocation=function(a){this.$Mpd$p_6=a,this.$Mpd$p_9=!0,this.emit("locationUpdated")};c.getLocation=function(){return this.$Mpd$p_6};c.getMinimumUpdatePeriod=function(){return this.$Mpd$p_5};c.getVideoRepresentations=function(){return this.$Mpd$p_2};c.getVideoRepresentationsByVariant=function(a){return this.$Mpd$p_2.filter(function(b){return b.getLang()===a.lang})};c.getAudioRepresentationsByVariant=function(a){return this.$Mpd$p_3.filter(function(b){return b.getLang()===a.lang})};c.getAudioRepresentations=function(){return this.$Mpd$p_3};c.getApplicationRepresentations=function(){return this.$Mpd$p_4};c.getCustomField=function(a){var b=this.$Mpd$p_7.get(a);if(!b)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_MPD_PARSER",description:"Custom parser not specified for field "+a});try{return b(this.$Mpd$p_1)}catch(a){return null}};c.isStaticMpd=function(){return this.$Mpd$p_8};c.updateWith=function(a){this.$Mpd$p_9&&(this.$Mpd$p_9=!1,this.$Mpd$p_2.splice(0,this.$Mpd$p_2.length),this.$Mpd$p_3.splice(0,this.$Mpd$p_3.length),this.$Mpd$p_4.splice(0,this.$Mpd$p_4.length)),this.$Mpd$p_1=a.$Mpd$p_1,this.$Mpd$p_11(this.$Mpd$p_2,a.getVideoRepresentations()),this.$Mpd$p_11(this.$Mpd$p_3,a.getAudioRepresentations()),this.$Mpd$p_11(this.$Mpd$p_4,a.getApplicationRepresentations()),this.$Mpd$p_8=a.isStaticMpd(),this.$Mpd$p_5=a.getMinimumUpdatePeriod(),this.emit("updated")};c.blockTimeRange=function(a){this.$Mpd$p_2.forEach(function(b){return b.blockTimeRange(a)}),this.$Mpd$p_3.forEach(function(b){return b.blockTimeRange(a)}),this.$Mpd$p_4.forEach(function(b){return b.blockTimeRange(a)})};c.unblockTimeRange=function(){this.blockTimeRange({startTime:0,endTime:0})};c.$Mpd$p_11=function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=!1;for(var f=0;f<a.length;f++){var g=a[f];if(d.getID()===g.getID()){g.updateWith(d);e=!0;break}}e||a.push(d)}};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/manifests/OzApplicationRepresentation",["oz-player/manifests/OzRepresentationBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("oz-player/manifests/OzRepresentationBase"));g["default"]=a}),98);
__d("oz-player/parsers/OzSegmentTemplateParser",["oz-player/manifests/OzSegmentOptions","oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b){this.$3=new(c("oz-player/manifests/OzSegmentOptions"))(),this.$2=a,this.$1=b}var b=a.prototype;b.getData=function(){return this.$1};b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return null};b.getURI=function(){return this.$2};b.getSequenceNumber=function(){return null};b.getOptions=function(){return this.$3};return a}();a=function(){function a(a,b,d,e,f){this.$2=d,this.$1=b,this.$3=a,e?this.$4=e:this.$4=new(c("oz-player/parsers/OzDefaultSegmentTimelineParser"))(),this.$5=f}var b=a.prototype;b.parseInitializationSegment=function(){var a=d("oz-player/utils/OzUrlHelper").joinUrlPaths(this.$2.baseUrl,this.$1.$.initialization);return new h(new(c("oz-player/shims/OzURI"))(a),this.$5)};b.parseSegmentsContainer=function(){return this.$4.parseSegmentsContainer(this.$3,this.$2,this.$1)};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzZeroTimeRangeSegment",["oz-player/manifests/OzSegmentOptions"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){this.$4=new(c("oz-player/manifests/OzSegmentOptions"))(),this.$1=a,this.$2=b,this.$3=d}var b=a.prototype;b.getData=function(){return null};b.getURI=function(){return this.$1};b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return{startByte:this.$2,endByte:this.$3}};b.getSequenceNumber=function(){return null};b.getOptions=function(){return this.$4};return a}();g["default"]=a}),98);
__d("oz-player/networks/OzNetworkRequestStreamBandwidthReporter",["oz-player/networks/OzTransformStream","oz-player/shims/OzNetworkDiagnostics","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(a,b,c,d,e,f,g){"use strict";b=function(){function b(b){var d=this;this.$8=Date.now();this.$9=Date.now();this.$10=0;this.$11=0;this.$12=function(){};this.$13=function(){};this.$14=function(){};this.$16=new(c("oz-player/networks/OzTransformStream"))();this.$19=!1;this.$20=!1;this.$21=null;this.$22=function(a){d.$25();a.length!=null&&(d.$11+=a.length);d.$26();if(d.$18)return;d.$27()};this.$23=function(){if(d.$21!=null&&d.$21>0)return;var b=Date.now()-d.$8,c=d.$1.getLastPerformanceEntry();c&&d.$13(c.responseStart-c.requestStart,c.responseEnd-c.requestStart,d.$11);!c&&a.__isresourcetimingbufferfull&&d.$15&&d.$15();d.$3>0&&b>0&&d.$10===0&&d.$11>=d.$3&&d.$28(d.$11,b)};var e=b.stream,f=b.loggerProvider,g=b.byteCountPerSample,h=b.minimumBytesToSampleOnClose,i=b.minimumSampleDuration,j=b.maximumSampleBandwidth,k=b.useResponseTimeMs,l=b.responseTimeHandicapMs,m=b.ignoreOnStreamWriteSamples;b=b.onResourceTimingBufferFull;this.$1=e;this.$17=f;this.$2=g;this.$3=h;this.$4=i;this.$5=j;this.$6=k;this.$7=l;this.$18=m;this.$16.addListener("writableWrite",this.$22);this.$16.addListener("writableClose",this.$23);this.$15=b}var e=b.prototype;e.getTransformStream=function(){return this.$16};e.onBandwidthSample=function(a){this.$12=a};e.onNavigationTimingSample=function(a){this.$13=a};e.onEstimateFromHeaders=function(a){this.$14=a};e.$24=function(a,b,c){b=b-c;c=this.$17?this.$17.getOperationLogger("bandwidth_sampled"):null;if(c){var e=Date.now(),f=e-b;d("oz-player/utils/OzNetworkRequestLoggingUtils").setBandwidthSampledLoggingAttributes(c,this.$1.getLastRequestUrl(),a,this.$1.getLastResponse(),f,e,this.$21);c.log()}this.$12(a,b)};e.$29=function(a,b,c){if(b-c<=0)return!0;c=a*8/(b/1e3);return b<this.$4&&c>this.$5};e.$28=function(a,b){var d=this.$1.getLastResponse();d=this.$6?c("oz-player/shims/OzNetworkDiagnostics").getResponseTimeMs(d==null?void 0:d.headers)||0:0;this.$29(a,b,d)||this.$24(a,b,Math.max(d-this.$7,0))};e.$25=function(){var a;a=(a=this.$1.getLastResponse())==null?void 0:a.headers;if(this.$20||a==null)return;this.$20=!0;a=c("oz-player/shims/OzNetworkDiagnostics").getBandwidthMeanEstimate(a);a!=null&&this.$14(a)};e.$26=function(){if(this.$19)return;if(this.$21==null){var a=this.$1.getLastResponse();this.$21=c("oz-player/shims/OzNetworkDiagnostics").getUsableResponseSizeForBandwidthEstimation(a==null?void 0:a.headers)||0}this.$21!=null&&this.$21>0&&this.$11>=this.$21&&(this.$19=!0,this.$28(this.$11,Date.now()-this.$9))};e.$27=function(){var a=Date.now(),b=a-this.$8;this.$2>0&&this.$11>=this.$10+this.$2&&!this.$29(this.$11,b,0)&&(this.$24(this.$11-this.$10,b,0),this.$8=a,this.$10=this.$11)};return b}();g["default"]=b}),98);
__d("oz-player/networks/bandwidth/pipeStreamThroughBandwidthEstimator",["oz-player/networks/OzNetworkRequestStreamBandwidthReporter"],(function(a,b,c,d,e,f,g){"use strict";var h=2e5;function a(a,b,d,e,f){return{startStream:function(g){var i=new(c("oz-player/networks/OzNetworkRequestStreamBandwidthReporter"))({stream:b,loggerProvider:d,byteCountPerSample:a.getNumber("byte_count_per_sample",h),minimumBytesToSampleOnClose:a.getNumber("minimum_bytes_to_sample_on_close",25e3),minimumSampleDuration:a.getNumber("minimum_bandwidth_sample_duration",10),maximumSampleBandwidth:a.getNumber("maximum_bandwidth_sample_bandwidth",1e8),useResponseTimeMs:a.getBool("bandwidth_use_response_time_adjustment",!1),responseTimeHandicapMs:a.getNumber("bandwidth_response_time_handicap",0),ignoreOnStreamWriteSamples:a.getBool("bandwidth_ignore_on_stream_write_samples",!1),onResourceTimingBufferFull:f});i.onBandwidthSample(function(a,b){e.addBandwidthSample(a,b)});i.onNavigationTimingSample(function(b,c,d){var f=a.getNumber("time_to_first_byte_ignore_above_threshold_ms",0);(f===0||b<=f)&&e.addNavigationTimingSample(b,c,d)});i.onEstimateFromHeaders(function(a){e.setBandwidthEstimateFromHeaders({meanEstimate:a})});return b.startStream(g).then(function(a){return b.retrievedFromCache()?a:a.pipeThrough(i.getTransformStream())})}}}g.pipeStreamThroughBandwidthEstimator=a}),98);
__d("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter",["oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzNetworkRequestStream","oz-player/networks/bandwidth/pipeStreamThroughBandwidthEstimator"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b,e,f,g){var h=a==="video";return e instanceof c("oz-player/networks/OzNetworkRequestStream")&&h?d("oz-player/networks/bandwidth/pipeStreamThroughBandwidthEstimator").pipeStreamThroughBandwidthEstimator(b.getLegacyConfig(),e,f,c("oz-player/networks/OzBandwidthEstimator"),g):e}}g["default"]=a}),98);
__d("oz-player/manifests/OzDataSegment",["oz-player/manifests/OzSegmentOptions"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f){this.$6=new(c("oz-player/manifests/OzSegmentOptions"))(),this.$1=a,this.$2=b,this.$3=d,this.$4=e,this.$5=f}var b=a.prototype;b.getData=function(){return null};b.getURI=function(){return this.$1};b.getTimeRange=function(){return{startTime:this.$2,endTime:this.$3}};b.getByteRange=function(){return{startByte:this.$4,endByte:this.$5}};b.getSequenceNumber=function(){return null};b.getOptions=function(){return this.$6};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/OzDataViewReaderWWW",["DataViewReader"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("DataViewReader")}),98);
__d("oz-player/shims/OzDataViewReader",["oz-player/shims/www/OzDataViewReaderWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzDataViewReaderWWW")}),98);
/**
 * License: https://www.facebook.com/legal/license/Vkd8AdLnKqZ/
 */
__d("oz-player/parsers/OzMp4SidxParser",["oz-player/manifests/OzDataSegment","oz-player/manifests/OzSegmentOptions","oz-player/shims/OzDataViewReader","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=1936286840;function a(a,b,e,f){var g=new(c("oz-player/shims/OzDataViewReader"))(new DataView(f.buffer));f=g.readUint32();var i=g.readUint32();if(i!==h)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SIDX_PARSER",description:'Invalid box type, expected "sidx".'});f==1&&(f=g.readUint64());i=g.readUint8();g.skip(3);g.skip(4);var j=g.readUint32();if(!j)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SIDX_PARSER",description:"Invalid timescale."});var k;i==0?(i=g.readUint32(),k=g.readUint32()):(i=g.readUint64(),k=g.readUint64());g.skip(2);var l=g.readUint16(),m=i,n=e+f+k,o=0,p=a.getBool("sidx_parser_memory_optimization"),q=[];i=function(a){var e=g.readUint32(),f=(e&2147483648)>>>31;e=e&2147483647;var h=g.readUint32();g.readUint32();if(f==1)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SIDX_PARSER",description:"Heirarchical SIDXs are not supported."});var i=m/j,k=(m+h)/j;a===0&&(o=i);var l=n,r=l+e-1,s=new(c("oz-player/manifests/OzSegmentOptions"))();q.push(p?new(c("oz-player/manifests/OzDataSegment"))(b,i-o,k-o,l,r):{getData:function(){return null},getURI:function(){return b},getTimeRange:function(){return{startTime:i-o,endTime:k-o}},getByteRange:function(){return{startByte:l,endByte:r}},getSequenceNumber:function(){return null},getOptions:function(){return s}});m+=h;n+=e};for(e=0;e<l;e++)i(e);return q}g.parse=a}),98);
__d("oz-player/parsers/OzSidxSegmentsContainer",["oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getSegmentByTime=function(a){var b=this.$1();for(var c=0;c<b.length;c++){var d=b[c],e=d.getTimeRange();if(e.startTime<=a&&e.endTime>a)return d}return null};b.getSegmentAfter=function(a){var b=this.$1(),c=b.findIndex(function(b){return b.getTimeRange().startTime===a.getTimeRange().startTime&&b.getTimeRange().endTime===a.getTimeRange().endTime});return c>=0&&c+1<b.length?b[c+1]:null};b.getPredictedSegmentAfter=function(a){return null};b.canPredict=function(){return!1};b.canApproximateId=function(){return!1};b.isEndingSegment=function(a){var b=this.$1();if(!b||!b.length)return!1;b=b[b.length-1].getTimeRange();a=a.getTimeRange();return b.startTime===a.startTime&&b.endTime===a.endTime};b.getSegment=function(a){return this.$1()[a]||null};b.updateWith=function(a){throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: updatedWith"})};b.addUpdateListener=function(a){return this.$2.addListener("segment_updated",a)};b.getTimeRanges=function(){var a=this.$1();if(a.length===0)return[];else{var b=a[0];a=a[a.length-1];return[{startTime:b.getTimeRange().startTime,endTime:a.getTimeRange().endTime}]}};b.blockTimeRange=function(){};b.getEndingSegment=function(){var a=this.$1();return a.length>0?a[a.length-1]:null};b.getMaxGopSec=function(){return null};return a}();g["default"]=a}),98);
/**
 * License: https://www.facebook.com/legal/license/Vkd8AdLnKqZ/
 */
__d("oz-player/parsers/OzWebmSidxParser",["oz-player/manifests/OzDataSegment","oz-player/shims/OzDataViewReader","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";var h=440786851,i=408125543,j=357149030,k=2807729,l=17545,m=475249515,n=187,o=179,p=183,q=241,r=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])];function s(a,b){if(!a&&!b)return!0;if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!=b[c])return!1;return!0}var t=function(){function a(a,b){this.id=a,this.$1=b}var b=a.prototype;b.getOffset=function(){return this.$1.byteOffset};b.createParser=function(){return new u(this.$1)};b.getUint=function(){if(this.$1.byteLength>8)throw new RangeError("EbmlElement: Unsigned integer has too many bytes.");if(this.$1.byteLength==8&&this.$1.getUint8(0)&224)throw new RangeError("EbmlParser: Unsigned integer must be at most 53 bits.");var a=0;for(var b=0;b<this.$1.byteLength;b++){var c=this.$1.getUint8(b);a=256*a+c}return a};b.getFloat=function(){if(this.$1.byteLength==4)return this.$1.getFloat32(0);else if(this.$1.byteLength==8)return this.$1.getFloat64(0);else throw new RangeError("EbmlElement: floating point numbers must be 4 or 8 bytes.")};return a}(),u=function(){function a(a){this.$1=a,this.$2=new(c("oz-player/shims/OzDataViewReader"))(this.$1)}var b=a.prototype;b.hasMoreData=function(){return this.$2.hasMoreData()};b.parseElement=function(){var b=this.$3(),c=this.$4(),d;a.$5(c)?d=this.$1.byteLength-this.$2.getCursor():d=a.$6(c);c=this.$2.getCursor()+d<=this.$1.byteLength?d:this.$1.byteLength-this.$2.getCursor();d=new DataView(this.$1.buffer,this.$1.byteOffset+this.$2.getCursor(),c);this.$2.skip(c);return new t(b,d)};b.$3=function(){var a=this.$4();if(a.length>7)throw new RangeError("EbmlParser: EBML ID must be at most 7 bytes.");var b=0;for(var c=0;c<a.length;c++)b=256*b+a[c];return b};b.$4=function(){var a=this.$2.readUint8(),b;for(b=1;b<=8;b++){var c=1<<8-b;if(a&c)break}if(b>8)throw new RangeError("EbmlParser: Variable sized integer must fit within 8 bytes.");c=new Uint8Array(b);c[0]=a;for(a=1;a<b;a++)c[a]=this.$2.readUint8();return c};a.$6=function(a){if(a.length==8&&a[1]&224)throw new RangeError("EbmlParser: Variable sized integer value must be at most 53 bits.");var b=1<<8-a.length;b=a[0]&b-1;for(var c=1;c<a.length;c++)b=256*b+a[c];return b};a.$5=function(a){for(var b=0;b<r.length;b++)if(s(a,r[b]))return!0;return!1};return a}();function v(a){a=a.createParser();var b=1e6,c=null;while(a.hasMoreData()){var d=a.parseElement();d.id==k?b=d.getUint():d.id==l&&(c=d.getFloat())}if(c==null)return null;d=b/1e9;a=c*d;return{timecodeScale:d,duration:a}}function w(a,b,d,e,f,g){a=[];b=b.createParser();var h=-1,i=-1;while(b.hasMoreData()){var j=b.parseElement();if(j.id!=n)continue;j=x(j);if(!j)continue;var k=e*j.unscaledTime;j=d+j.relativeOffset;h>=0&&(i>=0||c("oz-player/shims/ozvariant")(0,4010),a.push(new(c("oz-player/manifests/OzDataSegment"))(g,h,k,i,j-1)));h=k;i=j}if(h>=0){i>=0||c("oz-player/shims/ozvariant")(0,4010);k=f;a.push(new(c("oz-player/manifests/OzDataSegment"))(g,h,k,i,null))}return a}function x(a){a=a.createParser();var b=a.parseElement();if(b.id!=o)return null;b=b.getUint();a=a.parseElement();if(a.id!=p)return null;a=a.createParser();var c=0;while(a.hasMoreData()){var d=a.parseElement();if(d.id!=q)continue;c=d.getUint();break}return{unscaledTime:b,relativeOffset:c}}function y(a){a=a.createParser();var b=null;while(a.hasMoreData()){var c=a.parseElement();if(c.id!=j)continue;b=c;break}return!b?null:v(b)}function z(a){a=new u(a);var b=a.parseElement();if(b.id!=h)return null;b=a.parseElement();if(b.id!=i)return null;a=b.getOffset();b=y(b);return!b?null:{segmentOffset:a,timecodeScale:b.timecodeScale,duration:b.duration}}function a(a,b,c,d){d=new DataView(d.buffer);c=new DataView(c.buffer);d=z(d);if(!d)return[];c=new u(c);c=c.parseElement();return c.id!=m?[]:w(a,c,d.segmentOffset,d.timecodeScale,d.duration,b)}g.parse=a}),98);
__d("oz-player/parsers/OzSidxSegmentsParser",["oz-player/loggings/OzLoggingUtils","oz-player/manifests/OzSegmentOptions","oz-player/manifests/OzZeroTimeRangeSegment","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/parsers/OzMp4SidxParser","oz-player/parsers/OzSidxSegmentsContainer","oz-player/parsers/OzWebmSidxParser","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzURI","oz-player/utils/OzErrorEmitter","oz-player/utils/OzReadableStreamUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.split("-");return{startByte:Number.parseInt(a[0],10),endByte:Number.parseInt(a[1],10)}}a=function(){function a(a,b,d,e,f,g,h){this.$6=new(c("oz-player/utils/OzErrorEmitter"))(),this.$7=[],this.$9=new(c("oz-player/shims/OzEventEmitter"))(),this.$1=b,this.$2=new(c("oz-player/shims/OzURI"))(d),this.$3=e,this.$5=f,this.$4=g,this.$8=h.cloneContext().setType(f==="video"||f==="audio"?f+";sidx":"sidx"),this.$10=a}var b=a.prototype;b.onError=function(a){return this.$6.onError(a)};b.parseInitializationSegment=function(){var a=this,b=this.$1.Initialization[0].$.range,d=h(b),e=new(c("oz-player/manifests/OzSegmentOptions"))();return this.$10.getBool("sidx_parser_memory_optimization")?new(c("oz-player/manifests/OzZeroTimeRangeSegment"))(this.$2,d.startByte,d.endByte):{getData:function(){return null},getURI:function(){return a.$2},getTimeRange:function(){return{startTime:0,endTime:0}},getByteRange:function(){return d},getSequenceNumber:function(){return null},getOptions:function(){return e}}};b.parseSegmentsContainer=function(){var a=this,b=this.$11();d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b,this.$8,"process_sidx");b["catch"](function(b){a.$6.emitError(b)});return new(c("oz-player/parsers/OzSidxSegmentsContainer"))(function(){return a.$7},this.$9)};b.$12=function(a,b,e){a=new(c("oz-player/manifests/OzZeroTimeRangeSegment"))(a,b.startByte,b.endByte);b=this.$5+";sidx";a=this.$4.request({debugName:"OzSidxSegmentsParser/sidx/"+this.$5,segments:[a],pipeThroughRangeStreamProviders:[c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(b)],loggerProvider:this.$8,requestOptions:{networkTimeoutMs:null,retryAttempts_SIDX_USE_ONLY:this.$10.getNumber("sidx_segment_retry_attempts"),retryTimeoutMs_SIDX_USE_ONLY:this.$10.getNumber("sidx_segment_retry_interval_ms")},mediaStreamType:e});b=a.getStream().getReader();return d("oz-player/utils/OzReadableStreamUtils").pumpAllData(b)};b.$11=function(){var a=this,b=this.$1.$.indexRange,e=h(b);b=[this.$12(this.$2,e,null)];if(this.$3==="webm"){var f=h(this.$1.Initialization[0].$.range);b.push(this.$12(this.$2,f,null));f=c("oz-player/shims/OzMaybeNativePromise").all(b).then(function(b){var c=b[0];b=b[1];a.$7=d("oz-player/parsers/OzWebmSidxParser").parse(a.$10,a.$2,c,b)})}else f=b[0].then(function(b){a.$7=d("oz-player/parsers/OzMp4SidxParser").parse(a.$10,a.$2,e.startByte,b)});return f.then(function(){a.$9.emit("segment_updated")})};return a}();g["default"]=a}),98);
__d("oz-player/parsers/OzVideoContainerType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return(a.split("/")[1]||"").trim()}f.parse=a}),66);
__d("oz-player/parsers/OzRepresentationParserBase",["oz-player/manifests/OzRepresentationBase","oz-player/parsers/OzSegmentTemplateParser","oz-player/parsers/OzSidxSegmentsParser","oz-player/parsers/OzVideoContainerType","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f,g,h,i,j,k,l,m,n,o){this.$8=new(c("oz-player/utils/OzErrorEmitter"))();this.$1=b;this.$2=d;this.$9=f;this.$10=g;this.$12=e;this.$13=a;this.$14=h;this.$3=i;this.$4=j;this.$5=k;this.$6=(b=l)!=null?b:null;this.$7=m;this.$15=n;this.$16=o;try{this.$10=this.$10.cloneContext().setRepresentationID(this.parseID())}catch(a){}}var b=a.prototype;b.$17=function(){var a=this,b=this.$11;if(b)return b;if(this.$1.SegmentBase){var e=this.$1.SegmentBase[0],f=this.$1.BaseURL[0]._;if(typeof f!=="string")throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_REPRESENTATION_PARSER",description:"Missing representation BaseURL",extra:{code:"OZ_RP-9"}});b=new(c("oz-player/parsers/OzSidxSegmentsParser"))(this.$13,e,f,d("oz-player/parsers/OzVideoContainerType").parse(this.$1.$.mimeType),d("oz-player/utils/OzMimeUtil").getMimeType(this.$1.$.mimeType),this.$9,this.$10);b.onError(function(b){var c;if((c=a.$16)==null?void 0:c.handleError(a.parseID(),b))return;return a.$8.emitError(b)})}else if(this.$1.SegmentTemplate)b=this.$18(this.$1.SegmentTemplate[0],{isShared:!1});else if(this.$3)b=this.$18(this.$3[0],{isShared:!0});else throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_REPRESENTATION_PARSER",description:"Unrecognized representation type",extra:{code:"OZ_RP-7"}});this.$11=b;return b};b.$18=function(a,b){var e;a=a;b.isShared&&(a=babelHelpers["extends"]({},a,{$:babelHelpers["extends"]({},a.$,{initialization:a.$.initialization.replace("$RepresentationID$",this.$1.$.id),media:a.$.media.replace("$RepresentationID$",this.$1.$.id)})}));b=this.$12.mpdUrl;var f=this.$1.BaseURL&&this.$1.BaseURL[0]?this.$1.BaseURL[0]._:null;f=f!=null?f:b;if(f==null)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_REPRESENTATION_PARSER",description:"Missing mpd url for template manifest",extra:{code:"OZ_RP-6"}});var g=this.$12.customSegmentTimelineParser;e=(e=this.$12.customRepresentationParsers)==null?void 0:e.initializationBinary;e=e?e(this.$1):null;return new(c("oz-player/parsers/OzSegmentTemplateParser"))(this.$13,a,{baseUrl:f,mpdUrl:b,isStaticMpd:this.$14.manifestType==="static",isTemplatedMpd:this.$14.manifestIsTemplated},g,e)};b.onError=function(a){return this.$8.onError(a)};b.parseInitSegment=function(){return this.$17().parseInitializationSegment()};b.parseBandwidth=function(){return Number(this.$1.$.bandwidth)};b.parseMimeType=function(){var a;return(a=(a=this.$1.$.mimeType)!=null?a:this.$4)!=null?a:""};b.parseCodecs=function(){var a;return(a=(a=this.$1.$.codecs)!=null?a:this.$5)!=null?a:""};b.parseLang=function(){return this.$6};b.parseRole=function(){return this.$7};b.parseSegmentsContainer=function(){return this.$17().parseSegmentsContainer()};b.parseID=function(){return""+this.$1.$.id};b.parseCustomFieldFirstSegment=function(){var a=this.$12.customRepresentationParsers?this.$12.customRepresentationParsers.firstSegmentParser:null;return a?a(this.$1):null};b.parse=function(){return new(c("oz-player/manifests/OzRepresentationBase"))(this.$1,this.$2,this.parseID(),this.parseMimeType(),this.parseCodecs(),this.parseLang(),this.parseRole(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),this.$12.customRepresentationParsers)};return a}();g["default"]=a}),98);
__d("oz-player/parsers/OzApplicationRepresentationParser",["oz-player/manifests/OzApplicationRepresentation","oz-player/parsers/OzRepresentationParserBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k,l,m,n){b=a.call(this,b,c,d,e,f,g,h,i,j,k,l,m,n)||this;b.$OzApplicationRepresentationParser$p_1=c;b.$OzApplicationRepresentationParser$p_3=e;return b}var d=b.prototype;d.parse=function(){var a=this.$OzApplicationRepresentationParser$p_3.customRepresentationParsers;return new(c("oz-player/manifests/OzApplicationRepresentation"))(this.$OzApplicationRepresentationParser$p_1,this.$OzApplicationRepresentationParser$p_2,this.parseID(),this.parseMimeType(),this.parseCodecs(),this.parseLang(),this.parseRole(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),a)};return b}(c("oz-player/parsers/OzRepresentationParserBase"));g["default"]=a}),98);
__d("oz-player/manifests/OzAudioRepresentation",["oz-player/manifests/OzRepresentationBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k,l,m){b=a.call(this,b,c,d,e,f,g,h,i,j,k,l,m)||this;b.$OzAudioRepresentation$p_1=d;b.$OzAudioRepresentation$p_2=k;b.$OzAudioRepresentation$p_3={id:d,displayLabel:b.getDisplayLabel(),lang:g,role:h};return b}var c=b.prototype;c.getBitrateKbps=function(){var a=1024;return(this.$OzAudioRepresentation$p_2/a).toFixed(1)+"Kbps"};c.getDisplayLabel=function(){var b=a.prototype.getLang.call(this),c=a.prototype.getRole.call(this);b=b==null?"Default":b;return c==null?b:b+" - "+c};c.getAudioTrack=function(){return this.$OzAudioRepresentation$p_3};return b}(c("oz-player/manifests/OzRepresentationBase"));g["default"]=a}),98);
__d("oz-player/parsers/OzAudioRepresentationParser",["oz-player/manifests/OzAudioRepresentation","oz-player/parsers/OzRepresentationParserBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k,l,m,n){b=a.call(this,b,c,d,e,f,g,h,i,j,k,l,m,n)||this;b.$OzAudioRepresentationParser$p_1=c;b.$OzAudioRepresentationParser$p_3=e;return b}var d=b.prototype;d.parse=function(){var a=this.$OzAudioRepresentationParser$p_3.customRepresentationParsers;return new(c("oz-player/manifests/OzAudioRepresentation"))(this.$OzAudioRepresentationParser$p_1,this.$OzAudioRepresentationParser$p_2,this.parseID(),this.parseMimeType(),this.parseCodecs(),this.parseLang(),this.parseRole(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),a)};return b}(c("oz-player/parsers/OzRepresentationParserBase"));g["default"]=a}),98);
__d("oz-player/parsers/OzVideoRepresentationParser",["oz-player/manifests/OzVideoRepresentation","oz-player/parsers/OzRepresentationParserBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k,l,m,n,o){b=a.call(this,b,c,d,e,f,g,h,i,j,k,l,m,n,o)||this;b.$OzVideoRepresentationParser$p_1=c;b.$OzVideoRepresentationParser$p_2=d;b.$OzVideoRepresentationParser$p_3=e;return b}var d=b.prototype;d.parse=function(){var a=Number.parseInt(this.$OzVideoRepresentationParser$p_1.$.height,10),b=Number.parseInt(this.$OzVideoRepresentationParser$p_1.$.width,10),d=this.$OzVideoRepresentationParser$p_3.customRepresentationParsers;return new(c("oz-player/manifests/OzVideoRepresentation"))(this.$OzVideoRepresentationParser$p_1,this.$OzVideoRepresentationParser$p_2,this.parseID(),this.parseMimeType(),this.parseCodecs(),this.parseLang(),this.parseRole(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),d,b,a)};return b}(c("oz-player/parsers/OzRepresentationParserBase"));g["default"]=a}),98);
__d("oz-player/utils/OzIbrUtils",["oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,d){var e=c("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(b.getLegacyConfig());a=a.slice(0);a.sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});b=b.getNumber("live_audio_ibr_bandwidth_percentage");b=e*b;for(var f=a.length-1;f>=0;f--)if(a[f].getBandwidth()<=b){d.getOperationLogger("audio_ibr_success").setRepresentationID(a[f].getID()).setReason(e.toString()).log();return a[f]}d.getOperationLogger("audio_ibr_no_op").setReason(e.toString()).log();return null};g.getInitialAudioRepresentation=a}),98);
__d("oz-player/parsers/OzMpdParser",["oz-player/manifests/Mpd","oz-player/parsers/OzApplicationRepresentationParser","oz-player/parsers/OzAudioRepresentationParser","oz-player/parsers/OzVideoRepresentationParser","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzIbrUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.blockedRepresentationsManager,d=a.config,e=a.drmManager,f=a.enableAlternativeAudioTracks,g=a.initialRepresentationIDs,h=a.networkManager,i=a.ozParserContext;a=a.perfLoggerProvider;this.$2=new(c("oz-player/utils/OzErrorEmitter"))();this.$5=d;this.$1=h;this.$3=a;this.$4=i;this.$6=e;this.$7=(d=g)!=null?d:[];this.$8=(h=b)!=null?h:null;this.$9=f;this.$10=!0}var b=a.prototype;b.onError=function(a){return this.$2.onError(a)};b.parse=function(a){var b=this,e=[];a=a;var f=this.$4.createXmlParser().parse(a);f=f.MPD&&f.MPD.length>0?f.MPD[0]:null;if(!f){var g=2e3;throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_MPD_PARSER",description:"parsed manifest XML missing MPD node; truncated xml ("+Math.min(g,a.length)+"/"+a.length+"): "+a.substring(0,g)})}g=f.Period&&f.Period.length>0?f.Period[0]:null;if(!g){var h=2e3;throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_MPD_PARSER",description:"parsed manifest XML missing Period node; truncated xml ("+Math.min(h,a.length)+"/"+a.length+"): "+a.substring(0,h)})}a=g.AdaptationSet||[];h=this.$11(f);this.$10=h==="static";g=this.$12(f);var i=this.$13(this.$14(a,"video"),{manifestType:h,manifestIsTemplated:g},e).sort(function(a,b){return a.getHeight()-b.getHeight()}),j;this.$9?j=this.$15(this.$14(a,"audio"),{manifestType:h,manifestIsTemplated:g},e).sort(function(a,b){return a.getBandwidth()-b.getBandwidth()}):j=this.$16(this.$17(a,"audio"),c("oz-player/parsers/OzAudioRepresentationParser"),{manifestType:h,manifestIsTemplated:g}).sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});var k=[];if(this.$5.getBool("vtt_caption_representation")){a=this.$14(a,"application");k=this.$16(a[0],c("oz-player/parsers/OzApplicationRepresentationParser"),{manifestType:h,manifestIsTemplated:g})}a=this.$4.mpdUrl;h=new(c("oz-player/manifests/Mpd"))(f,i,j,k,a,this.$18(f),this.$4.customParsers||new Map(),this.$10);if(this.$6){g=this.$6;g.startEME(i,j)}e.forEach(function(a){a.onError(b.$2.emitError)});return h};b.$18=function(a){a=a.$.minimumUpdatePeriod||"";a=/\d+/g.exec(a);if(a&&a.length){a=a[0];return a?Number.parseInt(a,10):null}return null};b.$11=function(a){return a.$.type||"static"};b.$12=function(a){var b;b=(b=this.$4.customParsers)==null?void 0:b.get("isLiveTemplated");if(!b)return!1;b=b(a);return typeof b==="boolean"&&b};b.$17=function(a,b){return a.find(this.$19(b))};b.$14=function(a,b){return a.filter(this.$19(b))};b.$19=function(a){return function(b){if(b.$.mimeType!=null)return b.$.mimeType.indexOf(a)!==-1;b=b.Representation;return b&&b.length>0&&b[0].$.mimeType.indexOf(a)!==-1}};b.$16=function(a,b,c){var d=this;if(!a)return[];var e=a.Role;e=(e=e)!=null?e:[];e=e[0];var f=e?e.$.value:null;return a.Representation.map(function(e){e=new b(d.$5,e,(e=e.ContentProtection)!=null?e:a.ContentProtection,d.$4,d.$1,d.$3,c,a.SegmentTemplate,a.$.mimeType,a.$.codecs,a.$.lang,f,d.$7,d.$8);return e.parse()})};b.$13=function(a,b,d){var e=this,f=this.$5.getBool("mcm_in_play_codec_switch"),g=[],h=new Set(),i=0;a.filter(Boolean).forEach(function(a,j,k){j=j===k.length-1;k=i;for(var l=a.Representation,m=Array.isArray(l),n=0,l=m?l:l[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var o,p;if(m){if(n>=l.length)break;p=l[n++]}else{n=l.next();if(n.done)break;p=n.value}p=p;var q=parseInt(p.$.height,10);if(!f&&q<=i)continue;if(((o=p.$.FBAbrPolicyTags)==null?void 0:o.includes("avoid_on_abr"))&&!j)continue;o=a.Role;o=(o=o)!=null?o:[];o=o[0];o=o?o.$.value:null;p=new(c("oz-player/parsers/OzVideoRepresentationParser"))(e.$5,p,(p=p.ContentProtection)!=null?p:a.ContentProtection,e.$4,e.$1,e.$3,b,a.SegmentTemplate,a.$.mimeType,a.$.codecs,a.$.lang,o,e.$7,e.$8);o=p.parse();d.push(p);if(!MediaSource.isTypeSupported(o.getMimeCodecs())){h.add(o.getMimeCodecs());continue}g.push(o);k=Math.max(q,k)}i=k});return g.filter(Boolean)};b.$15=function(a,b,e){var f=this,g=[],h=new Set();a=a.filter(Boolean).map(function(a){var d=a.Role;d=(d=d)!=null?d:[];d=d[0];d=d?d.$.value:null;var g=[];for(var i=a.Representation,j=Array.isArray(i),k=0,i=j?i:i[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(j){if(k>=i.length)break;l=i[k++]}else{k=i.next();if(k.done)break;l=k.value}l=l;l=new(c("oz-player/parsers/OzAudioRepresentationParser"))(f.$5,l,(l=l.ContentProtection)!=null?l:a.ContentProtection,f.$4,f.$1,f.$3,b,a.SegmentTemplate,a.$.mimeType,a.$.codecs,a.$.lang,d,f.$7);var m=l.parse();e.push(l);if(!MediaSource.isTypeSupported(m.getMimeCodecs())){h.add(m.getMimeCodecs());continue}g.push(m)}return g});a.forEach(function(a){if(a.length>1){var b=d("oz-player/utils/OzIbrUtils").getInitialAudioRepresentation(a,f.$5,f.$3);g.push((b=b)!=null?b:a[0])}else g.push.apply(g,a)});return g.filter(Boolean)};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzMpdUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=null;a.forEach(function(a){if(a){var c=a.endTime;c<((c=(c=b)==null?void 0:c.endTime)!=null?c:Infinity)&&(b=a)}});return b}function a(a,b){b=[];b.push.apply(b,a.getVideoRepresentations().concat(a.getAudioRepresentations()));if(b.length){a=b.map(function(a){a=a.getEndingSegment();return a?a.getTimeRange():null});return g(a)}return null}function b(a){var b=[];b.push.apply(b,a.getVideoRepresentations().concat(a.getAudioRepresentations()));if(b.length){a=b[0].getEndingSegment();if(a)return a.getSequenceNumber()}return null}f.getLeastEndTimeTimeRange=g;f.getMpdLastTimeRange=a;f.getMpdLastSequenceNumber=b}),66);
__d("oz-player/utils/OzStreamInterruptChecker",["oz-player/shims/OzEventEmitter","oz-player/utils/OzMpdUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.$OzStreamInterruptChecker$p_4=0;d.$OzStreamInterruptChecker$p_5=null;d.$OzStreamInterruptChecker$p_6=!1;d.$OzStreamInterruptChecker$p_2=b;d.$OzStreamInterruptChecker$p_3=c;d.$OzStreamInterruptChecker$p_1=d.$OzStreamInterruptChecker$p_3.getNumber("live_numerical_error_epsilon");return d}var c=b.prototype;c.notifyMpdUpdated=function(){var a=d("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(this.$OzStreamInterruptChecker$p_2,this.$OzStreamInterruptChecker$p_3),b=a?a.endTime:null,c=!1;b!==null&&(c=b===this.$OzStreamInterruptChecker$p_5);c?this.$OzStreamInterruptChecker$p_4++:(this.$OzStreamInterruptChecker$p_4=0,this.$OzStreamInterruptChecker$p_6&&this.$OzStreamInterruptChecker$p_5!==null&&this.$OzStreamInterruptChecker$p_5!==void 0&&a!==null&&a!==void 0&&this.emit("streamResumedAt",a.startTime),this.$OzStreamInterruptChecker$p_6=!1);c=this.$OzStreamInterruptChecker$p_3.getNumber("stream_interrupt_check_mpd_stale_count_threshold");!this.$OzStreamInterruptChecker$p_6&&c>0&&this.$OzStreamInterruptChecker$p_4>=c&&b!==null&&b!==void 0&&(this.emit("streamInterruptAt",b),this.$OzStreamInterruptChecker$p_6=!0);this.$OzStreamInterruptChecker$p_5=b};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/parsers/OzMpdUpdater",["oz-player/parsers/OzMpdParser","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/OzURI","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMpdUtils","oz-player/utils/OzReadableStreamUtils","oz-player/utils/OzStreamInterruptChecker"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f,g,h,i,j,k){var l;l=a.call(this)||this;l.$OzMpdUpdater$p_8=new(c("oz-player/utils/OzErrorEmitter"))();l.$OzMpdUpdater$p_10=new(c("oz-player/shims/OzSubscriptionsHandler"))();l.$OzMpdUpdater$p_11=!1;l.$OzMpdUpdater$p_16=0;l.$OzMpdUpdater$p_18=0;l.$OzMpdUpdater$p_19=null;l.$OzMpdUpdater$p_21=!0;l.$OzMpdUpdater$p_22=0;l.$OzMpdUpdater$p_25=function(){var a,b=l.$OzMpdUpdater$p_2.getLocation();l.$OzMpdUpdater$p_21=!1;if(b==null||b==="")return;var e=new(c("oz-player/shims/OzURI"))(b),f=String((a=(a=e.getQueryData().ms)!=null?a:e.getQueryData().msdev)!=null?a:e.getQueryData().mstest);if(!l.$OzMpdUpdater$p_12.isPlaying()){l.setupUpdateLoop();return}var g=l.$OzMpdUpdater$p_5.getOperationLogger("update_manifest").start();l.$OzMpdUpdater$p_27(b).then(function(a){var e;l.$OzMpdUpdater$p_18=0;l.$OzMpdUpdater$p_28();l.$OzMpdUpdater$p_7=0;if(l.$OzMpdUpdater$p_21)return;var h=babelHelpers["extends"]({},l.$OzMpdUpdater$p_13,{mpdUrl:b});h=new(c("oz-player/parsers/OzMpdParser"))({config:l.$OzMpdUpdater$p_6,ozParserContext:h,networkManager:l.$OzMpdUpdater$p_1,perfLoggerProvider:l.$OzMpdUpdater$p_5,drmManager:l.$OzMpdUpdater$p_14,initialRepresentationIDs:[],blockedRepresentationsManager:null,enableAlternativeAudioTracks:!1});h.onError(function(a){l.$OzMpdUpdater$p_8.emitError(a),g.setError(a).log()});h=h.parse(a);a=l.$OzMpdUpdater$p_2.isStaticMpd();l.$OzMpdUpdater$p_2.updateWith(h);l.$OzMpdUpdater$p_2.markRefreshed();h.isStaticMpd()&&!a&&l.emit("streamTransitionToStatic");h=d("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(l.$OzMpdUpdater$p_2,l.$OzMpdUpdater$p_6);a=h&&h.endTime!=0?h.endTime:null;h=String((h=(h=l.$OzMpdUpdater$p_2)==null?void 0:h.getCustomField("currentServerTimeMs"))!=null?h:"");e=String((e=(e=l.$OzMpdUpdater$p_2)==null?void 0:e.getCustomField("lastVideoFrameTs"))!=null?e:"");h={currentServerTimeMs:h,ingestLastVideoFrameTs:e,nowMs:String(Date.now())};g.setLiveheadPosition(a).setLiveheadSeqNumMpd(d("oz-player/utils/OzMpdUtils").getMpdLastSequenceNumber(l.$OzMpdUpdater$p_2)).setManifestType(l.$OzMpdUpdater$p_2.isStaticMpd()?"static":"dynamic").setIsTemplatedManifest(Boolean(l.$OzMpdUpdater$p_2.getCustomField("isLiveTemplated"))).setPlaybackFbmsParam(f).setUserInfo(h).log();l.$OzMpdUpdater$p_9.notifyMpdUpdated();l.setupUpdateLoop()})["catch"](function(a){l.$OzMpdUpdater$p_28();g.setError(a).log();var c=null;if(d("oz-player/utils/OzErrorUtils").isOzError(a))c=a;else{var e,f=null,h="Caught an unknown error when fetching the manifest.";if(a!=null)if(l.$OzMpdUpdater$p_6.getBool("normalize_mpd_fetch_errors")){var i=d("oz-player/utils/OzErrorUtils").getNormalizedErrorAndCode(a),j=i[0];i[1];c=j}else e=a,f=e.code!=null?String(e.code):null,h=e.name+"; "+e.message+"; "+e.description+";";if(c==null){i={originalError:e,url:b};f!==null&&(i.code=f);c=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NETWORK",description:h,extra:i})}}l.$OzMpdUpdater$p_26(c,b)})};var m=e.getMinimumUpdatePeriod();l.$OzMpdUpdater$p_7=0;l.$OzMpdUpdater$p_1=f;l.$OzMpdUpdater$p_2=e;l.$OzMpdUpdater$p_12=g;l.$OzMpdUpdater$p_3=m;l.$OzMpdUpdater$p_5=h.cloneContext().setType("manifest");l.$OzMpdUpdater$p_6=b;l.$OzMpdUpdater$p_13=i;l.$OzMpdUpdater$p_14=j;l.$OzMpdUpdater$p_15=k;l.$OzMpdUpdater$p_2.addListener("locationUpdated",function(){l.$OzMpdUpdater$p_23(),l.setupUpdateLoop()});l.$OzMpdUpdater$p_9=new(c("oz-player/utils/OzStreamInterruptChecker"))(l.$OzMpdUpdater$p_2,l.$OzMpdUpdater$p_6);l.$OzMpdUpdater$p_10.addSubscriptions(l.$OzMpdUpdater$p_9.addListener("streamResumedAt",function(a){l.emit("streamResumedAt",a)}),l.$OzMpdUpdater$p_9.addListener("streamInterruptAt",function(a){l.emit("streamInterruptAt",a)}));return l}var e=b.prototype;e.$OzMpdUpdater$p_23=function(){c("oz-player/shims/ozClearTimeout")(this.$OzMpdUpdater$p_4),this.$OzMpdUpdater$p_4=null,this.$OzMpdUpdater$p_24(),this.$OzMpdUpdater$p_21=!0};e.setupUpdateLoop=function(){var a,b=!this.$OzMpdUpdater$p_11;b&&(b=!this.$OzMpdUpdater$p_2.isStaticMpd(),this.$OzMpdUpdater$p_3=this.$OzMpdUpdater$p_2.getMinimumUpdatePeriod());a=this.$OzMpdUpdater$p_17==null&&this.$OzMpdUpdater$p_6.getNumber("manifest_initial_update_delay_ms")>0?this.$OzMpdUpdater$p_6.getNumber("manifest_initial_update_delay_ms"):this.$OzMpdUpdater$p_6.getNumber("manifest_update_frequency_ms")||((a=this.$OzMpdUpdater$p_3)!=null?a:0)*1e3;b&&a&&this.$OzMpdUpdater$p_2.getLocation()&&(this.$OzMpdUpdater$p_4=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(this.$OzMpdUpdater$p_25,a))};e.onError=function(a){return this.$OzMpdUpdater$p_8.onError(a)};e.$OzMpdUpdater$p_26=function(a,b){var c=this;b=!0;var d=this.$OzMpdUpdater$p_18-1,e=a.getExtra().code;this.$OzMpdUpdater$p_19!==e?(this.$OzMpdUpdater$p_19=e,this.$OzMpdUpdater$p_16=1):this.$OzMpdUpdater$p_16++;var f=function(){b=!1};e={endStream:function(){f(),c.$OzMpdUpdater$p_11=!0,c.emit("streamGone")},consecutiveFailuresForErrorCode:this.$OzMpdUpdater$p_16,error:a,isInitialRequest:!1,retry:function(b){c.emit("manifestFetchErrorRetry",a),f(),c.setupUpdateLoop()},retryAttemptCount:d};this.emit("manifestFetchError",e);b&&this.$OzMpdUpdater$p_8.emitError(a)};e.$OzMpdUpdater$p_29=function(a,b){a=new(c("oz-player/shims/OzURI"))(a);a.addQueryData("_nc_expid",b);return a.toString()};e.$OzMpdUpdater$p_30=function(a){if(!this.$OzMpdUpdater$p_15)return a;a=new(c("oz-player/shims/OzURI"))(a);a.addQueryData("_nc_tsid","mpd-"+this.$OzMpdUpdater$p_22++);return a.toString()};e.$OzMpdUpdater$p_27=function(a){this.$OzMpdUpdater$p_24();this.$OzMpdUpdater$p_18++;var b=this.$OzMpdUpdater$p_6.getString("cdn_experiment_id");a=b.length===0?a:this.$OzMpdUpdater$p_29(a,b);a=this.$OzMpdUpdater$p_30(a);b=this.$OzMpdUpdater$p_1.requestRawUrl({debugName:"OzMpdUpdater/requestMpd/mpd",url:a,options:{networkTimeoutMs:this.$OzMpdUpdater$p_6.getNumber("mpd_updater_network_request_timeout_ms")},loggerProvider:this.$OzMpdUpdater$p_5});this.$OzMpdUpdater$p_17=Date.now();this.$OzMpdUpdater$p_20=b;a=b.getStream().getReader();return d("oz-player/utils/OzReadableStreamUtils").pumpString(a)};e.$OzMpdUpdater$p_24=function(){this.$OzMpdUpdater$p_20&&(this.$OzMpdUpdater$p_20.cancel(),this.$OzMpdUpdater$p_18=0),this.$OzMpdUpdater$p_28()};e.$OzMpdUpdater$p_28=function(){this.$OzMpdUpdater$p_20=null};e.destroy=function(){this.$OzMpdUpdater$p_4&&c("oz-player/shims/ozClearTimeout")(this.$OzMpdUpdater$p_4),this.$OzMpdUpdater$p_10.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/shims/www/OzXmlParserTrustedTypesHTMLPolicyWWW",["TrustedTypes","err"],(function(a,b,c,d,e,f,g){"use strict";b={createHTML:function(a){if(a.startsWith('<?xml version="1.0"?>\n<')||a.startsWith('<?xml version="1.0" encoding="UTF-8"?>\n<')||a.startsWith('\n<MPD xmlns="urn:mpeg:dash:schema:mpd:2011"'))return a;throw c("err")("Violating Trusted Type policies. Only works for XML.")}};var h=c("TrustedTypes").createPolicy("oz-player-xml",b);function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.createHTML.apply(h,[a].concat(c))}g.createTrustedHTMLForDOMParser=a}),98);
__d("oz-player/shims/OzXmlParserTrustedTypesHTMLPolicy",["oz-player/shims/www/OzXmlParserTrustedTypesHTMLPolicyWWW"],(function(a,b,c,d,e,f,g){"use strict";g.createTrustedHTMLForDOMParser=d("oz-player/shims/www/OzXmlParserTrustedTypesHTMLPolicyWWW").createTrustedHTMLForDOMParser}),98);
__d("oz-player/parsers/OzXmlParserImplDOMParser",["oz-player/shims/OzXmlParserTrustedTypesHTMLPolicy","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){function h(){return{$:{}}}function i(a){var b=h();for(var c=a.attributes,d=0;d<c.length;++d){var e=c[d];b.$[e.name]=e.value}for(e=a.childNodes,c=0;c<e.length;++c){d=e[c];if(d instanceof Element){a=d.nodeName;Object.prototype.hasOwnProperty.call(b,a)||(b[a]=[]);b[a].push(i(d))}else{a=d.nodeValue.trim();a&&(b._=a)}}return b}a=function(){function a(){this.$1=new DOMParser()}var b=a.prototype;b.parse=function(a){try{var b=h(),c=d("oz-player/shims/OzXmlParserTrustedTypesHTMLPolicy").createTrustedHTMLForDOMParser(a);c=this.$1.parseFromString(c,"application/xml");var e=c.querySelector("parsererror");if(e){var f=e.querySelector("h3");f=f?f.nextElementSibling:null;f=f?f.innerHTML:e.innerHTML;e=2e3;throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_XML_PARSER",description:"DOMParser parsererror: "+String(f).trim()+"; truncated xml ("+Math.min(e,a.length)+"/"+a.length+"): "+a.substring(0,e),extra:{}})}f=c.documentElement;f!=null&&(b[f.nodeName]=[i(f)]);return b}catch(b){if(d("oz-player/utils/OzErrorUtils").isOzError(b))throw b;else{e=2e3;throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_XML_PARSER",description:"XML parse exception: "+String(b)+"; truncated xml ("+Math.min(e,a.length)+"/"+a.length+"): "+a.substring(0,e),extra:{originalError:b}})}}};return a}();g["default"]=a}),98);
__d("oz-player/playback_controls/OzClearSourceBufferOnSeekManager",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e){e===void 0&&(e=null),this.$3=new(c("oz-player/utils/OzErrorEmitter"))(),this.$4=new Map(),this.$5=!1,this.$6=!1,this.$7=!1,this.$8=null,this.$9=[],this.$10=null,this.$11=null,this.$1=a,this.$2=b,this.$4=d,this.$11=e}var b=a.prototype;b.$12=function(a){var b;this.$5=!0;return(b=this.$8)!=null?b:a.call(this.$1)};b.$13=function(a,b){this.$6=!0,this.$9.push({t:b}),this.$8=b,this.$9.length===1&&this.$14(a)};b.$15=function(a){this.$7=!0;return this.$8!=null?!0:a.call(this.$1)};b.$16=function(a,b){var d=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),e=[];this.$4.forEach(function(c,d){d=c.clearSourceBufferRange(a,b);e.push(d)});var f=c("oz-player/shims/OzMaybeNativePromise").all(e);f.then(function(){d.resolve()})["catch"](function(a){d.reject(a)});return d.getPromise()};b.$14=function(a){var b=this,e=this.$9.length>0?this.$9[0]:null,f=this.$2.getNumber("clear_buffer_on_seek_epsilon_s");if(e){var g=e.t;e=this.$1.buffered;var h=e.length,i=e.length<=0,j=-1,k=!1;for(var l=0;j<0&&l<h;++l)j=g-f>=e.start(l)&&g+f<e.end(l)?l:j,k=g<e.start(l)-f;l=j>-1;var m=this.$2.getNumber("clear_buffer_on_seek_nudge_s");l&&j>=0&&j<h&&m>0&&(g=Math.min(g,e.end(j)-m),g=Math.max(g,e.start(j)+m));if(i||l||!k)this.$11&&this.$11.getOperationLogger("seek_to_next_time").setLength(Math.round(g*1e3)).setInitiator("no_clear").log(),a.call(this.$1,g),this.$9.shift(),this.$14(a);else{var n=null;this.$11&&(n=this.$11.getOperationLogger("clear_buffer_before_seek").setLength(Math.round(g*1e3)).setUserInfo({bufferRangesLength:String(h),nudgeSec:String(m)}).start());j=this.$16(Math.max(g-f,0),e.end(h-1)+f);j.then(function(){n&&n.log(),b.$11&&b.$11.getOperationLogger("seek_to_next_time").setLength(Math.round(g*1e3)).setInitiator("after_clear").log(),a.call(b.$1,g),b.$9.shift(),b.$14(a)})["catch"](function(a){n&&n.setError(a).log(),b.$3.emitError(d("oz-player/utils/OzErrorUtils").isOzError(a)?a:d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:a?a.name+": "+a.message:"Unknown error while clearing the buffer.",extra:{code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_CLEAR_RANGE_FAILED,originalError:a}}))})}}else this.$8=null};b.maybeOverwriteVideoCurrentTimeProperty=function(){var a,b,c=this,d=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(this.$1,"currentTime");d=(a=d)!=null?a:Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");a=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(this.$1,"seeking");a=(b=a)!=null?b:Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"seeking");var e=d&&typeof d.get==="function"?d.get:null,f=d&&typeof d.set==="function"?d.set:null,g=a&&typeof a.get==="function"?a.get:null;if(e&&f&&g&&Object.defineProperty){try{Object.defineProperty(this.$1,"currentTime",{get:function(){return c.$12(e)},set:function(a){c.$13(f,a)},configurable:!0,enumerable:!0});Object.defineProperty(this.$1,"seeking",{get:function(){return c.$15(g)},configurable:!0,enumerable:!0});b=this.$1.currentTime;this.$1.currentTime=b;this.$1.seeking}catch(a){}this.$17(function(){c.getCurrentTimePropertyOverwriteSuccess()&&Object.defineProperty(c.$1,"currentTime",{get:e,set:f,configurable:!0,enumerable:!0}),c.getSeekingPropertyOverwriteSuccess()&&Object.defineProperty(c.$1,"seeking",{get:g,configurable:!0,enumerable:!0})})}};b.getCurrentTimePropertyOverwriteSuccess=function(){return this.$5&&this.$6};b.getSeekingPropertyOverwriteSuccess=function(){return this.$7};b.$17=function(a){this.$10=a};b.onError=function(a){return this.$3.onError(a)};b.destroy=function(){try{this.$10&&this.$10()}catch(a){}};return a}();g["default"]=a}),98);
__d("oz-player/playback_controls/OzSteadyStateManager",["oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$1=[],this.$2=a,this.$3=b}var b=a.prototype;b.addSample=function(a){var b,c=Math.floor(Date.now()/(1e3*this.$3)),d=c%this.$2;((b=this.$1[d])==null?void 0:b.bucketNumber)!=c&&(this.$1[d]={bucketNumber:0,val:null});this.$1[d]={bucketNumber:c,val:Math.min(a,(b=this.$1[d].val)!=null?b:a)}};b.min=function(){var a=this,b=Date.now(),d=this.$1.filter(function(c){return c!=null&&c.val!=null&&b-a.$2*1e3*a.$3<c.bucketNumber*1e3*a.$3});if(d.length<this.$2)return null;d=d.reduce(function(a,b){if(a==null)return b;var d=b.val;d!=null||c("oz-player/shims/ozvariant")(0,56011);var e=a.val;e!=null||c("oz-player/shims/ozvariant")(0,56011);return d<e?b:a},null);return d==null?void 0:d.val};b.reset=function(){this.$1=[]};return a}();g["default"]=a}),98);
__d("oz-player/playback_controls/OzLiveLatencyManager",["oz-player/playback_controls/OzSteadyStateManager","oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzSourceBufferUtil"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$8=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$9=null;this.$10=!1;this.$11=null;this.$12=null;this.$13=null;this.$14=!0;var d=a.config,e=a.mpd,f=a.playbackState,g=a.bufferingDetector,h=a.video,i=a.loggerProvider;a=a.getUserSelectedPlaybackRate;this.$1=d;this.$2=e;this.$3=f;this.$15=a;d.getNumber("steadystate_minbuffer_buckets")>0&&(this.$7=new(c("oz-player/playback_controls/OzSteadyStateManager"))(this.$1.getNumber("steadystate_minbuffer_buckets"),this.$1.getNumber("steadystate_minbuffer_buckets_sec")));g!=null&&(this.$8.addSubscriptions(g.addListener("enterBuffering",function(a){if(a==="in_play"){b.$9=0;(a=b.$7)==null?void 0:a.reset()}b.$10=!1;(a=b.$6)==null?void 0:a.log();b.$6=null})),this.$8.addSubscriptions(g.addListener("leaveBuffering",function(){b.$9===0&&(b.$9=Date.now()),b.$10=!1})));this.$4=h;this.$5=i;if(this.$16()){this.$8.addSubscriptions((e=c("oz-player/shims/OzDOMEventListener")).listenDOMEvent(this.$4,"timeupdate",c("oz-player/shims/ozThrottle")(function(){b.$17(),b.$18()},this.$1.getNumber("playhead_manager_timeupdate_throttle_ms"))),e.listenDOMEvent(this.$4,"waiting",function(){b.$17()}),e.listenDOMEvent(this.$4,"durationchange",function(){b.$17()}),e.listenDOMEvent(this.$4,"seeking",function(){var a;b.$13=Date.now();b.$11=null;(a=b.$7)==null?void 0:a.reset()}),e.listenDOMEvent(this.$4,"playing",function(){b.$13=Date.now(),b.$11=null}),e.listenDOMEvent(h,"pause",function(){var a;return(a=b.$7)==null?void 0:a.reset()}))}}var b=a.prototype;b.enabled=function(){var a=this.$1.getNumber("catchup_timeout_after_buffering_sec");return a===0||this.$9==null||this.$9!==0&&this.$9+a*1e3<=Date.now()};b.isBehindPreferredLiveHeadLatencyWithTolerance=function(){return this.$3.getCurrentTime()<this.getInitialPlayHeadPosition()-this.getPreferredLiveHeadLatencyToleranceSec()};b.$19=function(){return this.$3.getCurrentTime()<this.getInitialPlayHeadPosition()};b.$20=function(){var a;a=(a=this.$7)==null?void 0:a.min();return!this.$21()&&a!=null&&a>this.$1.getNumber("steadystate_minbuffer_sec")};b.getInitialPlayHeadPosition=function(){return this.getLiveHeadTimeSec()-this.getPreferredLiveHeadLatencySec()};b.getLiveHeadTimeSec=function(){var a=this.$22();return(a==null?void 0:(a=a.getEndingSegment())==null?void 0:a.getTimeRange().endTime)||0};b.$21=function(){return this.$9!=null&&this.$1.getBool("latencymanager_stalled_edgelatency_sec_on")};b.getPreferredLiveHeadLatencySec=function(){var a=this.$21()?this.$1.getNumber("latencymanager_stalled_edgelatency_sec"):this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec");a=this.$23(a);this.$5.getOperationLogger("latency_manager").setPreferredEdgeLatency(a*1e3);return a};b.getPreferredLiveHeadLatencyToleranceSec=function(){return this.$1.getNumber("pdash_download_cursor_catchup_tolerance_sec")};b.shouldEnableManifestTimeRangeCatchup=function(){return!this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")};b.shouldEnableCursorBasedCatchup=function(){var a=this.$2.getVideoRepresentations()[0];a=a&&a.canPredict();return a&&this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")>0};b.setEnableCatchup=function(a){var b=this.$14;!this.$14&&a===!0&&(this.$9=null);this.$14=a;this.$1.getBool("fix_live_rewind_user_selected_playback_speed")&&a!==b&&this.$18()};b.$24=function(a,b,c){var d=this.$1.getNumber("playback_speed_min_sharpness_factor");c=a*2/(1+Math.pow(Math.E,-(c-b)*d));return 1-a+c};b.$16=function(){return!this.$1.getBool("playback_speed_latency_adjustment_disabled")&&(this.$1.getNumber("playback_speed_latency_adjustment_rate")>0||this.$1.getNumber("playback_speed_latency_slowdown_adjustment_rate")>0||this.$1.getNumber("playback_speed_latency_speedup_adjustment_rate")>0)};b.$17=function(){var a,b=d("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(d("oz-player/utils/OzSourceBufferUtil").convertToBufferedTimeRangeArray(this.$4.buffered),this.$3.getCurrentTime(),this.$1).bufferAheadSec;(a=this.$7)==null?void 0:a.addSample(b)};b.$18=function(){var a=d("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(d("oz-player/utils/OzSourceBufferUtil").convertToBufferedTimeRangeArray(this.$4.buffered),this.$3.getCurrentTime(),this.$1),b=a.bufferAheadSec;a=a.bufferedOffset;this.$25(b,a)};b.$25=function(a,b){var c=this.$1.getNumber("playback_speed_enabled_delay_sec"),d=this.$1.getNumber("playback_speed_min_buffer_sec");a>d&&(this.$10=!0);var e=this.$1.getNumber("playback_speed_min_duration_sec"),f=this.$1.getNumber("playback_speed_restore_min_duration_sec"),g=this.$1.getNumber("playback_speed_latency_adjustment_rate"),h=this.$1.getNumber("playback_speed_latency_slowdown_adjustment_rate"),i=this.$1.getNumber("playback_speed_latency_speedup_adjustment_rate");if(this.$4.playbackRate===0){var j;(j=this.$6)==null?void 0:j.log();this.$6=null}else if(this.$14&&this.$10&&a<d&&(g>0||h>0)&&b===0&&(c===0||this.$13!=null&&this.$13+c*1e3<Date.now())){j=h>0?1-h:this.$24(g,d,a);this.$6==null&&(this.$6=this.$5.getOperationLogger("latency_manager").start().setInitiator("speed_adjustment").setReason("slow").setUserInfo({newPlaybackRate:String(j),oldPlaybackRate:String(this.$4.playbackRate)}));this.$26(j)}else if(this.$14&&this.$10&&(this.$19()||this.$20())&&i>0&&b===0&&(this.$12==null||this.$12+f*1e3<Date.now())&&(c===0||this.$13!=null&&this.$13+c*1e3<Date.now())){h=1+i;this.$6==null&&(this.$6=this.$5.getOperationLogger("latency_manager").start().setInitiator("speed_adjustment").setReason("fast").setUserInfo({newPlaybackRate:String(h),oldPlaybackRate:String(this.$4.playbackRate)}));this.$26(h)}else if(this.$14===!1||this.$11==null||this.$11+e*1e3<Date.now()){g=this.$4.playbackRate;this.$1.getBool("fix_live_rewind_user_selected_playback_speed")?this.$4.playbackRate=this.$14===!1?this.$15():1:this.$4.playbackRate=1;(d=this.$6)==null?void 0:d.log();this.$6=null;g!==this.$4.playbackRate&&(this.$12=Date.now())}};b.$26=function(a){try{this.$4.playbackRate=a,this.$11=Date.now()}catch(b){(a=this.$6)==null?void 0:a.setError(b).setResult("failed").log();this.$6=null}};b.$22=function(){var a=this.$2.getVideoRepresentations().concat(this.$2.getAudioRepresentations());return a.length===0?null:a.reduce(function(a,b){var c;return(((c=a.getEndingSegment())==null?void 0:c.getTimeRange().endTime)||0)>(((c=b.getEndingSegment())==null?void 0:c.getTimeRange().endTime)||0)?a:b})};b.$23=function(a){var b;if(a<=0)return a;var c=this.$22();b=c==null?void 0:(b=c.getEndingSegment())==null?void 0:b.getTimeRange();if(!b)return a;c=c==null?void 0:(c=c.getSegmentByTime((b==null?void 0:b.endTime)-a))==null?void 0:c.getTimeRange();return!c?a:(b==null?void 0:b.endTime)-(c==null?void 0:c.startTime)};b.destroy=function(){this.$8.release()};return a}();g["default"]=a}),98);
__d("oz-player/playback_controls/OzPlaybackTimeRangeManager",["oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$4=null;this.$5=0;this.$6=0;this.$7=!0;this.$8=0;this.$9=0;this.$10=!1;this.$12=0;this.$13=0;this.$15=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$17=function(){b.$10!=b.$14.isPlaying()&&(b.$14.isPlaying()&&(b.$11=Date.now()),b.$10=b.$14.isPlaying())};var d=a.video,e=a.config,f=a.mpd,g=a.liveheadFallBehindBlockThreshold,h=a.liveheadFallBehindBlockMargin,i=a.playbackState;a=a.perfLoggerProvider;this.$1=e;this.$2=d;this.$3=f;this.$8=g;this.$9=h;this.$14=i;this.$16=a;this.$1.getNumber("catchup_timeout_after_play_sec")!==0&&this.$15.addSubscriptions(this.$14.addEventListener("play",this.$17),this.$14.addEventListener("pause",this.$17))}var b=a.prototype;b.setTimelineBlockingEnabled=function(a){this.$7=a,this.$7||this.$3.unblockTimeRange()};b.setTimeRangeProvider=function(a){var b=this;this.$4!=null&&this.$4.remove();this.$4=a.addUpdateListener(function(){var c=a.getTimeRanges(),d=0;if(c.length!==0){c=c[c.length-1];d=c.endTime}b.$18(d)})};b.$18=function(a){var b;if(!this.$7)return;if(this.$5===a)return;this.$5=a;if(this.$2.currentTime<=this.$6)return;a=this.$1.getBool("catchup_use_timeline_range_end_time_as_end")?a:this.$2.duration;var c=this.$1.getNumber("overwrite_livehead_fall_behind_block_threshold")!==0?this.$1.getNumber("overwrite_livehead_fall_behind_block_threshold"):this.$8,e=this.$1.getNumber("overwrite_live_time_range_block_margin")!==0?this.$1.getNumber("overwrite_live_time_range_block_margin"):this.$9;this.$17();this.$1.getBool("reset_catchup_timeout_after_play_sec_on_overwrite")&&(this.$13!=e||this.$12!=c)&&(this.$13=e,this.$12=c,this.$11=Date.now());b=this.$1.getNumber("catchup_timeout_after_play_sec")===0||Date.now()-((b=this.$11)!=null?b:0)<this.$1.getNumber("catchup_timeout_after_play_sec")*1e3;if(b&&this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")===0&&e!==0&&c!==0&&a-this.$2.currentTime>c){b=[];for(c=0;c<this.$2.buffered.length;c++)b.push({startTime:this.$2.buffered.start(c),endTime:this.$2.buffered.end(c)});c=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(this.$2.currentTime,b);this.$6=this.$2.currentTime+Math.min(c,e);b={startTime:this.$6,endTime:a-e};this.$16.getOperationLogger("latency_manager").setInitiator("time_range_manager").setReason("blocked_range").setLength(b.endTime-b.startTime).setUserInfo({blockedRangeStart:String(b.startTime),blockedRangeEnd:String(b.endTime)}).log();this.$3.blockTimeRange(b)}};b.destroy=function(){this.$4!=null&&(this.$4.remove(),this.$4=null),this.$15.release()};return a}();g["default"]=a}),98);
__d("oz-player/strategies/LiveheadSeekaheadStrategy",[],(function(a,b,c,d,e,f){"use strict";var g=.05;function a(a,b){b=Math.max.apply(Math,b.map(function(a){return a.startTime}));return b-a>0?b-a+g:0}f.computeSeekAhead=a}),66);
__d("oz-player/utils/OzTimelineGapUtil",["oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=1.5;function a(a,b,c,e){b=b.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});return d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(c,a,b,e)===-1}function b(a,b,c,e,f){f===void 0&&(f=h);var g=b.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(c,a,g,e);if(c!==-1){g=b[c];return d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(a,g.endTime)&&g.endTime-a<f}return!1}g.isInGap=a;g.isNearGap=b}),98);
__d("oz-player/playback_controls/OzPlayheadManager",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/shims/ozvariant","oz-player/strategies/LiveheadSeekaheadStrategy","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzSourceBufferUtil","oz-player/utils/OzTimelineGapUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a){this.$1=a.perfLoggerProvider,this.$2=a.video,this.$4=a.config}var b=a.prototype;b.markState=function(a,b){var c=d("oz-player/utils/OzSourceBufferUtil").convertToBufferedTimeRangeArray(this.$2.buffered),e=this.$3;if(e==null){this.$3=c;return}var f=d("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(c,b.getCurrentTime(),this.$4);e=d("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(e,b.getCurrentTime(),this.$4);e.bufferedOffset!==-1&&f.bufferedOffset===-1&&this.$1.getOperationLogger("playhead_adjustment").setError("buffer_deleted").setResult("failed").setUserInfo({vidSeeking:String(this.$2.seeking),vidErrCode:this.$2.error?String(this.$2.error.code):null}).setInitiator(a).log();this.$3=c};return a}(),i=function(){function a(a){this.$5=!1,this.$6={},this.$1=a.perfLoggerProvider,this.$2=a.video}var b=a.prototype;b.markState=function(a,b){var c=this;if(this.$2.paused){this.$3=null;this.$4=null;this.$5=!1;this.$6={};return}(this.$3==null||this.$2.currentTime>this.$3)&&(this.$4=Date.now(),this.$3=this.$2.currentTime,this.$5=!1,this.$6={});this.$6[a]=this.$6[a]==null?1:this.$6[a]+1;var d=this.$4;if(!this.$5&&!this.$2.paused&&d!=null&&d+1e4<Date.now()){this.$5=!0;var e={};Object.keys(this.$6).forEach(function(a){e[a]=String(c.$6[a])});this.$1.getOperationLogger("playhead_adjustment").setError("not_advancing").setResult("failed").setLength(Date.now()-d).setUserInfo(babelHelpers["extends"]({},e,b,{lastCurrentTime:String(this.$3),lastCurrentTimeChanged:String(d-Date.now()),vidSeeking:String(this.$2.seeking),vidErrCode:this.$2.error?String(this.$2.error.code):null})).setInitiator(a).log()}};return a}();a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this)||this;e.$OzPlayheadManager$p_2=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPlayheadManager$p_3=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPlayheadManager$p_4=new Set();e.$OzPlayheadManager$p_10=new Set();e.$OzPlayheadManager$p_12=function(a){e.$OzPlayheadManager$p_1.currentTime=a};e.$OzPlayheadManager$p_14=!1;e.$OzPlayheadManager$p_15=!1;e.$OzPlayheadManager$p_16=!0;e.$OzPlayheadManager$p_17=!1;e.$OzPlayheadManager$p_23=function(a,b){b===void 0&&(b=null);if(e.$OzPlayheadManager$p_20!=null?!e.$OzPlayheadManager$p_20.shouldEnableManifestTimeRangeCatchup():!1)return;var c=e.$OzPlayheadManager$p_9;if(c&&c.isEnabled(e.$OzPlayheadManager$p_1,e.$OzPlayheadManager$p_8)){c=c.computeNewPlayheadPosition(e.$OzPlayheadManager$p_1,e.$OzPlayheadManager$p_8);if(typeof c==="number"){e.$OzPlayheadManager$p_27(c,"live_catch_up_strategy",a,b);return}}c=e.$OzPlayheadManager$p_6.getNumber("auto_seek_playhead_slack");if(c===0)return;var f=e.$OzPlayheadManager$p_5;if(!f)return;var g=e.$OzPlayheadManager$p_7.getCurrentTime(),h=f.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),i=d("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(g,h);if((d("oz-player/utils/OzTimelineGapUtil").isNearGap(g,f.getTimeRanges(),e.$OzPlayheadManager$p_6)||d("oz-player/utils/OzTimelineGapUtil").isInGap(g,f.getTimeRanges(),e.$OzPlayheadManager$p_6))&&i!==-1){g=h[i];e.$OzPlayheadManager$p_27(g.rangeStart+c,"jump_over_timeline_gap",a,b)}};var f=b.video,g=b.mpd,j=b.playheadCatchup,k=b.playbackState,l=b.config,m=b.perfLoggerProvider,n=b.seekHandler,o=b.initialPlaybackPosition,p=b.canSupportSkipVideobufferGaps,q=b.liveLatencyManager;b=b.dynamicVideoLibrary;e.$OzPlayheadManager$p_1=f;e.$OzPlayheadManager$p_6=l;e.$OzPlayheadManager$p_7=k;e.$OzPlayheadManager$p_8=g;e.$OzPlayheadManager$p_9=j;e.$OzPlayheadManager$p_11=m;n&&(e.$OzPlayheadManager$p_12=n);e.$OzPlayheadManager$p_17=p;e.$OzPlayheadManager$p_20=q;e.$OzPlayheadManager$p_13=o;e.$OzPlayheadManager$p_21=b;e.$OzPlayheadManager$p_18=new i({video:f,perfLoggerProvider:m});e.$OzPlayheadManager$p_19=new h({video:f,perfLoggerProvider:m,config:l});e.$OzPlayheadManager$p_2.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"durationchange",function(){e.setPlaybackPositionOnFirstDurationChange("durationchange",e.$OzPlayheadManager$p_1.duration),e.$OzPlayheadManager$p_23("durationchange"),e.$OzPlayheadManager$p_24("durationchange")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"pause",function(){e.$OzPlayheadManager$p_23("pause")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"play",function(){e.$OzPlayheadManager$p_23("play")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"playing",function(){e.$OzPlayheadManager$p_23("playing")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"waiting",function(){e.$OzPlayheadManager$p_23.bind(babelHelpers.assertThisInitialized(e),"waiting"),e.$OzPlayheadManager$p_24("waiting")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"timeupdate",c("oz-player/shims/ozThrottle")(function(){e.$OzPlayheadManager$p_23("timeupdate"),e.$OzPlayheadManager$p_6.getBool("playhead_manager_buffered_timerange_update_on_timeupdate")&&e.$OzPlayheadManager$p_24("timeupdate")},e.$OzPlayheadManager$p_6.getNumber("playhead_manager_timeupdate_throttle_ms"))),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"seeking",function(){e.$OzPlayheadManager$p_22=Date.now()}));return e}var e=b.prototype;e.$OzPlayheadManager$p_25=function(){return this.$OzPlayheadManager$p_1.playbackRate===0};e.observeSourceBufferState=function(a,b){var d=this;this.$OzPlayheadManager$p_4.has(a)&&c("oz-player/shims/ozvariant")(0,4179);this.$OzPlayheadManager$p_4.add(a);this.$OzPlayheadManager$p_2.addSubscriptions(a.addEventListener("buffer_updated",function(){d.$OzPlayheadManager$p_26(a,b),d.$OzPlayheadManager$p_6.getBool("skip_videobuffer_gaps_on_buffer_updated")&&d.$OzPlayheadManager$p_17&&d.$OzPlayheadManager$p_24("buffer_updated")}))};e.$OzPlayheadManager$p_26=function(a,b){var c=[];this.$OzPlayheadManager$p_4.forEach(function(a){a=a.getBufferedRanges();a.length&&c.push(a[0])});c.length>0&&this.$OzPlayheadManager$p_10.add(a);a=this.$OzPlayheadManager$p_1.currentTime;a=d("oz-player/strategies/LiveheadSeekaheadStrategy").computeSeekAhead(a,c);var e=this.$OzPlayheadManager$p_6.getNumber("timeline_offset_threshold");a>0&&(e===0||a<e)&&this.$OzPlayheadManager$p_27(this.$OzPlayheadManager$p_1.currentTime+a,"first_available_buffer","source_buffer",b)};e.setTimeRangeProvider=function(a){var b=this;this.$OzPlayheadManager$p_3.release();this.$OzPlayheadManager$p_3.engage();this.$OzPlayheadManager$p_3.addSubscriptions(a.addUpdateListener(function(){b.$OzPlayheadManager$p_23("time_range_updated")}));this.$OzPlayheadManager$p_5=a;this.$OzPlayheadManager$p_23("time_range_set")};e.resetCurrentTime=function(){this.$OzPlayheadManager$p_15=!1,this.setPlaybackPositionOnFirstDurationChange("reset",this.$OzPlayheadManager$p_1.duration)};e.setPlaybackPositionOnFirstDurationChange=function(a,b){if(this.$OzPlayheadManager$p_13!==0&&!this.$OzPlayheadManager$p_15&&!isNaN(b)&&b!==Infinity){b=this.$OzPlayheadManager$p_13>0?this.$OzPlayheadManager$p_13:b+this.$OzPlayheadManager$p_13;if(this.$OzPlayheadManager$p_20!=null){var c;b=(c=this.$OzPlayheadManager$p_20)==null?void 0:c.getInitialPlayHeadPosition()}this.$OzPlayheadManager$p_15=!0;if(this.$OzPlayheadManager$p_6.getBool("playhead_manager_clamp_initial_playback_position")){c=(c=this.$OzPlayheadManager$p_5)==null?void 0:c.getTimeRanges();c!=null&&c.length>0&&c[0].startTime>b&&(b=c[0].startTime)}this.$OzPlayheadManager$p_27(b,"initial_playback_position",a);this.emit("initialPlaybackPositionSet",b)}};e.$OzPlayheadManager$p_24=function(a){var b,c,e=this;if(!this.$OzPlayheadManager$p_6.getBool("skip_videobuffer_gaps"))return;if(!this.$OzPlayheadManager$p_17)return;var f=this.$OzPlayheadManager$p_6.getNumber("playhead_manager_buffered_auto_seek_playhead_slack");if(f===0)return;var g=this.$OzPlayheadManager$p_7.getCurrentTime(),h=[];for(var i=0;i<this.$OzPlayheadManager$p_1.buffered.length;i++)h.push({startTime:this.$OzPlayheadManager$p_1.buffered.start(i),endTime:this.$OzPlayheadManager$p_1.buffered.end(i)});i=h.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});this.$OzPlayheadManager$p_19&&this.$OzPlayheadManager$p_19.markState(a,this.$OzPlayheadManager$p_7);var j=d("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(g,i),k=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(this.$OzPlayheadManager$p_6,g,i),l=this.$OzPlayheadManager$p_16?0:this.$OzPlayheadManager$p_6.getNumber("skip_videobuffer_gaps_max_gap_size_sec"),m=this.$OzPlayheadManager$p_6.getNumber("playhead_manager_buffered_is_near_gap_threshold"),n=this.$OzPlayheadManager$p_6.getNumber("playhead_manager_buffered_numerical_error");b=(b=this.$OzPlayheadManager$p_21)==null?void 0:b.getLastSegmentStartPTS();var o=b!=null?b/1e3:null,p=(c=this.$OzPlayheadManager$p_21)==null?void 0:c.getLast200RequestedUrlDecisionMinTime();c=o!=null?d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(this.$OzPlayheadManager$p_6,o,i):-1;var q=c>=0?i[c]:null,r=function(b){var c=e.$OzPlayheadManager$p_22==null||p==null||e.$OzPlayheadManager$p_22<p;!c&&b!=null&&e.$OzPlayheadManager$p_11.getOperationLogger("playhead_adjustment").setError("ignore_before_seek_main_"+b).setResult("failed").setInitiator(a).setUserInfo({last200RequestedUrlDecisionMinTime:String(p),lastSeekTime:String(e.$OzPlayheadManager$p_22)}).log();return c};if(o!=null&&this.$OzPlayheadManager$p_25()&&this.$OzPlayheadManager$p_16==!1&&r("buf")){if(o<g&&q!=null&&q.rangeStart<=o&&q.rangeEnd!=null&&q.rangeEnd>o){this.$OzPlayheadManager$p_27(o,"reverse_jump_over_buffer_gap",a,null,{lastSegmentStartPTS:String(b),last200RequestedUrlDecisionMinTime:String(p),lastSeekTime:String(this.$OzPlayheadManager$p_22)});return}if(q!=null&&c!=k){this.$OzPlayheadManager$p_27(q.rangeStart,"jump_over_buffer_gap_last_dl_range",a,null,{lastSegmentStartPTS:String(b),last200RequestedUrlDecisionMinTime:String(p),lastSeekTime:String(this.$OzPlayheadManager$p_22)});return}}if((d("oz-player/utils/OzTimelineGapUtil").isNearGap(g,h,this.$OzPlayheadManager$p_6,n,m)||d("oz-player/utils/OzTimelineGapUtil").isInGap(g,h,this.$OzPlayheadManager$p_6,n))&&j!==-1&&(l===0||i[j].rangeStart-g<l)&&(this.$OzPlayheadManager$p_16==!0||r("main"))){o=i[j];this.$OzPlayheadManager$p_6.getBool("enable_alternative_audio_tracks")&&this.$OzPlayheadManager$p_8.isStaticMpd()&&o.rangeStart!==0&&o.rangeEnd===this.$OzPlayheadManager$p_7.getDuration()?this.$OzPlayheadManager$p_27(0,"do_not_jump_over_buffer_gap",a,null,{lastSegmentStartPTS:String(b),last200RequestedUrlDecisionMinTime:String(p),lastSeekTime:String(this.$OzPlayheadManager$p_22)}):this.$OzPlayheadManager$p_27(o.rangeStart+f,"jump_over_buffer_gap",a,null,{lastSegmentStartPTS:String(b),last200RequestedUrlDecisionMinTime:String(p),lastSeekTime:String(this.$OzPlayheadManager$p_22)});return}this.$OzPlayheadManager$p_18&&this.$OzPlayheadManager$p_18.markState(a,{nextBufferedRangeIndex:String(j),limitMaxGapSize:String(l),rangeStart:j!==-1?String(i[j].rangeStart):null,isNearGapThreshold:String(m),numericalError:String(n)})};e.setEnableLiveheadCatchup=function(a){this.$OzPlayheadManager$p_16=a};e.destroy=function(){this.$OzPlayheadManager$p_2.release(),this.$OzPlayheadManager$p_3.release(),this.$OzPlayheadManager$p_4.clear()};e.$OzPlayheadManager$p_27=function(a,b,c,d,e){var f=a-this.$OzPlayheadManager$p_1.currentTime,g=this.$OzPlayheadManager$p_6.getNumber("seek_ahead_epsilon");if(g>0&&Math.abs(f)<=g)return;this.$OzPlayheadManager$p_11.getOperationLogger("playhead_adjustment").setLength(Math.round(a*1e3)).setReason(b).setInitiator(c).setType(d).setUserInfo(babelHelpers["extends"]({},e,{seekAdjustment:String(Math.round(f*1e3))})).log();this.$OzPlayheadManager$p_12(a);b==="initial_playback_position"&&(this.$OzPlayheadManager$p_14=!0)};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/shims/www/OzUuidWWW",["uuidv4"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("uuidv4")}),98);
__d("oz-player/shims/OzUuid",["oz-player/shims/www/OzUuidWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzUuidWWW")}),98);
__d("oz-player/states/OzObservedPlaybackState",["oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e){var f=this;e===void 0&&(e=new(d("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider)([]));this.$2=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$4=function(){f.$3.getOperationLogger("pause").setState("paused").log()};this.$5=function(){f.$3.getOperationLogger("playing").setState("playing").log()};this.$1=b;this.$3=e;this.$2.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"pause",this.$4),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"playing",this.$5))}var b=a.prototype;b.isPlaying=function(){return!this.$1.paused};b.getCurrentTime=function(){return this.$1.currentTime};b.getCurrentTimeUpdateTime=function(){return Date.now()};b.getDuration=function(){return this.$1.duration};b.addEventListener=function(a,b){return c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,a,b)};b.destroy=function(){this.$2.release()};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzPositionToViewportUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){b=b.filter(function(a){a=a.position;if(a==null)return!1;var b=a.y-window.scrollY;return b>=0||(a.height+b)/a.height>c}).sort(function(a,b){return a.position==null||b.position==null?0:a.position.y-b.position.y});return b.findIndex(function(b){return b.video===a})}function b(a){return a.isIntersecting!=null?a.isIntersecting:a.intersectionRatio>0||a.intersectionRect&&(a.intersectionRect.height>0||a.intersectionRect.width>0)}f.determinePositionIndexOfVideoFromViewportVertically=a;f.intersectionObserverEntryIsIntersecting=b}),66);
__d("oz-player/states/OzPositionToViewportTracker",["oz-player/shims/OzEventEmitter","oz-player/utils/OzPositionToViewportUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=.5;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OzPositionToViewportTracker$p_1=[];c.$OzPositionToViewportTracker$p_5=function(a){a.forEach(function(a){var b=c.$OzPositionToViewportTracker$p_1.find(function(b){return a.target===b.video});b!=null&&(d("oz-player/utils/OzPositionToViewportUtils").intersectionObserverEntryIsIntersecting(a)?b.position=c.$OzPositionToViewportTracker$p_7(a):c.$OzPositionToViewportTracker$p_1.map(function(b){a.target===b.video&&(b.position=null)}));c.$OzPositionToViewportTracker$p_1.forEach(function(a){a.positionIndexToViewportVertically=c.$OzPositionToViewportTracker$p_6(a.video)})}),c.emit("state_changed")};c.$OzPositionToViewportTracker$p_2=b;return c}var c=b.prototype;c.$OzPositionToViewportTracker$p_4=function(){if(this.$OzPositionToViewportTracker$p_3!=null)return;this.$OzPositionToViewportTracker$p_3=new IntersectionObserver(this.$OzPositionToViewportTracker$p_5,{rootMargin:this.$OzPositionToViewportTracker$p_2.getNumber("pixels_above_viewport_to_observe")+"px 0px "+this.$OzPositionToViewportTracker$p_2.getNumber("pixels_below_viewport_to_observe")+"px 0px",threshold:0})};c.registerVideo=function(a){this.$OzPositionToViewportTracker$p_1.push({video:a,position:null,positionIndexToViewportVertically:-1}),this.$OzPositionToViewportTracker$p_4(),this.$OzPositionToViewportTracker$p_3!=null&&this.$OzPositionToViewportTracker$p_3.observe(a)};c.getPositionIndexOfVideoFromViewportVertically=function(a){var b=this.$OzPositionToViewportTracker$p_1.find(function(b){return b.video===a});return b!=null?b.positionIndexToViewportVertically:-1};c.$OzPositionToViewportTracker$p_6=function(a){return d("oz-player/utils/OzPositionToViewportUtils").determinePositionIndexOfVideoFromViewportVertically(a,this.$OzPositionToViewportTracker$p_1,i)};c.$OzPositionToViewportTracker$p_7=function(a){a=a.boundingClientRect;return{x:a.x+window.scrollX,y:a.y+window.scrollY,width:a.width,height:a.height}};b.getInstance=function(a){h==null&&(h=new b(a));return h};c.unregisterVideo=function(a){var b=this,c=[];this.$OzPositionToViewportTracker$p_1.forEach(function(d){d.video===a&&b.$OzPositionToViewportTracker$p_3!=null?b.$OzPositionToViewportTracker$p_3.unobserve(a):c.push(d)});this.$OzPositionToViewportTracker$p_1=c;this.$OzPositionToViewportTracker$p_1.length===0&&this.$OzPositionToViewportTracker$p_3!=null&&(this.$OzPositionToViewportTracker$p_3.disconnect(),this.$OzPositionToViewportTracker$p_3=null)};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/states/OzPositionToViewport",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzPositionToViewportTracker"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$OzPositionToViewport$p_1=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPositionToViewport$p_3=b;e.$OzPositionToViewport$p_2=c("oz-player/states/OzPositionToViewportTracker").getInstance(d);e.$OzPositionToViewport$p_2.registerVideo(b);e.$OzPositionToViewport$p_1.addSubscriptions(e.$OzPositionToViewport$p_2.addListener("state_changed",function(){e.emit("state_changed")}));return e}var d=b.prototype;d.getPositionIndexOfVideoFromViewportVertically=function(){return this.$OzPositionToViewport$p_3!=null?this.$OzPositionToViewport$p_2.getPositionIndexOfVideoFromViewportVertically(this.$OzPositionToViewport$p_3):-1};d.destroy=function(){this.$OzPositionToViewport$p_3!=null&&this.$OzPositionToViewport$p_2.unregisterVideo(this.$OzPositionToViewport$p_3),this.$OzPositionToViewport$p_3=null};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzPlaybackConfidenceUtils",[],(function(a,b,c,d,e,f){"use strict";var g=.8;function a(a,b,c,d,e,f){f=Math.min(1,c/d);c=1+(1-f)*e;d=a.getBandwidth()*c;return d>b?g*(b/d):1-(1-g)*d/b}f.getPlaybackConfidence=a}),66);
__d("oz-player/strategies/OzAbrManager",["oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzPlaybackConfidenceUtils","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g,h,i){this.$2=0,this.$3=Date.now(),this.$4=!1,this.$10=null,this.$1=a,this.$5=b,this.$6=this.$15(b,c),this.$7=d,this.$8=e,this.$11=f,this.$12=g,this.$13=h,this.$14=i,this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_initialized").setResult("success").setUserInfo({newRepresentationIds:c.map(function(a){return a.getID()}).join(","),newCodecs:c.map(function(a){return a.getCodecs()}).join("|"),newDisplayLabels:c.map(function(a){return a.getDisplayLabel()}).join(",")}).setRepresentationID(b.getID()).setType("video").setInitiator("OzAbrManager").log()}var b=a.prototype;b.setSourceBuffer=function(a){this.$9=a};b.$15=function(a,b){var c=this.$1.getNumber("abr_restrict_from_index"),d=this.$1.getNumber("abr_restrict_to_index");if(d===0&&c===0)return b;var e=b.findIndex(function(b){return a.getID()===b.getID()});return e===-1?b:b.filter(function(a,b){return b-e>=c&&b-e<=d})};b.$16=function(a){a=d("oz-player/utils/OzAbrUtils").excludeLargeRepresentations(a,this.$12(),this.$11,{resolutionConstraintFactor:this.$1.getNumber("resolution_constraint_factor")});a=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$7,this.$12(),a);return a};b.getBestRepresentation=function(a){var b;a=(a=a==null?void 0:a.length)!=null?a:null;b=(b=(b=this.$9)==null?void 0:b.getSourceBufferState().getBufferedRanges())!=null?b:null;var e=this.$8.getCurrentTime();e=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(e,b);b=d("oz-player/utils/OzAbrUtils").getReasonToPreventEvaluation(this.$1,this.$4,e,c("oz-player/networks/OzBandwidthEstimator").getSampleCount(),this.$2,this.$3);if(b!=null){this.$10=b;this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_best_representation_selected").setResult("failed").setReason(this.$10).setType("video").setInitiator("OzAbrManager").log();return this.$5}b=Date.now();this.$2=b;var f=c("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$1.getLegacyConfig()),g=this.$16(this.$6);f=this.$17(g,f,e,a);a=g[0];f=f||a;if(this.$18(e,f)){this.$10="high_buffer";this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_best_representation_selected").setResult("failed").setUserInfo({filteredRepresentationIds:g.map(function(a){return a.getID()}).join(",")}).setPreviousRepresentationID(this.$5.getID()).setReason(this.$10).setType("video").setInitiator("OzAbrManager").log();return this.$5}a=this.$5;a!==f&&(this.$4=!0,this.$3=b,this.$5=f);this.$10="bandwidth";this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_best_representation_selected").setResult("success").setUserInfo({filteredRepresentationIds:g.map(function(a){return a.getID()}).join(",")}).setRepresentationID(f.getID()).setPreviousRepresentationID(a==null?void 0:a.getID()).setReason(this.$10).setType("video").setInitiator("OzAbrManager").log();return f};b.$17=function(a,b,c,e){e===void 0&&(e=null);var f=null;for(var g=0;g<a.length;g++){var h=d("oz-player/strategies/OzPlaybackConfidenceUtils").getPlaybackConfidence(a[g],b,c,this.$1.getNumber("low_buffer_bandwidth_target_threshold"),this.$1.getNumber("low_buffer_bandwidth_target_increase_factor"),e);h>this.$1.getNumber("abr_confidence_threshold")&&(!f||f.getBandwidth()<a[g].getBandwidth())&&(f=a[g])}return f};b.$18=function(a,b){var c=this.$1.getNumber("abr_prevent_down_switch_buffer_threshold");return c>0&&a>=c&&this.$5.getBandwidth()>b.getBandwidth()?!0:!1};b.getLastEvaluationReason=function(){return this.$10};b.updateRepresentations=function(a){var b=this,c=this.$6;this.$6=a;var d=this.$6.find(function(a){return a.getDisplayLabel()===b.$5.getDisplayLabel()}),e=this.$5;this.$5=(d=d)!=null?d:this.$6[0];this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_representations_updated").setResult("success").setUserInfo({previousRepresentationIds:c.map(function(a){return a.getID()}).join(","),newRepresentationIds:a.map(function(a){return a.getID()}).join(","),newCodecs:a.map(function(a){return a.getCodecs()}).join("|"),newDisplayLabels:a.map(function(a){return a.getDisplayLabel()}).join(",")}).setRepresentationID(this.$5.getID()).setPreviousRepresentationID(e==null?void 0:e.getID()).setReason(this.$10).setType("video").setInitiator("OzAbrManager").log()};return a}();g["default"]=a}),98);
__d("oz-player/strategies/getSegmentsCount",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){var e=0,f=a.getTimeRange().startTime;a=a;var g=a.getTimeRange().startTime;while(a!==null&&g<c+f){var h=g;e++;a=b.getSegmentAfter(a);if(a)g=a.getTimeRange().startTime;else break;if(g<=h)return d}return Math.max(e,1)}f["default"]=a}),66);
__d("oz-player/strategies/OzStaticStreamSegmentsStrategy",["oz-player/strategies/getSegmentsCount"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!0};b.getSegmentsCount=function(a,b,d){a=this.$1.getNumber("seconds_to_stream");var e=this.$1.getNumber("segments_to_stream");a>0&&(e=c("oz-player/strategies/getSegmentsCount")(b,d,a,e));return e};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy",["oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/getSegmentsCount"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b,this.$3=new(c("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(a)}var b=a.prototype;b.isActive=function(a){return!0};b.getSegmentsCount=function(a,b,d){var e=c("oz-player/networks/OzBandwidthEstimator").getBandwidth(this.$1.getLegacyConfig()),f=c("oz-player/networks/OzBandwidthEstimator").getStandardDeviationOfBandwidth(),g=this.$1.getNumber("bandwidth_boundary_standard_deviation_factor"),h=this.$2.some(function(a){a=a.getBandwidth();return Math.abs(a-e)<f*g});h=h?this.$4(a,b,d):this.$3.getSegmentsCount(a,b,d);a=this.$5(b,e);return Math.min(h,a)};b.$4=function(a,b,d){a=this.$1.getNumber("seconds_to_stream_near_bandwidth_boundary");var e=this.$1.getNumber("segments_to_stream_near_bandwidth_boundary");a>0&&(e=c("oz-player/strategies/getSegmentsCount")(b,d,a,e));return e};b.$5=function(a,b){var c=Infinity;a=a.getByteRange();if(a){var d=a.endByte;if(d!=null){var e=this.$1.getNumber("per_stream_duration_target");d=d-a.startByte;e>1e-5&&d!==0&&(c=Math.ceil(e*b/(d*8)))}}return c};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBlockedRepresentationsManager",["oz-player/shims/OzEventEmitter","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=new Map(),this.$3=new Set(),this.$4=new Set(),this.$5=new(c("oz-player/shims/OzEventEmitter"))(),this.$6(a),this.$7(a)}var b=a.prototype;b.isBlocked=function(a){return this.$3.has(a)};b.handleError=function(a,b){if(this.$1!=null&&this.$3.size===this.$1-1)return!1;if(d("oz-player/utils/OzErrorUtils").isOzError(b)&&b.getType()==="OZ_NETWORK"){b=Number(b.getExtra().code);if(!isNaN(b)&&this.$2.has(b)){this.$3.has(a)||this.$8(a,b);return!0}}return!1};b.$8=function(a,b){var d,e=this;this.$3.add(a);(d=this.$5)==null?void 0:d.emit("representation_blocked",a);d=this.$2.get(b)||0;if(d>0){var f=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){e.$3["delete"](a),e.$4["delete"](f)},d);this.$4.add(f)}};b.applyRestriction=function(a){var b=this;return a.filter(function(a){return!b.$3.has(a.getID())})};b.onRepresentationBlocked=function(a){return this.$5?this.$5.addListener("representation_blocked",a):{remove:function(){}}};b.setAvailableRepresentationsCount=function(a){this.$1=a};b.destroy=function(){var a;(a=this.$5)==null?void 0:a.removeAllListeners();this.$5=null;for(var a=this.$4,b=Array.isArray(a),d=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(b){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;c("oz-player/shims/ozClearTimeout")(e)}this.$4.clear()};b.$6=function(a){var b=this;try{a=JSON.parse(a.getString("block_representation_status_codes_json"));Array.isArray(a)&&a.forEach(function(a){a=parseInt(a,10);isNaN(a)||b.$2.set(a,-1)})}catch(a){}};b.$7=function(a){var b=this;try{a=JSON.parse(a.getString("block_representation_status_codes_temporarily_json"));Object.entries(a).forEach(function(a){var c=a[0];a=a[1];c=parseInt(c,10);a=parseInt(a,10);!isNaN(c)&&!isNaN(a)&&b.$2.set(c,a)})}catch(a){}};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBufferAheadPriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=6,i=1e3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$OzBufferAheadPriorityStrategy$p_3=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzBufferAheadPriorityStrategy$p_5=function(){e.emit("state_changed")};e.$OzBufferAheadPriorityStrategy$p_4=b;e.$OzBufferAheadPriorityStrategy$p_1=d;e.$OzBufferAheadPriorityStrategy$p_3.addSubscriptions(e.$OzBufferAheadPriorityStrategy$p_1.addEventListener("progress",c("oz-player/shims/ozThrottle")(e.$OzBufferAheadPriorityStrategy$p_5,i)),e.$OzBufferAheadPriorityStrategy$p_1.addEventListener("timeupdate",c("oz-player/shims/ozThrottle")(e.$OzBufferAheadPriorityStrategy$p_5,i)));return e}var e=b.prototype;e.getName=function(){return"buffer_ahead"};e.setSourceBufferState=function(a){if(this.$OzBufferAheadPriorityStrategy$p_2)return;this.$OzBufferAheadPriorityStrategy$p_2=a;this.$OzBufferAheadPriorityStrategy$p_3.addSubscriptions(a.addEventListener("buffer_updated",c("oz-player/shims/ozThrottle")(this.$OzBufferAheadPriorityStrategy$p_5,i)))};e.isActive=function(){return!0};e.getPriority=function(){var a=this.$OzBufferAheadPriorityStrategy$p_2;if(!a)return 1;var b=this.$OzBufferAheadPriorityStrategy$p_1.getCurrentTime();a=a.getBufferedRanges();b=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(b,a);return b>=h?0:1};e.destroy=function(){this.$OzBufferAheadPriorityStrategy$p_3.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzBufferAheadTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!0};b.getBufferTarget=function(){return this.$1.getNumber("buffer_ahead_target")};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzBufferEndLimitStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(){return!0};b.getBufferTarget=function(){var a=this.$3();return this.$2>=a?this.$2-a:0};b.$3=function(){return this.$1.buffered.length===0?0:this.$1.buffered.end(0)};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(a){return!a.isPlaying()};b.getSegmentsCount=function(a,b,c){a=a.getCurrentTime();var d=this.$1.computeBufferTarget(),e=1,f=b;b=b.getTimeRange().startTime;while(f!==null&&b<d+a){f=c.getSegmentAfter(f);if(!f)break;b=f.getTimeRange().startTime;e++}return e};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzBufferTargetCalculator",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=0,this.$2=a,this.$3=b}var b=a.prototype;b.computeBufferTarget=function(){var a=this.$1;for(var b=this.$2,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(e.isActive()){a=e.getBufferTarget();break}}for(e=this.$3,d=Array.isArray(e),c=0,e=d?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(d){if(c>=e.length)break;b=e[c++]}else{c=e.next();if(c.done)break;b=c.value}b=b;a=b.adjustBufferTargetInSeconds(a)}this.$1=a;return a};b.handleEvent=function(a){for(var b=this.$3,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e.handleEvent(a)}};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var b=a.config;a=a.minimumBufferTargetSec;this.$2=1;this.$1=b;this.$3=a}var b=a.prototype;b.adjustBufferTargetInSeconds=function(a){var b;return Math.max((b=this.$3)!=null?b:this.$1.getNumber("buffer_target_constraint_minimum_sec"),a*this.$2)};b.handleEvent=function(a){var b=this.$2;switch(a){case"append_succeeded":b=Math.max(0,Math.min(1,b+this.$1.getNumber("buffer_target_constraint_append_succeeded_reward")));break;case"append_quota_exceeded":b=Math.max(0,Math.min(1,b-this.$1.getNumber("buffer_target_constraint_quota_exceeded_penalty")));break;default:a}this.$2=b};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzDenseLaneSingleRepresentationRestriction",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.applyRestriction=function(a){if(a.length<=0)return a.slice();var b=new Map();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=e.getDisplayLabel();if(b.has(f))continue;b.set(f,e)}return Array.from(b.values())};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzPausedStreamSegmentsCountStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(){return!this.$1.isPlaying()};b.getSegmentsCount=function(a,b,c){return this.$2.getNumber("paused_stream_segments_count")};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzPlayheadAtInterruptionDetector",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";var h=1;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$OzPlayheadAtInterruptionDetector$p_2=null;e.$OzPlayheadAtInterruptionDetector$p_3=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPlayheadAtInterruptionDetector$p_4=null;e.$OzPlayheadAtInterruptionDetector$p_1=b;b=d?d.addListener("enterBuffering",function(){e.$OzPlayheadAtInterruptionDetector$p_5()}):c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadAtInterruptionDetector$p_1,"waiting",function(){e.$OzPlayheadAtInterruptionDetector$p_5()});e.$OzPlayheadAtInterruptionDetector$p_3.addSubscriptions(b);e.$OzPlayheadAtInterruptionDetector$p_4=d;return e}var d=b.prototype;d.notifyStreamInterrupted=function(a){this.$OzPlayheadAtInterruptionDetector$p_2=a,this.$OzPlayheadAtInterruptionDetector$p_5()};d.notifyStreamResumed=function(){this.$OzPlayheadAtInterruptionDetector$p_2=null};d.$OzPlayheadAtInterruptionDetector$p_5=function(){if(this.$OzPlayheadAtInterruptionDetector$p_2!=null){var a=this.$OzPlayheadAtInterruptionDetector$p_2||0;Math.abs(this.$OzPlayheadAtInterruptionDetector$p_1.currentTime-a)<h&&this.emit("playheadAtInterruption",a)}};d.destroy=function(){this.$OzPlayheadAtInterruptionDetector$p_3.release(),this.$OzPlayheadAtInterruptionDetector$p_4=null};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzPlayingStatePriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;d=a.call(this)||this;d.$OzPlayingStatePriorityStrategy$p_1=new(c("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayingStatePriorityStrategy$p_3=function(){d.emit("state_changed")};d.$OzPlayingStatePriorityStrategy$p_2=b;d.$OzPlayingStatePriorityStrategy$p_1.addSubscriptions(d.$OzPlayingStatePriorityStrategy$p_2.addEventListener("playing",d.$OzPlayingStatePriorityStrategy$p_3),d.$OzPlayingStatePriorityStrategy$p_2.addEventListener("play",d.$OzPlayingStatePriorityStrategy$p_3),d.$OzPlayingStatePriorityStrategy$p_2.addEventListener("pause",d.$OzPlayingStatePriorityStrategy$p_3));return d}var d=b.prototype;d.isActive=function(){return!0};d.getName=function(){return"playing_state"};d.setSourceBufferState=function(a){};d.getPriority=function(){return this.$OzPlayingStatePriorityStrategy$p_2.isPlaying()?1:0};d.destroy=function(){this.$OzPlayingStatePriorityStrategy$p_1.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzPositionToViewportPriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,d){var e;e=a.call(this)||this;e.$OzPositionToViewportPriorityStrategy$p_3=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPositionToViewportPriorityStrategy$p_4=function(){e.emit("state_changed")};e.$OzPositionToViewportPriorityStrategy$p_2=b;e.$OzPositionToViewportPriorityStrategy$p_1=d;e.$OzPositionToViewportPriorityStrategy$p_3.addSubscriptions(b.addListener("state_changed",e.$OzPositionToViewportPriorityStrategy$p_4));return e}var d=b.prototype;d.isActive=function(){return!0};d.getName=function(){return"position_to_viewport"};d.setSourceBufferState=function(a){};d.getPriority=function(){var a=this.$OzPositionToViewportPriorityStrategy$p_1.getNumber("prioritize_by_viewport_static_penalty"),b=this.$OzPositionToViewportPriorityStrategy$p_2.getPositionIndexOfVideoFromViewportVertically();return a>0?b===-1?a*-1:0:b===-1?-Infinity:-1*b};d.destroy=function(){this.$OzPositionToViewportPriorityStrategy$p_3.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzPriorityCalculator",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d;d=a.call(this)||this;d.$OzPriorityCalculator$p_2=new(c("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPriorityCalculator$p_1=b;(b=d.$OzPriorityCalculator$p_2).addSubscriptions.apply(b,d.$OzPriorityCalculator$p_1.map(function(a){return a.addListener("state_changed",function(){d.emit("state_changed",d.compute(),a.getName())})}));return d}var d=b.prototype;d.setSourceBufferState=function(a){this.$OzPriorityCalculator$p_1.forEach(function(b){return b.setSourceBufferState(a)}),this.emit("state_changed",this.compute(),"source_buffer")};d.compute=function(){var a=this.$OzPriorityCalculator$p_1.reduce(function(a,b){b=b.isActive()?b.getPriority():0;return a+b},0);return Math.max(a,0)};d.destroy=function(){this.$OzPriorityCalculator$p_2.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzSingleCodecRestriction",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.applyRestriction=function(a){if(a.length<=0)return a.slice();var b=new Set(a.map(function(a){return g(a)})),c="av01",d=b.has(c)?c:b.values().next().value;return d==null?a.slice():a.filter(function(a){return g(a)===d})};return a}();function g(a){return a.getMimeCodecs().replace(/\..*$/,"")}f["default"]=a}),66);
__d("oz-player/strategies/OzStaleManifestBufferTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=b,this.$2=a}var b=a.prototype;b.isActive=function(){return this.$2.getRefreshDate()==null&&this.$1.getNumber("stale_mpd_buffer_ahead_target")>0};b.getBufferTarget=function(){return this.$1.getNumber("stale_mpd_buffer_ahead_target")};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzStartupBufferTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$3=b}var b=a.prototype;b.isActive=function(){var a=this.$1.isPlaying();a&&(this.$2=!0);return!this.$2};b.getBufferTarget=function(){return this.$3.getNumber("pre_start_buffer_ahead_target")};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzStreamSegmentsCountCalculator",[],(function(a,b,c,d,e,f){"use strict";var g=1;a=function(){function a(a){this.$1=a}var b=a.prototype;b.computeMin=function(a,b,c){var d=Number.MAX_VALUE;for(var e=this.$1,f=Array.isArray(e),h=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(f){if(h>=e.length)break;i=e[h++]}else{h=e.next();if(h.done)break;i=h.value}i=i;i.isActive(a)&&(d=Math.min(d,i.getSegmentsCount(a,b,c)))}return d===Number.MAX_VALUE?g:Math.max(d,g)};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzSupportedMimeCodecsRestriction",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.applyRestriction=function(a){return a.filter(function(a){a=MediaSource.isTypeSupported(a.getMimeCodecs());return!!a})};return a}();f["default"]=a}),66);
__d("oz-player/streams/OzEndOfStreamWatcher",["oz-player/manifests/OzAudioRepresentation","oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.$OzEndOfStreamWatcher$p_1=new Map();d.$OzEndOfStreamWatcher$p_4=!1;d.$OzEndOfStreamWatcher$p_2=b;d.$OzEndOfStreamWatcher$p_3=c;return d}var d=b.prototype;d.registerMediaStream=function(a){this.$OzEndOfStreamWatcher$p_1.has(a)&&c("oz-player/shims/ozvariant")(0,5191),this.$OzEndOfStreamWatcher$p_1.set(a,!1)};d.notifyRepresentationSwitched=function(a,b){this.$OzEndOfStreamWatcher$p_1.has(a)||c("oz-player/shims/ozvariant")(0,5192),(this.$OzEndOfStreamWatcher$p_3.getBool("mcm_in_play_codec_switch")||this.$OzEndOfStreamWatcher$p_3.getBool("enable_alternative_audio_tracks")&&b&&a.getCurrentRepresentation()instanceof c("oz-player/manifests/OzAudioRepresentation"))&&this.$OzEndOfStreamWatcher$p_1.set(a,!1),this.$OzEndOfStreamWatcher$p_5("end_of_stream_watcher","representation_switched")};d.notifyMediaStreamEnded=function(a,b){this.$OzEndOfStreamWatcher$p_1.has(a)||c("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher$p_1.set(a,!0),this.$OzEndOfStreamWatcher$p_5("end_of_stream_watcher","media_stream_ended:"+b)};d.$OzEndOfStreamWatcher$p_5=function(a,b){var c=this;if(this.$OzEndOfStreamWatcher$p_3.getBool("do_not_end_stream")){!this.$OzEndOfStreamWatcher$p_4&&this.$OzEndOfStreamWatcher$p_6()&&(this.$OzEndOfStreamWatcher$p_4=!0,this.emit("streamEnd"));return}var d=this.$OzEndOfStreamWatcher$p_2.getReadyState();d==="open"&&this.$OzEndOfStreamWatcher$p_6()&&this.$OzEndOfStreamWatcher$p_2.notifyEndOfStream(a,b).then(function(){c.emit("streamEnd")})["catch"](function(){c.emit("streamEnd")})};d.$OzEndOfStreamWatcher$p_6=function(){if(this.$OzEndOfStreamWatcher$p_1.size===0)return!1;for(var a=this.$OzEndOfStreamWatcher$p_1.values(),b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;if(!d)return!1}return!0};d.destroy=function(){this.$OzEndOfStreamWatcher$p_1.clear()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/streams/OzHandleUserRepresentationSwitch",["oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozReportUnexpectedError","oz-player/utils/OzErrorEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f,g){var h=this;this.$2=new(c("oz-player/utils/OzErrorEmitter"))();this.$5=null;this.$6=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$1=a;this.$3=b;this.$4=d;this.$7=e;this.$8=g;f.then(function(a){h.$5=a},function(){})["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,"OzHandleUserRepresentationSwitch SBM promise then - create")});this.$6.addSubscriptions(e.addListener("switchRepresentation",function(a,b){h.$9(a,b)}))}var b=a.prototype;b.destroy=function(){this.$6.release(),this.$6.engage()};b.onError=function(a){return this.$2.onError(a)};b.$9=function(a,b){if(a!=="user")return;a=this.$5;if(a==null)return;var d=this.$7.getRepresentationIDAtTime(this.$3.getCurrentTime()),e;for(var f=0;f<this.$4.length;f++)this.$4[f].getID()===d&&(e=this.$4[f]);if(e&&b&&(this.$8||e.getBandwidth()<b.getBandwidth())){d=e.getSegmentByTime(this.$3.getCurrentTime());d&&a.clearRangeWithWait([{fromTime:this.$3.getCurrentTime(),toTime:this.$3.getDuration()}])["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,"OzHandleUserRepresentationSwitch clearRangeWithWait catch")})}};return a}();g["default"]=a}),98);
__d("oz-player/manifests/IOzSegment",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return((a==null?void 0:a.getSequenceNumber())||0)===((b==null?void 0:b.getSequenceNumber())||0)}function b(a,b){return((a==null?void 0:a.getSequenceNumber())||0)>=((b==null?void 0:b.getSequenceNumber())||0)}f.isSequenceNumberEqual=a;f.isSequenceNumberGreaterOrEqual=b}),66);
__d("oz-player/networks/OzReadableStreamDataReader",["oz-player/networks/OzTransformStream","oz-player/utils/ozConcatUint8Arrays"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OzReadableStreamDataReader$p_1=[];c.$OzReadableStreamDataReader$p_2=b;return c}var d=b.prototype;d.onDataWritten=function(a){this.$OzReadableStreamDataReader$p_1.push(a)};d.onClose=function(){var a=this.$OzReadableStreamDataReader$p_1,b=c("oz-player/utils/ozConcatUint8Arrays")(a);b=b.buffer;a.length=0;this.$OzReadableStreamDataReader$p_2(b)};return b}(c("oz-player/networks/OzTransformStream"));g["default"]=a}),98);
__d("oz-player/networks/OzStreamingTask",["oz-player/loggings/OzLoggingUtils","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzPerformance","oz-player/utils/OzErrorUtils","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){this.$3=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),this.$5=!1,this.$9=null,this.$1=this.$2=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),this.$6=c("oz-player/shims/OzPerformance").now(),this.$7=b,this.$8=a,this.$9=d}var b=a.prototype;b.run=function(){var a=this.$3.getPromise(),b=this.$7;if(b){var e=c("oz-player/shims/OzPerformance").now()-this.$6;d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,b,"streaming_task",function(){},function(a){a.setTimeToRequestSent(Math.floor(e))})}this.$2.resolve();return a};b.getPromise=function(){return this.$3.getPromise()};b.cancel=function(){this.$3.getPromise()["catch"](function(){}),this.$3.reject(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAMING_TASK",description:"task cancelled",extra:{code:"OZ_ST-1"}})),this.$5=!0};b.finish=function(){this.$3.resolve()};b.isCancelled=function(){return this.$5};b.addStreamDeferred=function(a,b){var d=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),e=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$10({createStreamResult:a,changeStatusDeferred:d,createStreamDeferred:e,loggerProviderWithStreamContext:b});b=function(){return e.getPromise()};return{genStream:b,cancel:function(){if(a){var b=a.pausableStream;return b.pauseStream()}},getStatusChangePromise:function(){return d.getPromise()}}};b.$10=function(a){var b=this,e=a.createStreamResult,f=a.changeStatusDeferred,g=a.createStreamDeferred,h=a.loggerProviderWithStreamContext,i=a.loggingPayloads;a=this.$1.getPromise();var j=c("oz-player/shims/OzPerformance").now(),k=this.$1=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));k.getPromise()["catch"](function(){});a.then(function(){if(e){var a=e.pausableStream;e.loggingPayloads&&(i=e.loggingPayloads);g.resolve(a.getStream());b.$4=a;var f=c("oz-player/shims/OzPerformance").now(),k=b.$11(a.startStream());if(h){var l=function(c){var e=i;if(e){d("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes(c,e.getRequestUrl(),e.segments,f-j,a.getBytesStreamed(),e.getResponse());var g=b.$9;g&&g(c,e.getRequestUrl(),e.getResponse())}};d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(k,h,"fetch_stream",l,l)}return k}return null}).then(function(a){b.$4=null,k.resolve(),f.resolve(a||"cancelled")})["catch"](function(a){b.$4=null,b.$3.reject(a),k.reject(a),f.reject(a)})};b.$11=function(a){return a.then(function(a){a=a.statusPromise;return a.then(function(a){return a==="stream_done"?"done":"error"})})};return a}();g["default"]=a}),98);
__d("oz-player/scheduling/OzRoundRobinPriorityTaskQueue",["oz-player/shims/ozReportUnexpectedError"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){b===void 0&&(b=-1),this.$3=function(){},this.$4=[],this.$5=new Map(),this.$1=a,this.$2=b}var b=a.prototype;b.getHighestPriority=function(){return Math.max.apply(Math,this.$4.map(function(a){return a.queue.length?a.priority:-Infinity}))};b.enqueue=function(a,b){var d=this;b=b;b=this.$6(b);var e=this.$5.get(a);if(e===b)return;this.$5.has(a)&&this.remove(a);e=this.$7(b);var f=this.$4[e];f&&f.priority===b||(f={priority:b,queue:[]},this.$4.splice(e,0,f));this.$5.set(a,b);f.queue.push(a);a.getPromise().then(function(){d.remove(a)},function(){d.remove(a)})["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,"OzRoundRobinPriorityTaskQueue remove after task run")});this.$3(a,b>=this.$1?"immediate":"normal")};b.updatePriority=function(a,b){if(!this.$5.has(a))return;this.enqueue(a,b)};b.dequeue=function(){for(var a=0;a<this.$4.length;a++){var b=this.$4[a];if(b.queue.length){b=b.queue.shift();this.$5["delete"](b);return b}}return null};b.remove=function(a){var b=this.$5.get(a);if(b!==void 0){b=this.$7(b);b=this.$4[b];if(b&&b.queue){var c=b.queue.findIndex(function(b){return b===a});c>-1&&b.queue.splice(c,1)}this.$5["delete"](a)}};b.setOnTaskUpdated=function(a){this.$3=a};b.clearOnTaskUpdated=function(){this.setOnTaskUpdated(function(){})};b.getLength=function(){return this.$5.size};b.test_isEmpty=function(){return this.$5.size===0&&this.$4.every(function(a){return a.queue.length===0})};b.$7=function(a){a=a;a=this.$6(a);var b;for(b=0;b<this.$4.length;b++)if(a>=this.$4[b].priority)return b;return b};b.$6=function(a){a=a;this.$2>=0&&(a=Number.parseFloat(a.toFixed(this.$2)));return a};return a}();g["default"]=a}),98);
__d("oz-player/scheduling/OzSequentialTaskScheduler",["oz-player/shims/OzMaybeNativePromise","oz-player/shims/ozReportUnexpectedError","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$3=0;this.$1=a;a=b||{};b=a.taskTimeout;this.$4=b||0}var b=a.prototype;b.start=function(){this.$1.setOnTaskUpdated(this.$5.bind(this));var a=this.$1.dequeue();a&&this.$6(a,"immediate")};b.destroy=function(){this.$2&&this.$2.cancel(),this.$1.clearOnTaskUpdated()};b.$5=function(a,b){b=this.$6(a,b);b&&this.$1.remove(a)};b.$6=function(a,b){var d=this;if(this.$2&&b!=="immediate")return!1;this.$2&&this.$2.cancel();b=a.run()["catch"](function(a){});this.$4>0&&(b=c("oz-player/shims/OzMaybeNativePromise").race([b,new(c("oz-player/shims/OzMaybeNativePromise"))(function(a,b){c("oz-player/shims/ozSetTimeoutAcrossTransitions")(a,d.$4)})]));this.$3++;this.$2=a;b=b.then(function(){d.$3--;d.$2===a&&(d.$2=null);if(d.$3===0){var b=d.$1.dequeue();b&&d.$6(b,"immediate")}});b["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,"OzSequentialTaskScheduler task complete")});return!0};return a}();g["default"]=a}),98);
__d("oz-player/networks/OzStreamingTaskQueueProvider",["oz-player/scheduling/OzRoundRobinPriorityTaskQueue","oz-player/scheduling/OzSequentialTaskScheduler"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map(),j=2,k=2,l=6e4;function a(a){var b=h.get(a);if(!b){b=new(c("oz-player/scheduling/OzRoundRobinPriorityTaskQueue"))(j,k);var d=new(c("oz-player/scheduling/OzSequentialTaskScheduler"))(b,{taskTimeout:l});h.set(a,b);i.set(a,d);d.start()}return b}g.OZ_QUEUE_MAX_PRIORITY=j;g.getQueue=a}),98);
__d("oz-player/networks/OzStreamingTaskStateManager",["Promise","oz-player/networks/OzStreamingTask","oz-player/networks/OzStreamingTaskQueueProvider","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=this;this.$3=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$4=0;this.$9=!1;this.$10=null;var e=a.mimeType,f=a.priorityCalculator,g=a.loggerProvider,h=a.setCustomFetchStreamLoggingAttributes;a=a.config;this.$5=e;this.$1=f;this.$6=d("oz-player/networks/OzStreamingTaskQueueProvider").getQueue(this.$5);this.$7=g;this.$8=a;this.$10=h;this.$3.addSubscriptions(this.$1.addListener("state_changed",function(a,c){b.$11(a,c),b.$2&&b.$6.updatePriority(b.$2,b.$4)}))}var e=a.prototype;e.$12=function(){var a=[];a.push(c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$5));return a};e.startStreamDeferred=function(a){var b=a.debugName,c=a.segments,d=a.networkManager,e=a.segmentsLoggerProvider,f=a.mediaStreamType,g=a.dataAppendedCallback;a=a.dataAppendedErrorCallback;var h=this.$13(e),i=this.$12();c.length>0?d=d.createPausableStream({debugName:b,segments:c,pipeThroughRangeStreamProviders:i,loggerProvider:e,mediaStreamType:f,dataAppendedCallback:g,dataAppendedErrorCallback:a}):d=null;this.$9=!0;b=h.addStreamDeferred(d,e);return{genStream:b.genStream,cancel:b.cancel,getStatusChangePromise:this.$14(b.getStatusChangePromise)}};e.$13=function(a){var b=this.$2;this.$11(this.$1.compute(),"start_stream");!b||b.isCancelled()?(b=this.$2=new(c("oz-player/networks/OzStreamingTask"))(this.$8,a,this.$10),this.$6.enqueue(b,this.$4)):this.$6.updatePriority(b,this.$4);return b};e.$14=function(a){var c=this;return function(){return a().then(function(a){c.$15();return a})["catch"](function(a){c.$15();return(h||(h=b("Promise"))).reject(a)})}};e.finishTaskIfNoOngoingStream=function(){this.$9||this.$16()};e.destroy=function(){this.$3.release();var a=this.$2;this.$2=null;a&&this.$6.remove(a)};e.$15=function(){this.$9=!1,this.$11(this.$1.compute(),"end_stream"),this.$4<d("oz-player/networks/OzStreamingTaskQueueProvider").OZ_QUEUE_MAX_PRIORITY&&this.$16()};e.$16=function(){this.$2&&(this.$2.finish(),this.$2=null)};e.$11=function(a,b){if(a===this.$4)return;this.$4=a;this.$7&&this.$7.getOperationLogger("priority_changed").setPriorityFloat(this.$4).setInitiator(b).log()};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzStreamLengthStrategy",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e){b=b;e=e;var f=a.getNumber("segments_to_stream_under_playhead_threshold");a=a.getNumber("low_segment_stream_playhead_threshold");f>0&&d.getCurrentTime()<a&&(b=f);d=[];d.push(e);for(a=1;a<b;a++){f=c.getSegmentAfter(e);if(!f)break;e=f;d.push(e)}return d}f.getStreamingSegments=a}),66);
__d("oz-player/streams/OzMediaStreamLoopDriver",["oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var d=this;this.$2=null;this.$3=!1;this.$6=function(){var a;d.$7();if(d.$3)return;(a=d.$5)==null?void 0:a.start();a=d.$1.execute();var b=d.$1.getLoopInterval();b&&(d.$2=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){d.$6()},b));a&&a.then(d.$6)["catch"](function(b){d.$7();var a=d.$1.handleError(b);if(a)d.$2=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(d.$6,a);else{(a=d.$5)==null?void 0:a.setError(b);(a=d.$5)==null?void 0:a.log();d.$5=null;d.$3=!0}})};this.$1=a;this.$4=b}var b=a.prototype;b.start=function(){if(this.$3)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"restart is not implemented"});this.$5=this.$4.getOperationLogger("media_stream").start();this.$6()};b.stop=function(){var a;this.$7();this.$3=!0;(a=this.$5)==null?void 0:a.log();this.$5=null};b.$7=function(){this.$2&&(c("oz-player/shims/ozClearTimeout")(this.$2),this.$2=null)};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzRangeUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b.filter(function(b){return b.startTime<=a&&b.endTime>=a});return b!=null&&b.length>0?b[0]:null}f.getRangeForTime=a}),66);
__d("oz-player/streams/OzSegmentLocator",["oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzRangeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.getEndingSegment();return a!=null&&a.getSequenceNumber()!=null?a.getSequenceNumber():0}var h=function(a,b){a=a.getCurrentTime();return b?d("oz-player/utils/OzRangeUtils").getRangeForTime(a,b.getBufferedRanges()):null},i=function(a,b,c){b=h(a,b);c=c?c.getTimeRange().endTime:0;a=a.getCurrentTime()||0;c?a=c:b&&(a=b.endTime);return a};b=function(a,b,c,e,f,g,h,j){h=a.getPredictedSegmentAfter(g);if(h&&b.isPlaying())return h;j=i(b,e,g);h=f.getTimeRanges();e=d("oz-player/utils/OzNumericalRangeUtil").findDiffCoveredByRanges(b.getCurrentTime(),j,h.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(e>c)return null;g=a.getSegment(0);g&&g.getTimeRange().startTime>j&&(j=g.getTimeRange().startTime);return a.getSegmentByTime(j)};g.getEndingSequenceNumber=a;g.getTimeToQuery=i;g.getSegment=b}),98);
__d("oz-player/streams/OzSegmentUtils",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzURI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.reduce(function(a,b){var c;return((c=b==null?void 0:b.getSequenceNumber())!=null?c:0)>((c=a==null?void 0:a.getSequenceNumber())!=null?c:0)?b:a})}function b(a,b){var d=new(c("oz-player/manifests/OzSegmentOptions"))();return a.getPredictedSegmentAfter({getData:function(){return null},getByteRange:function(){return null},getSequenceNumber:function(){return b-1},getTimeRange:function(){return{endTime:0,startTime:0}},getURI:function(){return new(c("oz-player/shims/OzURI"))("")},getOptions:function(){return d}})}function d(a){a.getOptions().setSegmentNumDecisionTime(Date.now());return a}g.getMaxSegment=a;g.getSegmentForSequenceNumber=b;g.markSegmentCreateTime=d}),98);
__d("oz-player/utils/OzTaggedTimeRanges",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=[],this.$2=0,this.$3=0,this.$4=a?a:function(a,b){return a===b}}var b=a.prototype;b.add=function(a,b,c){if(b<a)return;if(b===a)return;if(this.$1.length===0){this.$1.push({startTime:a,endTime:b,tag:c});return}var d=0,e=0;for(var f=0;f<this.$1.length;f++){if(a===this.$1[f].startTime&&b===this.$1[f].endTime){d=f;e=f+1;break}a>=this.$1[f].startTime&&(d=f+1);b<=this.$1[f].endTime&&(e=f);if(b<this.$1[f].startTime)break}this.$1.splice(d,e-d,{startTime:a,endTime:b,tag:c});this.$5(d)};b.$5=function(a){a=a;var b=this.$1[a],c=null;a!==0&&(c=this.$1[a-1]);c!==null&&(this.$4(c.tag,b.tag)?c.endTime>=b.startTime&&(this.$1.splice(a-1,2,{startTime:c.startTime,endTime:Math.max(b.endTime,c.endTime),tag:b.tag}),a--):(c.endTime>b.startTime&&c.startTime===b.startTime?(this.$1.splice(a-1,1),a--):c.endTime>b.startTime&&this.$1.splice(a-1,1,{startTime:c.startTime,endTime:b.startTime,tag:c.tag}),c.endTime>b.endTime&&this.$1.splice(a+1,0,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})));c=null;a!==this.$1.length-1&&(c=this.$1[a+1]);c&&(this.$4(c.tag,b.tag)?c.startTime<=b.endTime&&this.$1.splice(a,2,{startTime:b.startTime,endTime:Math.max(c.endTime,b.endTime),tag:b.tag}):c.startTime<=b.endTime&&(c.endTime<b.endTime?(this.$1.splice(a,1,{startTime:b.startTime,endTime:c.startTime,tag:b.tag}),this.$1.push({startTime:c.endTime,endTime:b.endTime,tag:b.tag})):this.$1.splice(a+1,1,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})))};b.get=function(a){var b=a>=this.$3?this.$2:0,c=null;for(b=b;b<this.$1.length;b++)if(this.$1[b].startTime<=a&&a<this.$1[b].endTime){c=b;break}this.$2=c===null?0:c;this.$3=a;return c===null?null:this.$1[c].tag};b.getLength=function(){return this.$1.length};return a}();f["default"]=a}),66);
__d("oz-player/streams/OzMediaStream",["oz-player/manifests/IOzSegment","oz-player/networks/OzNetworkManager","oz-player/networks/OzReadableStreamDataReader","oz-player/networks/OzStreamingTaskStateManager","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/shims/OzDeferred","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzNetworkDiagnostics","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozClearTimeout","oz-player/shims/ozReportUnexpectedError","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozvariant","oz-player/strategies/OzStreamLengthStrategy","oz-player/streams/OzMediaStreamLoopDriver","oz-player/streams/OzSegmentLocator","oz-player/streams/OzSegmentUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil","oz-player/utils/OzTaggedTimeRanges"],(function(a,b,c,d,e,f,g){"use strict";var h=1e3,i=.2,j={AUDIO:1,CAPTION:3,VIDEO:0};a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this)||this;e.$OzMediaStream$p_2=0;e.$OzMediaStream$p_3=0;e.$OzMediaStream$p_4=null;e.$OzMediaStream$p_13=null;e.$OzMediaStream$p_15=!1;e.$OzMediaStream$p_16=null;e.$OzMediaStream$p_17=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzMediaStream$p_19=[];e.$OzMediaStream$p_22=0;e.$OzMediaStream$p_29=!0;e.$OzMediaStream$p_31=!1;e.$OzMediaStream$p_32=null;e.$OzMediaStream$p_33=new(c("oz-player/utils/OzErrorEmitter"))();e.$OzMediaStream$p_35=!0;e.$OzMediaStream$p_38=0;e.$OzMediaStream$p_39=null;e.$OzMediaStream$p_40=null;var f=b.config,g=b.sourceBufferManagerPromise,h=b.networkManager,i=b.playbackState,j=b.endOfStreamWatcher,k=b.bufferTargetCalculator,l=b.priorityCalculator,m=b.streamSegmentsCountCalculator,n=b.abrManager,o=b.representation,p=b.loggerProvider,q=b.segmentLocator,r=b.setCustomFetchStreamLoggingAttributes,s=b.blockedRepresentationsManager,t=b.dynamicVideoLibrary,u=b.shouldAppendOncePerStream,v=b.mediaStreamType,w=b.warningEmitter;b=b.mpd;e.$OzMediaStream$p_1=f;e.$OzMediaStream$p_5=g;e.$OzMediaStream$p_5.then(function(a){e.$OzMediaStream$p_6=a,e.$OzMediaStream$p_16&&e.$OzMediaStream$p_16.setSourceBuffer(a),e.$OzMediaStream$p_27.setSourceBufferState(a.getSourceBufferState()),e.$OzMediaStream$p_47()},function(){})["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,"OzMediaStream SBM promise then - create")});e.$OzMediaStream$p_12=h;e.$OzMediaStream$p_7=i;e.$OzMediaStream$p_14=j;(f=e.$OzMediaStream$p_14)==null?void 0:f.registerMediaStream(babelHelpers.assertThisInitialized(e));e.$OzMediaStream$p_26=k;e.$OzMediaStream$p_27=l;e.$OzMediaStream$p_28=m;e.$OzMediaStream$p_16=n;e.$OzMediaStream$p_18=p.cloneContext();e.$OzMediaStream$p_36=q;e.$OzMediaStream$p_25=new(c("oz-player/utils/OzTaggedTimeRanges"))(function(a,b){return a.id===b.id});e.$OzMediaStream$p_39=r;e.$OzMediaStream$p_40=s;e.$OzMediaStream$p_42=t;e.$OzMediaStream$p_43=u;e.$OzMediaStream$p_44=v;e.$OzMediaStream$p_45=w;e.$OzMediaStream$p_46=b;e.$OzMediaStream$p_17.addSubscriptions(e.$OzMediaStream$p_7.addEventListener("seeking",function(){var a=i.getCurrentTime(),b=null;e.$OzMediaStream$p_1.getBool("ignore_reset_after_seek_if_bufferahead")&&e.$OzMediaStream$p_8.canPredict()&&(e.$OzMediaStream$p_6?d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(a,e.$OzMediaStream$p_6.getSourceBufferState().getBufferedRanges())>0:!1)?b="no_reset_anchor":(b="reset_anchor",e.$OzMediaStream$p_41=Date.now(),e.$OzMediaStream$p_9!=null&&(e.$OzMediaStream$p_48(),e.$OzMediaStream$p_31=!1,e.$OzMediaStream$p_24&&e.$OzMediaStream$p_24.resolve()));e.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_element_event").setInitiator("seeking").setLength(a*1e3).setReason(b).setUserInfo({streamAnchorSegmentNumber:String((a=e.$OzMediaStream$p_9)==null?void 0:a.getSequenceNumber())}).log()}));e.$OzMediaStream$p_40!=null&&e.$OzMediaStream$p_17.addSubscriptions(e.$OzMediaStream$p_40.onRepresentationBlocked(function(a){return e.$OzMediaStream$p_49(a)}));e.$OzMediaStream$p_21=d("oz-player/utils/OzMimeUtil").getMimeType(o.getMimeCodecs());e.$OzMediaStream$p_30=new(c("oz-player/networks/OzStreamingTaskStateManager"))({mimeType:e.$OzMediaStream$p_21,priorityCalculator:e.$OzMediaStream$p_27,loggerProvider:e.$OzMediaStream$p_18,setCustomFetchStreamLoggingAttributes:e.$OzMediaStream$p_39,config:e.$OzMediaStream$p_1});e.$OzMediaStream$p_23=new(c("oz-player/streams/OzMediaStreamLoopDriver"))(babelHelpers.assertThisInitialized(e),e.$OzMediaStream$p_18);e.$OzMediaStream$p_50(o);return e}var e=b.prototype;e.start=function(){this.$OzMediaStream$p_23.start()};e.getCurrentRepresentation=function(){return this.$OzMediaStream$p_8};e.switchRepresentation=function(a,b){b===void 0&&(b=null),this.$OzMediaStream$p_50(a,"user",b)};e.onError=function(a){return this.$OzMediaStream$p_33.onError(a)};e.updateRunTimeConfigs=function(a){var b=a.streamDataHandler;a=a.resetStreamAnchor;b!==void 0&&(this.$OzMediaStream$p_34=b);a===!0&&this.$OzMediaStream$p_8.canApproximateId()&&(this.$OzMediaStream$p_48(),this.$OzMediaStream$p_10=null)};e.$OzMediaStream$p_50=function(a,b,d){var e,f=this;b===void 0&&(b="internal");d===void 0&&(d=null);b==="user"&&this.$OzMediaStream$p_48();(e=this.$OzMediaStream$p_20)==null?void 0:e.remove();this.$OzMediaStream$p_20=null;e=this.$OzMediaStream$p_18.cloneContext().setType(this.$OzMediaStream$p_21+";init");var g=e.cloneContext().setRepresentationID(a.getID()),h=a.getInitSegment(),i=h.getData(),j=e.getOperationLogger("stream_switch").setPreviousRepresentationID(this.$OzMediaStream$p_8?this.$OzMediaStream$p_8.getID():null).setInitiator(b).setRepresentationID(a.getID()).setReason(b==="internal"?this.$OzMediaStream$p_16&&this.$OzMediaStream$p_16.getLastEvaluationReason():b).start();this.$OzMediaStream$p_8=a;e=function(){var a;j.log();f.$OzMediaStream$p_26.handleEvent("append_succeeded");f.emit("initAppended");(a=f.$OzMediaStream$p_14)==null?void 0:a.notifyRepresentationSwitched(f,f.$OzMediaStream$p_46.isStaticMpd())};var k=function(b){var c;j.setError(b).log();f.$OzMediaStream$p_51(b);(c=f.$OzMediaStream$p_40)==null?void 0:c.handleError(a.getID(),b);if(a.getID()!==f.$OzMediaStream$p_8.getID()){(c=f.$OzMediaStream$p_24)==null?void 0:c.resolve()}};if(i==null){h=this.$OzMediaStream$p_12.request({debugName:"OzMediaStream/init/"+this.$OzMediaStream$p_44,segments:[h],pipeThroughRangeStreamProviders:[c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream$p_21)],loggerProvider:g,requestOptions:null,mediaStreamType:this.$OzMediaStream$p_44,dataAppendedCallback:e,dataAppendedErrorCallback:k});i=h.getStream()}this.emit("switchRepresentation",b,a);this.$OzMediaStream$p_52({data:i,mimeCodecs:a.getMimeCodecs(),clearSourceBufferRange:d,dataAppendedCallback:e,dataAppendedErrorCallback:k,loggerProvider:g.cloneContext(),appendTarget:0});if(d){h=a.getSegmentByTime(d[0]);if(h){b=this.$OzMediaStream$p_12.request({debugName:"OzMediaStream/startingSegment/"+this.$OzMediaStream$p_44,segments:[h],pipeThroughRangeStreamProviders:[c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream$p_21)],loggerProvider:g,requestOptions:null,mediaStreamType:this.$OzMediaStream$p_44,dataAppendedCallback:e,dataAppendedErrorCallback:k});i=b.getStream();this.$OzMediaStream$p_52({data:i,mimeCodecs:a.getMimeCodecs(),clearSourceBufferRange:null,dataAppendedCallback:e,dataAppendedErrorCallback:k,loggerProvider:g.cloneContext(),appendTarget:1})}}};e.getLoopInterval=function(){return this.$OzMediaStream$p_22};e.execute=function(){var a=this.$OzMediaStream$p_53();if(a){var b=this.$OzMediaStream$p_24=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));a.then(function(){return b.resolve()})["catch"](function(a){return b.reject(a)});return b.getPromise()}return null};e.$OzMediaStream$p_54=function(a){if(this.$OzMediaStream$p_16&&this.$OzMediaStream$p_29&&this.$OzMediaStream$p_15){a=this.$OzMediaStream$p_16.getBestRepresentation(a);if(this.$OzMediaStream$p_8!==a)return a}return null};e.$OzMediaStream$p_55=function(a){var b=this.$OzMediaStream$p_6?this.$OzMediaStream$p_6.getSourceBufferState():null,c=this.$OzMediaStream$p_26.computeBufferTarget();if(c<=0)return null;var e=null;a&&(e=this.$OzMediaStream$p_8.getCustomFieldFirstSegment());if(!e&&this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_36!=null){a=this.$OzMediaStream$p_35&&this.$OzMediaStream$p_7.isPlaying();return this.$OzMediaStream$p_36.getSegment(this.$OzMediaStream$p_8,this.$OzMediaStream$p_7,c,b,this.$OzMediaStream$p_9,this.$OzMediaStream$p_10,this.$OzMediaStream$p_1,a,this.$OzMediaStream$p_21)}else{e||(e=d("oz-player/streams/OzSegmentLocator").getSegment(this.$OzMediaStream$p_8,this.$OzMediaStream$p_7,c,b,this.$OzMediaStream$p_8,this.$OzMediaStream$p_9,this.$OzMediaStream$p_1,this.$OzMediaStream$p_32));if(this.$OzMediaStream$p_8.canPredict()){a=this.$OzMediaStream$p_10&&this.$OzMediaStream$p_10.getSequenceNumber()||0;c=e&&e.getSequenceNumber()||0;if(e&&this.$OzMediaStream$p_10&&a>=c){c=d("oz-player/streams/OzSegmentLocator").getEndingSequenceNumber(this.$OzMediaStream$p_8);return(c||0)>=a?this.$OzMediaStream$p_10:null}}}if(!e&&!this.$OzMediaStream$p_56()){c=this.$OzMediaStream$p_8.getEndingSegment();if(c&&this.$OzMediaStream$p_8.isEndingSegment(c)){a=c.getTimeRange().endTime;b=d("oz-player/streams/OzSegmentLocator").getTimeToQuery(this.$OzMediaStream$p_7,b,this.$OzMediaStream$p_9);b>=a&&!this.$OzMediaStream$p_56()&&(e=c)}}return e};e.$OzMediaStream$p_57=function(){return!this.$OzMediaStream$p_15};e.$OzMediaStream$p_58=function(a,b){var e;e=(e=b.fetchSingleSegment)!=null?e:!1;b=(b=b.preventRepresentationSwitch)!=null?b:!1;var f=[];if(e)f=[a];else{e=this.$OzMediaStream$p_28.computeMin(this.$OzMediaStream$p_7,a,this.$OzMediaStream$p_8);f=d("oz-player/strategies/OzStreamLengthStrategy").getStreamingSegments(this.$OzMediaStream$p_1,e,this.$OzMediaStream$p_8,this.$OzMediaStream$p_7,a);f=c("oz-player/networks/OzNetworkManager").getStreamableSegmentsRange(f);if(!b){e=this.$OzMediaStream$p_54(f);if(e){this.$OzMediaStream$p_50(e);a=this.$OzMediaStream$p_55(!1);if(!a)return[];else return this.$OzMediaStream$p_58(a,{fetchSingleSegment:!1,preventRepresentationSwitch:!0})}}}return f};e.$OzMediaStream$p_59=function(){var a=this,b=function(b){b==null?void 0:b.remove(),a.$OzMediaStream$p_20===b&&(a.$OzMediaStream$p_20=null)};b(this.$OzMediaStream$p_20);var d=null;return new(c("oz-player/shims/OzMaybeNativePromise"))(function(c,e){d=a.getCurrentRepresentation().addUpdateListener(function(){b(d),c()}),a.$OzMediaStream$p_20=d})["catch"](function(a){b(d);throw a})};e.$OzMediaStream$p_53=function(){var a=this,b=this.$OzMediaStream$p_6?this.$OzMediaStream$p_6.getSourceBufferState():null;if(this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_10&&this.$OzMediaStream$p_8.isEndingSegment(this.$OzMediaStream$p_10)){this.endStream("pdash_ending_segment_had_error");this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("end1").setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return}if(this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_9&&this.$OzMediaStream$p_8.isEndingSegment(this.$OzMediaStream$p_9)){this.endStream("pdash_anchor_segment_is_ending_segment");this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("end2").setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return}var e=this.$OzMediaStream$p_57(),f=this.$OzMediaStream$p_55(e);if(this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_11!=null&&d("oz-player/manifests/IOzSegment").isSequenceNumberGreaterOrEqual(f,this.$OzMediaStream$p_11)){this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("segment_end").setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return}d("oz-player/manifests/IOzSegment").isSequenceNumberEqual(f,this.$OzMediaStream$p_37)?this.$OzMediaStream$p_38++:this.$OzMediaStream$p_38=0;this.$OzMediaStream$p_37=f;this.$OzMediaStream$p_7.isPlaying()&&this.$OzMediaStream$p_38>0&&this.$OzMediaStream$p_18.cloneContext().getOperationLogger("get_segment_to_stream_same_segment").setReason((f==null?void 0:f.getSequenceNumber())!=null?String(f==null?void 0:f.getSequenceNumber()):null).setLength(this.$OzMediaStream$p_38).setRepresentationID(this.$OzMediaStream$p_8.getID()).setSegmentStartTime(f==null?void 0:f.getTimeRange().startTime).setSegmentEndTime(f==null?void 0:f.getTimeRange().endTime).log();if(this.$OzMediaStream$p_31){var g;this.$OzMediaStream$p_22=h;this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("ongoing_stream").setReason(((g=this.$OzMediaStream$p_9)==null?void 0:g.getSequenceNumber())!=null?String((g=this.$OzMediaStream$p_9)==null?void 0:g.getSequenceNumber()):null).setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return null}if(!f||this.$OzMediaStream$p_31){if(this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_1.getBool("ms_promise_for_null")){var i=this.$OzMediaStream$p_1.getNumber("ms_promise_for_null_ms");return new(c("oz-player/shims/OzMaybeNativePromise"))(function(b,d){var e=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){c("oz-player/shims/ozClearTimeout")(e),b()},i?i:(a.$OzMediaStream$p_8.getMaxGopSec()||1)*1e3)})}this.$OzMediaStream$p_22=h;this.$OzMediaStream$p_31||this.$OzMediaStream$p_30.finishTaskIfNoOngoingStream();return this.$OzMediaStream$p_59()}this.$OzMediaStream$p_22=0;var j=this.$OzMediaStream$p_58(f,{fetchSingleSegment:e});if(j.length===0){this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("no_stream_segments").setReason(((g=this.$OzMediaStream$p_9)==null?void 0:g.getSequenceNumber())!=null?String((f=this.$OzMediaStream$p_9)==null?void 0:f.getSequenceNumber()):null).setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return this.$OzMediaStream$p_59()}this.$OzMediaStream$p_15=!0;var k=j[j.length-1]||null,l=this.$OzMediaStream$p_8,m=function(){return l.isEndingSegment(k)};j.length!==0||c("oz-player/shims/ozvariant")(0,23148);g=j[0];f=g.getTimeRange().startTime;var n=k.getTimeRange().endTime,o={startTime:f,endTime:n,tag:{id:this.$OzMediaStream$p_8.getID()}},p=function(b){v.setAppendedBufferMs(Math.round(b.appendedSec*1e3)),v.log(),a.$OzMediaStream$p_26.handleEvent("append_succeeded"),j.forEach(function(b){a.emit("SegmentAppended",a.$OzMediaStream$p_60(b,o))}),m()&&a.endStream("appended_ending_segment"),a.$OzMediaStream$p_61(o,b)},q=function(b){v.setError(b).log();var c=t||s;c&&c.cancel();a.$OzMediaStream$p_51(b)},r=this.$OzMediaStream$p_18.cloneContext();r.setRepresentationID(this.$OzMediaStream$p_8.getID());r.setSegmentStartTime(f).setSegmentEndTime(n);var s,t;!e?(t=this.$OzMediaStream$p_30.startStreamDeferred({debugName:"OzMediaStream/streamableSegments/"+this.$OzMediaStream$p_44,segments:j,networkManager:this.$OzMediaStream$p_12,sourceBufferState:b,playbackState:this.$OzMediaStream$p_7,segmentsLoggerProvider:r.cloneContext(),mediaStreamType:this.$OzMediaStream$p_44,dataAppendedCallback:p,dataAppendedErrorCallback:q}),this.$OzMediaStream$p_13=s):(s=this.$OzMediaStream$p_12.request({debugName:"OzMediaStream/streamableSegments/"+this.$OzMediaStream$p_44+"/prefetch",segments:j,pipeThroughRangeStreamProviders:[c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream$p_21)],loggerProvider:r.cloneContext(),requestOptions:null,mediaStreamType:this.$OzMediaStream$p_44,dataAppendedCallback:p,dataAppendedErrorCallback:q}),this.$OzMediaStream$p_13=s);this.$OzMediaStream$p_31=!0;var u=this.$OzMediaStream$p_62(g,k,j.length),v=r.getOperationLogger("queued_append");v.start().setReason(this.$OzMediaStream$p_16&&this.$OzMediaStream$p_16.getLastEvaluationReason());var w=function(c,b){a.$OzMediaStream$p_52({data:c,mimeCodecs:b,clearSourceBufferRange:null,dataAppendedCallback:p,dataAppendedErrorCallback:q,loggerProvider:r.cloneContext(),appendTarget:u})},x;!!t||!!s||c("oz-player/shims/ozvariant")(0,23147);var y=this.$OzMediaStream$p_8.getMimeCodecs();t?(t.genStream().then(function(a){return w(a,y)})["catch"](function(b){return a.$OzMediaStream$p_33.emitError(b)}),x=t.getStatusChangePromise()):s&&(w(s.getStream(),y),x=s.getStatusChangePromise());!x&&c("oz-player/shims/ozvariant")(0,51928);f=x.then(function(b){a.$OzMediaStream$p_63(b,k);return a.$OzMediaStream$p_64()}).then(function(){a.$OzMediaStream$p_2=0});return f["catch"](function(b){var c,d=a.$OzMediaStream$p_9;a.$OzMediaStream$p_65(k);(c=a.$OzMediaStream$p_40)==null?void 0:c.handleError(l.getID(),b);return a.$OzMediaStream$p_66(b,k,d)})};e.handleError=function(a){var b=this.$OzMediaStream$p_18.getOperationLogger("media_stream_loop_error");b.setError(a).setResult("failed").log();return this.$OzMediaStream$p_1.getNumber("loop_body_handle_error_interval_ms")};e.$OzMediaStream$p_66=function(a,b,e){var f=this;this.$OzMediaStream$p_31=!1;var g=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),h=d("oz-player/utils/OzErrorUtils").getNormalizedErrorAndCode(a),i=h[0],j=h[1],k=d("oz-player/utils/OzErrorUtils").getOzErrorWithMIMEType(i,this.$OzMediaStream$p_21),l=function(b){f.$OzMediaStream$p_2++;f.$OzMediaStream$p_18.getOperationLogger("media_stream").setInitiator("fetch_stream_"+(b.behavior!=null?b.behavior:"default")).setLength(b.timeoutMs).setReason(""+k.getDescription()).setError(k).setCode(j.length>0?Number.parseInt(j,10):null).setType(f.$OzMediaStream$p_21).log();if(b.behavior==="retry_failed_request")f.$OzMediaStream$p_9=e;else if(b.behavior==="recover_failed_request"&&d("oz-player/utils/OzErrorUtils").isOzError(a)){var h;h=(h=a.getExtra())==null?void 0:h.headers;h=c("oz-player/shims/OzNetworkDiagnostics").getNextValidSegmentId(h);h!=null&&(f.$OzMediaStream$p_9=d("oz-player/streams/OzSegmentUtils").getSegmentForSequenceNumber(f.$OzMediaStream$p_8,h-1))}c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){f.emit("streamErrorRetry",k);return g.resolve()},b.timeoutMs)};this.$OzMediaStream$p_4!==j?(this.$OzMediaStream$p_4=j,this.$OzMediaStream$p_3=1):this.$OzMediaStream$p_3++;h=!0;var m=function(){h=!1};i={consecutiveFailuresForErrorCode:this.$OzMediaStream$p_3,endStream:function(){m(),f.$OzMediaStream$p_10=b,f.$OzMediaStream$p_11=b,f.endStream("streamError_event_object"),g.resolve()},error:k,isInitialRequest:!1,retry:function(a){var b;m();l({timeoutMs:(b=a==null?void 0:a.waitMs)!=null?b:0,behavior:a==null?void 0:a.behavior})},retryAttemptCount:this.$OzMediaStream$p_2};this.emit("streamError",i);h&&(this.$OzMediaStream$p_33.emitError(k),this.$OzMediaStream$p_2=0,g.resolve());return g.getPromise()};e.$OzMediaStream$p_65=function(a){this.$OzMediaStream$p_48();this.$OzMediaStream$p_10=a;this.$OzMediaStream$p_30.finishTaskIfNoOngoingStream();a=this.$OzMediaStream$p_6;a&&a.cancelOperationAndCleanQueue(this.$OzMediaStream$p_18)};e.$OzMediaStream$p_63=function(a,b){a==="done"&&(this.$OzMediaStream$p_9=b)};e.$OzMediaStream$p_64=function(){this.$OzMediaStream$p_31=!1};e.$OzMediaStream$p_52=function(a){this.$OzMediaStream$p_19.push(a),this.$OzMediaStream$p_6&&this.$OzMediaStream$p_47()};e.$OzMediaStream$p_61=function(a,b){if(a==null)return;this.$OzMediaStream$p_8.canPredict()&&b.startTime_UNSAFE&&b.endTime_UNSAFE?this.$OzMediaStream$p_25.add(b.startTime_UNSAFE,b.endTime_UNSAFE,a.tag):this.$OzMediaStream$p_25.add(a.startTime,a.endTime,a.tag)};e.$OzMediaStream$p_47=function(){var a=this;this.$OzMediaStream$p_19.forEach(function(b){var d=b.data,e=b.mimeCodecs,f=b.clearSourceBufferRange,g=b.dataAppendedCallback,h=b.dataAppendedErrorCallback,i=b.loggerProvider;b=b.appendTarget;d=d instanceof Uint8Array||a.$OzMediaStream$p_34==null?d:d.pipeThrough(new(c("oz-player/networks/OzReadableStreamDataReader"))(a.$OzMediaStream$p_34.bind(a,a.$OzMediaStream$p_8)));a.$OzMediaStream$p_6&&a.$OzMediaStream$p_6.queueData(d,e,f,i,b).then(function(a){if(!a)return;g(a)})["catch"](function(a){h(a)})});this.$OzMediaStream$p_19=[]};e.$OzMediaStream$p_67=function(){var a=this.$OzMediaStream$p_6;if(!a)return c("oz-player/shims/OzMaybeNativePromise").resolve();var b=this.$OzMediaStream$p_7.getCurrentTime(),d=[{fromTime:0,toTime:b}],e=this.$OzMediaStream$p_1.getNumber("clear_buffer_around_playhead_boundary_ms");if(e>0){e=e/1e3;var f=a.getSourceBufferState();f=f.getBufferedRanges();f=f.length>=1?f[f.length-1].endTime:b;d=[{fromTime:0,toTime:Math.max(0,b-e)}];b+e<f&&d.push({fromTime:b+e,toTime:f})}return a.clearRangeWithWait(d)};e.$OzMediaStream$p_68=function(a){return!1};e.$OzMediaStream$p_51=function(a){var b=this;if(d("oz-player/utils/OzErrorUtils").isOzError(a)&&a.getType()==="OZ_SOURCE_BUFFER_QUOTA_EXCEEDED"){this.emit("streamErrorRetry",d("oz-player/utils/OzErrorUtils").getOzErrorWithMIMEType(a,this.$OzMediaStream$p_21));this.$OzMediaStream$p_26.handleEvent("append_quota_exceeded");var e=this.$OzMediaStream$p_67();e.then(function(){b.restartLoopBody()})["catch"](function(a){a=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR",description:"Stream append quota exceeded: "+String(a),extra:{originalError:a,code:c("oz-player/utils/OzCustomErrorCode").STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR}});b.$OzMediaStream$p_33.emitError(a)})}else if(d("oz-player/utils/OzErrorUtils").isOzError(a)&&a.getType()==="OZ_CANCELLED")return;else if(d("oz-player/utils/OzErrorUtils").isOzError(a)&&a.getType()==="OZ_SOURCE_BUFFER_CHANGE_TYPE"&&this.$OzMediaStream$p_1.getBool("mcm_in_play_codec_switch"))this.$OzMediaStream$p_33.emitError(a);else if(this.$OzMediaStream$p_1.getBool("emit_caption_parse_errors_as_warning")&&d("oz-player/utils/OzErrorUtils").isOzError(a)&&a.getType()==="OZ_WEBVTT_CAPTION_PARSE_ERROR"){c("oz-player/shims/ozReportUnexpectedError")(a,"OzMediaStream append error callback: OZ_WEBVTT_CAPTION_PARSE_ERROR branch","warn");(e=this.$OzMediaStream$p_45)==null?void 0:e.emitError(a)}else c("oz-player/shims/ozReportUnexpectedError")(a,"OzMediaStream append error callback","warn"),this.$OzMediaStream$p_68(a)&&this.$OzMediaStream$p_33.emitError(a)};e.$OzMediaStream$p_62=function(a,b,c){var d=0;if(this.$OzMediaStream$p_43)return Infinity;var e=this.$OzMediaStream$p_1.getNumber("appends_per_segment");if(e>0){a=a.getByteRange();b=b.getByteRange();a&&b&&b.endByte!=null&&(d=Math.ceil((b.endByte-a.startByte+1)/(c*e)))}d===0&&(d=this.$OzMediaStream$p_1.getNumber("append_byte_target_without_range"));return d};e.getIsAdaptationEnabled=function(){return this.$OzMediaStream$p_29};e.enableAdaptation=function(){this.$OzMediaStream$p_29=!0};e.disableAdaptation=function(){this.$OzMediaStream$p_29=!1};e.destroy=function(){this.$OzMediaStream$p_23.stop(),this.$OzMediaStream$p_5.then(function(a){a.destroy()},function(){})["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,"OzMediaStream SBM promise then - destroy")}),this.$OzMediaStream$p_30.destroy(),this.$OzMediaStream$p_17.release(),this.$OzMediaStream$p_17.engage(),this.removeAllListeners(),this.$OzMediaStream$p_20&&(this.$OzMediaStream$p_20.remove(),this.$OzMediaStream$p_20=null)};e.getRepresentationIDAtTime=function(a){var b=this.$OzMediaStream$p_25.get(a);if(!b){var c=this.$OzMediaStream$p_8.getTimeRanges();c=c[c.length-1];var d=.001;c&&a>=c.endTime&&a<=this.$OzMediaStream$p_7.getDuration()+d&&(b=this.$OzMediaStream$p_25.get(c.endTime-d))}return b?b.id:null};e.endStream=function(a){var b;(b=this.$OzMediaStream$p_14)==null?void 0:b.notifyMediaStreamEnded(this,a);this.$OzMediaStream$p_69()};e.endStreamIfBufferedToEndTime=function(){var a=this.$OzMediaStream$p_8.getTimeRanges();if(a.length>0){a=a[a.length-1].endTime;if(this.$OzMediaStream$p_6){var b=this.$OzMediaStream$p_6.getSourceBufferState().getBufferedRanges();b.length>0&&(Math.abs(b[b.length-1].endTime-a)<i&&this.endStream("buffered_to_end_time"))}}};e.$OzMediaStream$p_60=function(a,b){return{type:this.$OzMediaStream$p_21.indexOf("audio")===0?j.AUDIO:this.$OzMediaStream$p_21.indexOf("video")===0?j.VIDEO:j.CAPTION,segment:a,sourceBuffer:(a=(a=this.$OzMediaStream$p_6)==null?void 0:(a=a.getDebug())==null?void 0:a.SourceBuffer)!=null?a:null,timeRange:b}};e.$OzMediaStream$p_48=function(){this.$OzMediaStream$p_9=null};e.restartLoopBody=function(){this.$OzMediaStream$p_48(),this.$OzMediaStream$p_31=!1,this.$OzMediaStream$p_13&&this.$OzMediaStream$p_13.cancel(),this.$OzMediaStream$p_22!==0&&this.$OzMediaStream$p_24&&this.$OzMediaStream$p_24.resolve()};e.$OzMediaStream$p_69=function(){if(this.$OzMediaStream$p_6){var a=this.$OzMediaStream$p_6.getSourceBufferState().getBufferedRanges();a.length>0&&(this.$OzMediaStream$p_32=a[a.length-1].endTime)}};e.$OzMediaStream$p_56=function(){return this.$OzMediaStream$p_32!==null};e.$OzMediaStream$p_49=function(a){this.$OzMediaStream$p_8.getID()===a&&this.$OzMediaStream$p_16!=null&&this.$OzMediaStream$p_50(this.$OzMediaStream$p_16.getBestRepresentation())};e.setEnableLiveheadCatchup=function(a){this.$OzMediaStream$p_35=a};e.clearSourceBufferRange=function(a,b){var d=this.$OzMediaStream$p_6;return d?d.clearRangeWithWait([{fromTime:a,toTime:b}]):c("oz-player/shims/OzMaybeNativePromise").resolve()};e.getDebug=function(){return{SourceBufferManager:this.$OzMediaStream$p_6,MediaStreamAbrManager:this.$OzMediaStream$p_16}};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/streams/OzPredictedSegmentLocator",["oz-player/streams/OzSegmentLocator","oz-player/streams/OzSegmentUtils","oz-player/utils/OzSourceBufferUtil"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=0;for(var d in a){var e;if(d===b)continue;c=Math.max(c,(e=a[d].lastSkippedToSegmentNumber)!=null?e:0)}return c}function i(a,b){var c=null;for(var d in a){if(d===b)continue;a[d].inBufferAheadTimeSince!=null&&(c=c!=null?Math.min(c,a[d].inBufferAheadTimeSince):a[d].inBufferAheadTimeSince)}return c}a=function(){function a(a){this.$5={};var b=a.videoNode,c=a.liveLatencyManager,d=a.loggerProvider;a=a.dynamicVideoLibrary;this.$1=b;this.$2=c;this.$3=d;this.$4=a}var b=a.prototype;b.getSegment=function(a,b,c,d,e,f,g,h,i){var j;this.$5[i]==null&&(this.$5[i]={lastSkippedToSegmentNumber:null,inBufferAheadTimeSince:null});(j=this.$2)==null?void 0:j.setEnableCatchup(h);j=this.$6(a,b,c,d,e,f,g,h,i);(a=j.segment)==null?void 0:a.getOptions().setSegmentNumDecisionTime(Date.now());j.segment===null&&this.$3.getOperationLogger("segment_locator").setInitiator(j.initiator).setReason(j.reason).setType(i).setUserInfo(j.userInfo).log();b=this.$4;if(j.segment&&b!=null){c=j.segment.getOptions();c.setIsDVLEnabled(b.shouldRequestDynamicInfo(i))}return j.segment};b.$6=function(a,b,c,e,f,g,j,k,l){var m,n=b.getCurrentTime(),o=this.$2==null?!1:this.$2.shouldEnableCursorBasedCatchup(),p=e!=null?d("oz-player/utils/OzSourceBufferUtil").getTotalBufferAheadOfPosition(e.getBufferedRanges(),b.getCurrentTime(),j):{bufferAheadSec:0,bufferedOffset:0},q=p.bufferAheadSec;p=p.bufferedOffset;var r=null,s=null,t=this.$2?this.$2.enabled():!0,u=a.getPredictedSegmentAfter(f),v=d("oz-player/streams/OzSegmentUtils").getSegmentForSequenceNumber(a,j.getNumber("pdash_download_cursor_between_catchups_seg")>0?h(this.$5):h(this.$5,l)),w=!0,x=null;if(o&&k&&((m=u)==null?void 0:m.getSequenceNumber())!=null&&((m=(m=u)==null?void 0:m.getSequenceNumber())!=null?m:0)<=((m=v==null?void 0:v.getSequenceNumber())!=null?m:0)){u=v;r="paired_catchup";this.$3.getOperationLogger("segment_locator").setInitiator(r).setUserInfo({bufferAheadSec:String(q),bufferedOffset:String(p)}).setLength(((m=v==null?void 0:v.getSequenceNumber())!=null?m:0)-((m=(m=u)==null?void 0:m.getSequenceNumber())!=null?m:0)).setType(l).log();w=!1;x=r}else if(o&&k&&t&&u!=null&&((m=this.$2)==null?void 0:m.isBehindPreferredLiveHeadLatencyWithTolerance())){if(this.$2&&q>this.$2.getPreferredLiveHeadLatencySec()&&p==0)return{segment:null,initiator:"catchup_pause",userInfo:{bufferAheadSec:String(q),bufferedOffset:String(p)}};o=a.getEndingSegment();k=d("oz-player/streams/OzSegmentUtils").getMaxSegment([o,u]);m=j.getNumber("pdash_download_cursor_between_catchups_seg")===0||((m=v==null?void 0:v.getSequenceNumber())!=null?m:0)+j.getNumber("pdash_download_cursor_between_catchups_seg")<((v=o==null?void 0:o.getSequenceNumber())!=null?v:0);if(m){if(((o=k==null?void 0:k.getSequenceNumber())!=null?o:0)>((m=(v=u)==null?void 0:v.getSequenceNumber())!=null?m:0)){this.$5[l].lastSkippedToSegmentNumber=(o=k==null?void 0:k.getSequenceNumber())!=null?o:0;this.$3.getOperationLogger("segment_locator").setInitiator("catchup").setUserInfo({bufferAheadSec:String(q),bufferedOffset:String(p)}).setLength(((v=k==null?void 0:k.getSequenceNumber())!=null?v:0)-((o=(m=u)==null?void 0:m.getSequenceNumber())!=null?o:0)).setType(l).log()}u=k;r="catchup";w=!1;x=r}}else if(f==null){u=a.getSegmentByTime(n);r="1st_run";v=a.getTimeRanges();s={approx:String(a.canApproximateId()),ranges:String(v.length),mpdStartTime:v.length>0?String(v[v.length-1].startTime):null,mpdEndTime:v.length>0?String(v[v.length-1].endTime):null};this.$5[l].lastSkippedToSegmentNumber=(o=(m=u)==null?void 0:m.getSequenceNumber())!=null?o:0}w&&(w=t,x="stream_state");if(w&&q>c){this.$5[l].inBufferAheadTimeSince==null&&(this.$5[l].inBufferAheadTimeSince=Date.now());return{segment:null,initiator:"buffer_ahead_rule",userInfo:{bufferAheadSec:String(q),bufferedOffset:String(p),lastMaxSegNum:String(h(this.$5,l)),segment:u?String(u.getSequenceNumber()):null,computedBufferAheadTarget:String(c)}}}else!w&&q>c&&this.$3.getOperationLogger("segment_locator").setUserInfo({bufferAheadSec:String(q),bufferedOffset:String(p),computedBufferAheadTarget:String(c)}).setReason("disabled_buffer_ahead_rule:"+(x||"")).setType(l).log();k=g&&g.getSequenceNumber()||0;f=u&&u.getSequenceNumber()||0;if(u&&g&&k>=f){n=d("oz-player/streams/OzSegmentLocator").getEndingSequenceNumber(a);return(n||0)>=k?{segment:g}:{segment:null,initiator:"mpd_refresh",userInfo:{leSegNum:String(k)}}}v=e?d("oz-player/utils/OzSourceBufferUtil").getTotalInBufferedRanges(e.getBufferedRanges()):0;m=e?d("oz-player/utils/OzSourceBufferUtil").getTotalBufferAheadOfPosition(e.getBufferedRanges(),b.getCurrentTime(),j).bufferAheadSec:0;o=i(this.$5,l);t=Date.now();if(j.getNumber("download_cursor_total_buffer_max_sec")!=0&&j.getNumber("download_cursor_total_buffer_max_sec")<m||j.getNumber("download_cursor_buffer_ahead_time_max_sec")!=0&&o!=null&&j.getNumber("download_cursor_buffer_ahead_time_max_sec")<(t-o)/1e3){this.$5[l].lastSkippedToSegmentNumber=(x=(w=u)==null?void 0:w.getSequenceNumber())!=null?x:0;this.$3.getOperationLogger("segment_locator").setUserInfo({bufferAheadSec:String(q),bufferedOffset:String(p),totalBufferedSec:String(v),computedBufferAheadTarget:String(c),inBufferAheadElapsedTime:String((t-((f=o)!=null?f:0))/1e3)}).setReason("force_paired_catchup").setType(l).log()}this.$5[l].inBufferAheadTimeSince=null;return{segment:u,initiator:r?r:void 0,userInfo:s?s:void 0}};return a}();g.OzPredictedSegmentLocator=a}),98);
__d("oz-player/utils/getRepresentationInCache",["oz-player/networks/RequestParamCreator"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("oz-player/networks/RequestParamCreator"))();function a(a,b){b===void 0&&(b=null);return a.find(function(a){a=a.getInitSegment();var c=a&&a.getByteRange();return a&&c&&b?b.hasCacheValue(h.createRequestParam(a.getURI(),c).uri.toString()):!1})||null}g["default"]=a}),98);
__d("oz-player/Player",["Promise","oz-player/configs/OzPlayerConfig","oz-player/drm/OzDrmManager","oz-player/loggings/OzDevConsolePerfLogger","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/loggings/OzOperationLoggerObserver","oz-player/manifests/OzDynamicVideoLibrary","oz-player/manifests/OzVideoRepresentation","oz-player/media_source/MediaSourceManager","oz-player/media_source/OzMediaSeekableRangeManager","oz-player/networks/OzClientClock","oz-player/networks/OzNetworkManager","oz-player/parsers/OzMpdParser","oz-player/parsers/OzMpdUpdater","oz-player/parsers/OzXmlParserImplDOMParser","oz-player/playback_controls/OzClearSourceBufferOnSeekManager","oz-player/playback_controls/OzLiveLatencyManager","oz-player/playback_controls/OzPlaybackTimeRangeManager","oz-player/playback_controls/OzPlayheadManager","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzPerformance","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/OzUuid","oz-player/shims/ozClearTimeout","oz-player/shims/ozReportUnexpectedError","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozvariant","oz-player/states/OzObservedPlaybackState","oz-player/states/OzPositionToViewport","oz-player/strategies/OzAbrManager","oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy","oz-player/strategies/OzBlockedRepresentationsManager","oz-player/strategies/OzBufferAheadPriorityStrategy","oz-player/strategies/OzBufferAheadTargetStrategy","oz-player/strategies/OzBufferEndLimitStrategy","oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy","oz-player/strategies/OzBufferTargetCalculator","oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint","oz-player/strategies/OzBufferingDetector","oz-player/strategies/OzDenseLaneSingleRepresentationRestriction","oz-player/strategies/OzPausedStreamSegmentsCountStrategy","oz-player/strategies/OzPlayheadAtInterruptionDetector","oz-player/strategies/OzPlayingStatePriorityStrategy","oz-player/strategies/OzPositionToViewportPriorityStrategy","oz-player/strategies/OzPriorityCalculator","oz-player/strategies/OzSingleCodecRestriction","oz-player/strategies/OzStaleManifestBufferTargetStrategy","oz-player/strategies/OzStartupBufferTargetStrategy","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/OzStreamSegmentsCountCalculator","oz-player/strategies/OzSupportedMimeCodecsRestriction","oz-player/streams/OzEndOfStreamWatcher","oz-player/streams/OzHandleUserRepresentationSwitch","oz-player/streams/OzMediaStream","oz-player/streams/OzPredictedSegmentLocator","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil","oz-player/utils/OzMpdUtils","oz-player/utils/OzPlaybackRestrictionsUtils","oz-player/utils/OzReadableStreamUtils","oz-player/utils/getRepresentationInCache"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){a||c("oz-player/shims/ozvariant")(0,21876);return a}a=function(a){babelHelpers.inheritsLoose(e,a);function e(b){var e;e=a.call(this)||this;e.$Player$p_5=new Map();e.$Player$p_6=new Map();e.$Player$p_9=void 0;e.$Player$p_10=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$Player$p_11=new(c("oz-player/utils/OzErrorEmitter"))();e.$Player$p_12=new(c("oz-player/utils/OzErrorEmitter"))();e.$Player$p_19=void 0;e.$Player$p_25=[];e.$Player$p_26=void 0;e.$Player$p_27=void 0;e.$Player$p_32=null;e.$Player$p_33=null;e.$Player$p_43=null;e.$Player$p_51=!1;e.$Player$p_54=0;e.$Player$p_55=null;e.$Player$p_56=null;e.$Player$p_57=0;e.$Player$p_58=null;e.$Player$p_59=null;e.$Player$p_60=!1;e.$Player$p_63=null;e.$Player$p_64=null;e.$Player$p_70=!1;e.$Player$p_71=!1;e.$Player$p_85=function(){var a=new(c("oz-player/parsers/OzXmlParserImplDOMParser"))();return a};e.$Player$p_87=function(){e.$Player$p_5.forEach(function(a){return a.endStreamIfBufferedToEndTime()})};e.$Player$p_88=function(){e.$Player$p_5.forEach(function(a){return a.endStream("streamGone")})};var f=b.audioOnly;f=f===void 0?!1:f;var g=b.bufferingDetector,h=b.videoNode,i=b.config,j=b.configMap,k=b.rawMpdXml,l=b.mpdUrl;l=l===void 0?null:l;var m=b.loggerConfig;m=m===void 0?{perfLoggerProviders:[],observedOperationLoggers:[],isOzDevConsoleEnabled:!1}:m;var n=b.customVTTBufferTargetStrategies;n=n===void 0?null:n;var o=b.prefetchCache;o=o===void 0?null:o;var p=b.getOverrideOzRequestImplementation;p=p===void 0?null:p;var q=b.getUserSelectedPlaybackRate,r=b.networkRequestStreamHandlers,s=b.networkRequestStreamRetryHandler,t=b.getShouldIncludeCredentials;t=t===void 0?null:t;var u=b.getCustomRequestParametersForURI;u=u===void 0?null:u;var v=b.initialRepresentationIDs;v=v===void 0?[]:v;var w=b.debugCreateInitiator;w=w===void 0?null:w;var x=b.customParsers;x=x===void 0?new Map():x;var y=b.videoPlaybackRestrictions;y=y===void 0?[]:y;var z=b.customSegmentTimelineParser;z=z===void 0?null:z;var A=b.customRepresentationParsers;A=A===void 0?{}:A;var B=b.videoAbrManagerFactory;B=B===void 0?null:B;var C=b.seekHandler;C=C===void 0?null:C;var D=b.initialPlaybackPositionForDynamicMpd;D=D===void 0?-20:D;var E=b.liveheadFallBehindBlockThreshold;E=E===void 0?30:E;var F=b.liveheadFallBehindBlockMargin;F=F===void 0?5.9:F;var G=b.startTimeStamp;G=G===void 0?0:G;var H=b.drmProviders;H=H===void 0?[]:H;var I=b.getVideoDimensions;I=I===void 0?null:I;var J=b.setCustomFetchStreamLoggingAttributes;J=J===void 0?null:J;var K=b.bufferEndLimit;K=K===void 0?null:K;var L=b.configureCustomRequestParametersForSegment;L=L===void 0?null:L;var M=b.isClientTriggeredTraceEnabled;M=M===void 0?!1:M;var N=b.enableImmediateQualityDownSwitch;N=N===void 0?!1:N;b=b.userPreferenceLang;b=b===void 0?null:b;e.$Player$p_1=n;e.$Player$p_49=w;n=m.perfLoggerProviders;w=m.observedOperationLoggers;m=m.isOzDevConsoleEnabled;e.$Player$p_17=m||!1;e.$Player$p_16=new(d("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider)(e.$Player$p_75().concat(n));e.$Player$p_2=f;e.$Player$p_4=(m=i)!=null?m:new(c("oz-player/configs/OzPlayerConfig"))((n=j)!=null?n:{});e.$Player$p_12.onError(function(){});e.$Player$p_22=new(c("oz-player/loggings/OzOperationLoggerObserver"))();e.$Player$p_22.observe(w,e.$Player$p_16);e.$Player$p_16.getOperationLogger("player_initialization").setInitiator("player-"+c("oz-player/shims/OzUuid")()).log();e.$Player$p_53=p;e.$Player$p_28=x;e.$Player$p_67=new(c("oz-player/strategies/OzBlockedRepresentationsManager"))(e.$Player$p_4);e.$Player$p_10.addSubscriptions(e.$Player$p_67.onRepresentationBlocked(function(a){e.emit("representationBlocked",a)}));e.$Player$p_31=[e.$Player$p_67,new(c("oz-player/strategies/OzSupportedMimeCodecsRestriction"))()].concat(y);!e.$Player$p_4.getBool("mcm_in_play_codec_switch")?e.$Player$p_31.push(new(c("oz-player/strategies/OzSingleCodecRestriction"))()):e.$Player$p_31.push(new(c("oz-player/strategies/OzDenseLaneSingleRepresentationRestriction"))());e.$Player$p_29=A;e.$Player$p_30=z;e.$Player$p_35=B;e.$Player$p_36=C;e.$Player$p_37=G;e.$Player$p_38=D;e.$Player$p_41=(f=q)!=null?f:function(){return 1};e.$Player$p_39=E;e.$Player$p_42=F;e.$Player$p_66=K;e.$Player$p_69=M;e.$Player$p_71=N;e.$Player$p_47=H;e.$Player$p_63=J;e.$Player$p_3=h;e.$Player$p_7=new(c("oz-player/media_source/MediaSourceManager"))({videoNode:e.$Player$p_3,config:e.$Player$p_4,perfLoggerProvider:e.$Player$p_16,handleVttCaptionsUpdated:function(a){var b;b=(b=e.$Player$p_5.get("caption"))==null?void 0:(b=b.getCurrentRepresentation())==null?void 0:b.getLang();e.emit("vttCaptionsUpdated",a,b)},onClearVideoNodeError:function(){e.$Player$p_76()},onRetryVideoElementError:function(a){e.emit("videoNodeErrorRetry",a)}});e.$Player$p_7.onError(function(a){e.$Player$p_11.emitError(a)});if(e.$Player$p_4.getBool("clear_on_seek")){i=new(c("oz-player/playback_controls/OzClearSourceBufferOnSeekManager"))(e.$Player$p_3,e.$Player$p_4,e.$Player$p_5,e.$Player$p_16);i.maybeOverwriteVideoCurrentTimeProperty();e.$Player$p_10.addSubscriptions(i.onError(e.$Player$p_11.emitError));e.$Player$p_64=i}e.$Player$p_24=o;m=e.$Player$p_24&&e.$Player$p_24.getCachedRepresentations();e.$Player$p_25=m||v;e.$Player$p_65=new(c("oz-player/manifests/OzDynamicVideoLibrary"))({config:e.$Player$p_4});e.$Player$p_44=r;e.$Player$p_45=t;e.$Player$p_46=u;e.$Player$p_68=L;e.$Player$p_13=new(c("oz-player/networks/OzNetworkManager"))({config:e.$Player$p_4,prefetchCache:e.$Player$p_24,networkRequestStreamHandlers:e.$Player$p_44,getOverrideOzRequestImplementation:e.$Player$p_53,getShouldIncludeCredentials:e.$Player$p_45,getCustomRequestParametersForURI:e.$Player$p_46,networkRequestStreamRetryHandler:s,setCustomFetchStreamLoggingAttributes:e.$Player$p_63,dynamicVideoLibrary:e.$Player$p_65,configureCustomRequestParametersForSegment:e.$Player$p_68,onResourceTimingBufferFull:function(){e.$Player$p_77()}});e.$Player$p_18=l;e.$Player$p_8=k;e.$Player$p_14=new(c("oz-player/states/OzObservedPlaybackState"))(e.$Player$p_4,e.$Player$p_3,e.$Player$p_16);e.$Player$p_52=I;e.$Player$p_15=new(c("oz-player/streams/OzEndOfStreamWatcher"))(e.$Player$p_7,e.$Player$p_4);e.$Player$p_10.addSubscriptions(e.$Player$p_15.addListener("streamEnd",function(){e.$Player$p_51=!0,e.emit("streamEnd")}));e.$Player$p_50=(j=g)!=null?j:e.$Player$p_78();e.$Player$p_4.getNumber("pixels_below_viewport_to_observe")>0&&(e.$Player$p_61=new(c("oz-player/states/OzPositionToViewport"))(e.$Player$p_3,e.$Player$p_4));e.$Player$p_72=b;e.$Player$p_73=null;e.$Player$p_74={lang:null};return e}var f=e.prototype;f.$Player$p_77=function(){if(this.$Player$p_70)return;c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_JAVASCRIPT_NATIVE",description:"ResourceTiming buffer is full"}),"ResourceTiming buffer is full","warn");this.$Player$p_70=!0};f.$Player$p_79=function(a){var b=this;this.$Player$p_80();var c=d("oz-player/loggings/OzLoggingUtils").executeOperationAndLog(this.$Player$p_16.cloneContext().setInitiator(this.$Player$p_49),"parse_manifest",function(e){var f,g,c=b.$Player$p_81(a);f=String((f=c.getCustomField("currentServerTimeMs"))!=null?f:"");g=String((g=c.getCustomField("lastVideoFrameTs"))!=null?g:"");f={currentServerTimeMs:f,ingestLastVideoFrameTs:g,nowMs:String(Date.now())};g=d("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(c,b.$Player$p_4);g=g&&g.endTime!=0?g.endTime:null;e.setLiveheadPosition(g).setLiveheadSeqNumMpd(d("oz-player/utils/OzMpdUtils").getMpdLastSequenceNumber(c)).setManifestType(c.isStaticMpd()?"static":"dynamic").setIsTemplatedManifest(Boolean(c.getCustomField("isLiveTemplated"))).setUserInfo(f);return c});this.$Player$p_82(c)};f.$Player$p_82=function(a){var b=this;this.$Player$p_9=i(a);this.$Player$p_4.getBool("player_emit_mpdparsed_early")&&this.emit("mpdParsed",a);this.$Player$p_26=this.$Player$p_83();this.$Player$p_27=this.$Player$p_84();this.$Player$p_67.setAvailableRepresentationsCount(a.getVideoRepresentations().length);if(this.$Player$p_18!=null){var e=new(c("oz-player/parsers/OzMpdUpdater"))(this.$Player$p_4,a,this.$Player$p_13,this.$Player$p_14,this.$Player$p_16,{mpdUrl:null,createXmlParser:this.$Player$p_85,customParsers:this.$Player$p_28,customRepresentationParsers:this.$Player$p_29,customSegmentTimelineParser:this.$Player$p_30},this.$Player$p_48,this.$Player$p_69);this.$Player$p_86(e);this.$Player$p_10.addSubscriptions(e.onError(this.$Player$p_11.emitError),e.addListener("manifestFetchError",function(a){return b.emit("manifestFetchError",a)}),e.addListener("manifestFetchErrorRetry",function(a){return b.emit("manifestFetchErrorRetry",a)}),e.addListener("streamTransitionToStatic",this.$Player$p_87),e.addListener("streamGone",this.$Player$p_88));e.setupUpdateLoop();this.$Player$p_21=e}this.$Player$p_4.getBool("use_live_latency_manager")?!a.isStaticMpd()?(this.$Player$p_40=new(c("oz-player/playback_controls/OzLiveLatencyManager"))({config:this.$Player$p_4,mpd:a,playbackState:this.$Player$p_14,bufferingDetector:this.$Player$p_50,video:this.$Player$p_3,loggerProvider:this.$Player$p_16,getUserSelectedPlaybackRate:this.$Player$p_41}),this.$Player$p_37=this.$Player$p_40.getPreferredLiveHeadLatencySec()*-1):this.$Player$p_37=this.$Player$p_37:this.$Player$p_37=a.isStaticMpd()?this.$Player$p_37:this.$Player$p_89(a);this.$Player$p_19=new(c("oz-player/playback_controls/OzPlayheadManager"))({video:this.$Player$p_3,mpd:a,dynamicVideoLibrary:this.$Player$p_65,playheadCatchup:this.$Player$p_34,playbackState:this.$Player$p_14,config:this.$Player$p_4,perfLoggerProvider:this.$Player$p_16,seekHandler:this.$Player$p_36,initialPlaybackPosition:this.$Player$p_37,canSupportSkipVideobufferGaps:(e=(e=this.$Player$p_64)==null?void 0:e.getCurrentTimePropertyOverwriteSuccess())!=null?e:!1,liveLatencyManager:this.$Player$p_40});this.$Player$p_20=new(c("oz-player/playback_controls/OzPlaybackTimeRangeManager"))({config:this.$Player$p_4,video:this.$Player$p_3,mpd:a,liveheadFallBehindBlockThreshold:this.$Player$p_39,liveheadFallBehindBlockMargin:this.$Player$p_42,playbackState:this.$Player$p_14,perfLoggerProvider:this.$Player$p_16});this.$Player$p_90()["catch"](function(a){var e=d("oz-player/utils/OzErrorUtils").isOzError(a)?a:null;b.$Player$p_11.emitError(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Failed to setup streams: "+String(a),extra:babelHelpers["extends"]({},e==null?void 0:e.getExtra(),{originalError:a,code:c("oz-player/utils/OzCustomErrorCode").SETUP_STREAMS_PROMISE_REJECTION.toString()})}))});this.emit("mpdReady",a)};f.load=function(a){var b=this;this.$Player$p_18=a;try{var c=this.$Player$p_8;c!=null?this.$Player$p_79(c):a!=null?this.$Player$p_91(a).then(function(a){if(b.$Player$p_60){b.$Player$p_60=!1;b.load(b.$Player$p_18);return}b.$Player$p_8=a;b.$Player$p_54=0;b.$Player$p_79(a)})["catch"](function(c){if(b.$Player$p_60){b.$Player$p_60=!1;b.load(b.$Player$p_18);return}var e=d("oz-player/utils/OzErrorUtils").isOzError(c)?c:null;e=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Failed to setup player with fetched MPD: "+String(c),extra:babelHelpers["extends"]({},e==null?void 0:e.getExtra(),{originalError:c,url:a})});b.$Player$p_92(e,a)}):this.$Player$p_11.emitError(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Cannot start Oz without a raw mpd xml or mpd url"}))}catch(a){c=d("oz-player/utils/OzErrorUtils").isOzError(a)?a:null;this.$Player$p_11.emitError(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Failed to setup player: "+String(a),extra:babelHelpers["extends"]({},c==null?void 0:c.getExtra(),{originalError:a})}))}};f.$Player$p_89=function(a){var b;b=(b=a.getVideoRepresentations()[0].getMaxGopSec())!=null?b:0;a=(a=a.getVideoRepresentations()[0].getEndingSegment())==null?void 0:a.getTimeRange();a=a!=null?a.endTime-a.startTime:0;a>0&&(b=a);return Math.min(this.$Player$p_38+this.$Player$p_4.getNumber("dynamic_mpd_initial_playback_position_offset_modifier"),-1*b*this.$Player$p_4.getNumber("pdash_download_cursor_catchup_threshold_gop_multiplier"))};f.$Player$p_91=function(a){this.$Player$p_54++;a=this.$Player$p_13.requestRawUrl({debugName:"OzPlayer/fetchMpdXml/mpd",url:a,options:null,loggerProvider:this.$Player$p_16});a=a.getStream().getReader();return d("oz-player/utils/OzReadableStreamUtils").pumpString(a)};f.$Player$p_93=function(){this.$Player$p_55!=null&&(c("oz-player/shims/ozClearTimeout")(this.$Player$p_55),this.$Player$p_55=null)};f.$Player$p_92=function(a,b){var d=this,e=!0,f=this.$Player$p_54-1,g=a.getExtra().code;this.$Player$p_56!==g?(this.$Player$p_56=g,this.$Player$p_57=1):this.$Player$p_57++;var h=function(){e=!1};g={endStream:function(){h(),d.$Player$p_51=!0,d.emit("streamGoneBeforeStart")},consecutiveFailuresForErrorCode:this.$Player$p_57,error:a,isInitialRequest:!0,retry:function(a){h(),d.$Player$p_93(),d.$Player$p_55=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){d.$Player$p_93(),d.load(b)},(a==null?void 0:a.waitMs)!=null?a==null?void 0:a.waitMs:1e3)},retryAttemptCount:f};this.$Player$p_4.getNumber("initial_manifest_request_retry_count")>0&&this.emit("manifestFetchError",g);e&&this.$Player$p_11.emitError(a)};f.updatePlayerRunTimeConfig=function(a){var b=a.manifestUrl,c=a.audioStreamDataHandler,d=a.videoStreamDataHandler,e=a.applicationStreamDataHandler;a=a.resetStreamAnchor;if(d!==void 0){var f=this.$Player$p_5.get("video");f&&f.updateRunTimeConfigs({streamDataHandler:d})}if(a!==void 0){f=this.$Player$p_5.get("video");f&&f.updateRunTimeConfigs({resetStreamAnchor:a});d=this.$Player$p_5.get("audio");d&&d.updateRunTimeConfigs({resetStreamAnchor:a});(f=this.$Player$p_19)==null?void 0:f.resetCurrentTime()}if(c!==void 0){d=this.$Player$p_5.get("audio");d&&d.updateRunTimeConfigs({streamDataHandler:c})}if(e!==void 0){f=this.$Player$p_5.get("caption");f&&f.updateRunTimeConfigs({streamDataHandler:e,resetStreamAnchor:a})}b!=null&&b!==""&&this.$Player$p_94(b)};f.$Player$p_95=function(a,b){var c=this,e=a.getMimeCodecs();e=this.$Player$p_7.createSourceBufferManager(b+"/"+a.getMimeType()+"/"+a.getCodecs(),e,b,a.getInitSegment().getData());this.$Player$p_96(e,b,a);a=e.then(function(a){c.$Player$p_50&&b!=="caption"&&c.$Player$p_50.setSourceBufferState(b,a.getSourceBufferState());return a});d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,this.$Player$p_16,"source_attach",function(a){a.setType(b)});return a.then(function(a){if(b!=="caption"){var d;(d=c.$Player$p_19)==null?void 0:d.observeSourceBufferState(a.getSourceBufferState(),b)}})};f.isDrm=function(){var a=this.$Player$p_48;if(a!=null){a=a.hasContentProtections();return a!=null?a:!1}return!1};f.$Player$p_80=function(){var a=this.$Player$p_47;if(a.length>0){var b=this.$Player$p_48=new(d("oz-player/drm/OzDrmManager").OzDrmManager)(this.$Player$p_16,this.$Player$p_3,{maxStartEMEAttempts:this.$Player$p_4.getNumber("max_start_eme_attempts"),throwNoLicenseError:!0});a.forEach(function(a){b.addProvider(a)});this.$Player$p_10.addSubscriptions(b.onError(this.$Player$p_11.emitError))}};f.$Player$p_97=function(a){var b=this,d=i(this.$Player$p_9);a=[this.$Player$p_4,a,this.$Player$p_98(),this.$Player$p_31,this.$Player$p_14,window.devicePixelRatio||1,function(){return b.$Player$p_99()},d.isStaticMpd()?"static":"dynamic",this.$Player$p_16];d=this.$Player$p_35&&this.$Player$p_35.apply(this,a);return(d=d)!=null?d:babelHelpers.construct(c("oz-player/strategies/OzAbrManager"),a)};f.$Player$p_100=function(a){return a==="caption"?!0:!1};f.$Player$p_96=function(a,b,e){var f=this,g=i(this.$Player$p_9),h=this.$Player$p_6.get(b),j=new(c("oz-player/streams/OzMediaStream"))({config:this.$Player$p_4,sourceBufferManagerPromise:a,networkManager:this.$Player$p_13,playbackState:this.$Player$p_14,endOfStreamWatcher:b!=="caption"?this.$Player$p_15:null,bufferTargetCalculator:this.$Player$p_101(b),priorityCalculator:this.$Player$p_102(),streamSegmentsCountCalculator:this.$Player$p_103(b),abrManager:h,representation:e,loggerProvider:this.$Player$p_16.cloneContext().setType(b),segmentLocator:this.$Player$p_62,setCustomFetchStreamLoggingAttributes:this.$Player$p_63,blockedRepresentationsManager:this.$Player$p_67,dynamicVideoLibrary:this.$Player$p_65,shouldAppendOncePerStream:this.$Player$p_100(b),mediaStreamType:b,warningEmitter:this.$Player$p_12,mpd:g});this.$Player$p_37===0?j.start():(i(this.$Player$p_9),this.$Player$p_19&&this.$Player$p_10.addSubscriptions(this.$Player$p_19.addListener("initialPlaybackPositionSet",function(){j.start()})));this.$Player$p_10.addSubscriptions(j.onError(this.$Player$p_11.emitError));this.$Player$p_23&&this.$Player$p_10.addSubscriptions(this.$Player$p_23.listenToMediaStreamInitAppended(j));b==="video"&&(this.$Player$p_33=new(c("oz-player/streams/OzHandleUserRepresentationSwitch"))(this.$Player$p_4,this.$Player$p_14,d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player$p_31,this.$Player$p_99(),this.$Player$p_98()),j,a,this.$Player$p_71),this.$Player$p_10.addSubscriptions(this.$Player$p_33.onError(this.$Player$p_11.emitError)));this.$Player$p_5.set(b,j);this.$Player$p_10.addSubscriptions(j.addListener("switchRepresentation",function(){var c,a=j.getCurrentRepresentation();(c=f.$Player$p_23)==null?void 0:c.setTimeRangeProvider(a);(c=f.$Player$p_19)==null?void 0:c.setTimeRangeProvider(a);(c=f.$Player$p_20)==null?void 0:c.setTimeRangeProvider(a);b==="video"&&f.emit("switchVideoRepresentation")}),j.addListener("SegmentAppended",function(a){f.$Player$p_104("SegmentAppended",a)}),j.addListener("streamError",function(a){f.emit("streamError",a)}),j.addListener("streamErrorRetry",function(a){f.emit("streamErrorRetry",a)}))};f.$Player$p_105=function(){if(this.$Player$p_66!=null)return[new(c("oz-player/strategies/OzBufferEndLimitStrategy"))(this.$Player$p_3,this.$Player$p_66)];else return[new(c("oz-player/strategies/OzStaleManifestBufferTargetStrategy"))(i(this.$Player$p_9),this.$Player$p_4),new(c("oz-player/strategies/OzStartupBufferTargetStrategy"))(this.$Player$p_14,this.$Player$p_4),new(c("oz-player/strategies/OzBufferAheadTargetStrategy"))(this.$Player$p_4)]};f.$Player$p_106=function(){return this.$Player$p_66==null?[new(c("oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint"))({config:this.$Player$p_4,minimumBufferTargetSec:this.$Player$p_4.getNumber("buffer_target_constraint_minimum_sec")})]:[]};f.$Player$p_107=function(){return this.$Player$p_66==null?[new(c("oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint"))({config:this.$Player$p_4,minimumBufferTargetSec:0})]:[]};f.$Player$p_83=function(){return new(c("oz-player/strategies/OzBufferTargetCalculator"))(this.$Player$p_105(),this.$Player$p_106())};f.$Player$p_84=function(){return this.$Player$p_1!=null?new(c("oz-player/strategies/OzBufferTargetCalculator"))([].concat(this.$Player$p_1,this.$Player$p_105()),this.$Player$p_107()):this.$Player$p_83()};f.$Player$p_101=function(a){var b=a==="caption"?this.$Player$p_27:this.$Player$p_26;b||c("oz-player/shims/ozvariant")(0,76764,a);return b};f.$Player$p_86=function(a){var b=this;if(this.$Player$p_4.getNumber("stream_interrupt_check_mpd_stale_count_threshold")>0){var d=this.$Player$p_50,e=new(c("oz-player/strategies/OzPlayheadAtInterruptionDetector"))(this.$Player$p_3,d);this.$Player$p_10.addSubscriptions(e.addListener("playheadAtInterruption",function(a){b.$Player$p_16.getOperationLogger("stream_interrupted").log(),b.emit("streamInterruptAt",a)}),a.addListener("streamInterruptAt",function(a){var c;(c=b.$Player$p_50)==null?void 0:c.notifyStreamInterrupted();e.notifyStreamInterrupted(a)}),a.addListener("streamResumedAt",function(a){var c;b.$Player$p_16.getOperationLogger("stream_resumed").log();(c=b.$Player$p_50)==null?void 0:c.notifyStreamResumed();e.notifyStreamResumed();b.emit("streamResumedAt",a)}));this.$Player$p_32=e}};f.$Player$p_102=function(){var a=[new(c("oz-player/strategies/OzPlayingStatePriorityStrategy"))(this.$Player$p_14),new(c("oz-player/strategies/OzBufferAheadPriorityStrategy"))(this.$Player$p_4,this.$Player$p_14)].concat(this.$Player$p_4.getNumber("pixels_below_viewport_to_observe")>0&&this.$Player$p_61!=null?new(c("oz-player/strategies/OzPositionToViewportPriorityStrategy"))(this.$Player$p_61,this.$Player$p_4):[]);return new(c("oz-player/strategies/OzPriorityCalculator"))(a)};f.$Player$p_103=function(a){var b=[new(c("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(this.$Player$p_4),new(c("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy"))(this.$Player$p_101(a),this.$Player$p_4)];this.$Player$p_4.getNumber("paused_stream_segments_count")!==0&&b.push(new(c("oz-player/strategies/OzPausedStreamSegmentsCountStrategy"))(this.$Player$p_14,this.$Player$p_4));a==="video"&&b.push(new(c("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy"))(this.$Player$p_4,this.$Player$p_98()));return new(c("oz-player/strategies/OzStreamSegmentsCountCalculator"))(b)};f.onError=function(a){return this.$Player$p_11.onError(a)};f.onWarning=function(a){return this.$Player$p_12.onError(a)};f.getSelectedVideoQuality=function(){var a=this.$Player$p_9;if(!a||this.$Player$p_2)return"";a=this.$Player$p_5.get("video");a=a&&a.getCurrentRepresentation();if(a instanceof c("oz-player/manifests/OzVideoRepresentation"))return a.getDisplayLabel();a=this.$Player$p_98();a=a[0];if(a)return a.getDisplayLabel();a||c("oz-player/shims/ozvariant")(0,19857);return""};f.getTargetAudioTrack=function(){var a=this.$Player$p_9;if(!a)return null;a=this.$Player$p_5.get("audio");a=a&&a.getCurrentRepresentation();if(a){var b;return{id:a.getID(),displayLabel:a.getDisplayLabel(),lang:(b=a.getLang())!=null?b:null,role:a.getRole()}}b=this.$Player$p_108();a=b[0];return a?a.getAudioTrack():null};f.getCurrentPlayingVideoVariant=function(){return this.$Player$p_73};f.getTargetVideoVariant=function(){return this.$Player$p_74};f.switchToVideoQuality=function(a){var b=this.$Player$p_98().find(function(b){return b.getDisplayLabel()===a});if(b){var c=this.$Player$p_5.get("video");c&&(c.switchRepresentation(b),c.disableAdaptation())}};f.switchToVideoVariant=function(a){this.$Player$p_74=a===null?{lang:null}:a;if(this.$Player$p_74.lang===((a=this.$Player$p_73)==null?void 0:a.lang)){c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchToVideoVariant switch to the same lang: "+((a=this.$Player$p_74.lang)!=null?a:"default lang")}),"switchToVideoVariant switch to the same lang: "+((a=this.$Player$p_74.lang)!=null?a:"default lang"),"warn");return}else if(!this.$Player$p_9){c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchToVideoVariant mpd is void"}),"switchToVideoVariant mpd is void","warn");return}else if(!this.$Player$p_109(this.$Player$p_74.lang)){c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchToVideoVariant lang not exist in mpd: "+((a=this.$Player$p_74.lang)!=null?a:"default lang")}),"switchToVideoVariant lang not exist in mpd: "+((a=this.$Player$p_74.lang)!=null?a:"default lang"),"warn");return}this.$Player$p_110();this.$Player$p_4.getBool("enable_lip_sync_abr_select_quality")&&this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&this.$Player$p_4.getBool("mcm_in_play_codec_switch")&&this.$Player$p_111();this.$Player$p_73=this.$Player$p_74};f.$Player$p_110=function(){var a=this.$Player$p_108().find(function(a){return a.getRole()!=="description"});if(a){var b=this.$Player$p_5.get("audio");b&&(b.switchRepresentation(a,[0,this.$Player$p_14.getDuration()]),b.disableAdaptation())}};f.$Player$p_111=function(){var a=this.$Player$p_5.get("video");if(!a)return;var b=a.getCurrentRepresentation();if(b.getLang()===this.$Player$p_74.lang)return;b=this.$Player$p_98();if(b.length===0){c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchVideoByTargetVariant no representations with target variant: "+JSON.stringify(this.$Player$p_74)}),"switchVideoByTargetVariant no representations with target variant: "+JSON.stringify(this.$Player$p_74),"warn");return}var e=this.$Player$p_6.get("video");e?(e.updateRepresentations(b),e=e.getBestRepresentation()):e=b[0];if(!e){c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchVideoByTargetVariant unable to update representations given target variant: "+JSON.stringify(this.$Player$p_74)}),"switchVideoByTargetVariant unable to update representations given target variant: "+JSON.stringify(this.$Player$p_74));return}a.switchRepresentation(e,[0,this.$Player$p_14.getDuration()]);return};f.getIsVideoQualityAdaptationEnabled=function(){var a=this.$Player$p_5.get("video");return a?a.getIsAdaptationEnabled():!1};f.enableVideoQualityAdaptation=function(){var a=this.$Player$p_5.get("video");a&&a.enableAdaptation()};f.getVideoQualities=function(){var a=this,b=this.$Player$p_9;return!b?[]:this.$Player$p_98().filter(function(b){var c;return!((c=a.$Player$p_67)==null?void 0:c.isBlocked(b.getID()))}).map(function(a){return a.getDisplayLabel()})};f.getVideoTracks=function(){var a=this,b=this.$Player$p_9;return!b?[]:this.$Player$p_98().filter(function(b){var c;return!((c=a.$Player$p_67)==null?void 0:c.isBlocked(b.getID()))}).map(function(a){return{codecFamily:d("oz-player/utils/OzMimeUtil").getParsedCodecFamily(a.getMimeCodecs()),displayLabel:a.getDisplayLabel(),qualityLabel:a.getDisplayLabel(),height:a.getHeight(),id:a.getID(),qualityScore:a.getQualityScore("csvqm"),width:a.getWidth()}})};f.getAudioTracks=function(){var a=this,b=this.$Player$p_9;return!b?[]:b.getAudioRepresentations().filter(function(b){var c;return!((c=a.$Player$p_67)==null?void 0:c.isBlocked(b.getID()))}).map(function(a){return a.getAudioTrack()})};f.setEnableLiveheadCatchup=function(a){if(this.$Player$p_20){var b;a?this.$Player$p_16.getOperationLogger("live_catchup_enabled").setIsLatencyCachupEnabled(!0).log():this.$Player$p_16.getOperationLogger("live_catchup_disabled").setIsLatencyCachupEnabled(!1).log();(b=this.$Player$p_20)==null?void 0:b.setTimelineBlockingEnabled(a)}this.$Player$p_5.forEach(function(b){b.setEnableLiveheadCatchup(a)});(b=this.$Player$p_19)==null?void 0:b.setEnableLiveheadCatchup(a)};f.$Player$p_90=function(){var a=this;if(this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&this.$Player$p_109(this.$Player$p_72)){var c;this.$Player$p_74=babelHelpers["extends"]({},this.$Player$p_74,{lang:(c=this.$Player$p_72)!=null?c:null})}c=this.$Player$p_98()[0];this.$Player$p_62=c&&c.canPredict()&&this.$Player$p_4.getBool("pdash_use_pdash_segmentlocator")||c&&c.canApproximateId()?new(d("oz-player/streams/OzPredictedSegmentLocator").OzPredictedSegmentLocator)({videoNode:this.$Player$p_3,liveLatencyManager:this.$Player$p_40,loggerProvider:this.$Player$p_16,dynamicVideoLibrary:this.$Player$p_65}):null;c=this.$Player$p_2?[this.$Player$p_112({liveConfigsFromAudioStream:!0}),this.$Player$p_113()]:[this.$Player$p_114(),this.$Player$p_112({liveConfigsFromAudioStream:!1}),this.$Player$p_113()];var e=[];return(h||(h=b("Promise"))).all(c).then(function(){var b=a.$Player$p_5.get("video"),c=a.$Player$p_5.get("audio"),d=a.$Player$p_5.get("caption");b&&e.push(b.getCurrentRepresentation());c&&e.push(c.getCurrentRepresentation());d&&e.push(d.getCurrentRepresentation());e.forEach(function(b){a.$Player$p_10.addSubscriptions(b.addUpdateListener(function(){a.$Player$p_104("SegmentIndexesUpdated",e)}))});a.$Player$p_104("InitialSegmentIndexes",e);a.$Player$p_3&&a.$Player$p_3.style&&(a.$Player$p_3.style.display=a.$Player$p_2?"none":"block");a.$Player$p_73=a.$Player$p_74;a.emit("initialized")})};f.$Player$p_115=function(a){if(!a.getTimeRanges().length){this.$Player$p_16.getOperationLogger("playhead_adjustment").setInitiator("setup_initial_duration").setResult("failed").log();return}a=a.getTimeRanges()[a.getTimeRanges().length-1].endTime;this.$Player$p_7.updateDuration(a,!0)};f.$Player$p_116=function(a){var b;this.$Player$p_23=new(c("oz-player/media_source/OzMediaSeekableRangeManager"))(this.$Player$p_7,this.$Player$p_4);this.$Player$p_115(a);(b=this.$Player$p_23)==null?void 0:b.setTimeRangeProvider(a);(b=this.$Player$p_19)==null?void 0:b.setTimeRangeProvider(a);(b=this.$Player$p_20)==null?void 0:b.setTimeRangeProvider(a)};f.$Player$p_114=function(){var a=this.$Player$p_98();if(!a.length)return c("oz-player/shims/OzMaybeNativePromise").reject(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"No video representations in the manifest",extra:{code:c("oz-player/utils/OzCustomErrorCode").SETUP_STREAMS_PROMISE_REJECTION.toString()}}));var b=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player$p_31,this.$Player$p_99(),a);if(!b.length){a=a.map(function(a){return a.getDisplayLabel()+"@"+a.getWidth()+"x"+a.getHeight()+"("+a.getMimeCodecs()+")"});return c("oz-player/shims/OzMaybeNativePromise").reject(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Restricted all video representations: "+a.join(", "),extra:{code:c("oz-player/utils/OzCustomErrorCode").SETUP_STREAMS_PROMISE_REJECTION.toString()}}))}this.$Player$p_116(b[0]);a=this.$Player$p_117(b);a&&this.$Player$p_4.getBool("enable_abr_logging")&&this.$Player$p_16.getOperationLogger("video_stream_setup_initial_representation_from_prefetch").setResult("success").setReason("player_initialized").setRepresentationID(a.getID()).setPreviousRepresentationID(null).setUserInfo({initialRepresentationIDs:JSON.stringify(this.$Player$p_25)}).setType("video").setInitiator("Player").log();var e=this.$Player$p_97(a||b[0]);this.$Player$p_6.set("video",e);a||(a=e.getBestRepresentation());return this.$Player$p_95(a||b[0],"video")};f.$Player$p_98=function(){var a=this.$Player$p_9;if(!a)return[];if(this.$Player$p_4.getBool("enable_lip_sync_abr_select_quality")&&this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&this.$Player$p_4.getBool("mcm_in_play_codec_switch")){var b=a.getVideoRepresentationsByVariant(this.$Player$p_74);return b.length>0?b:a.getVideoRepresentationsByVariant({lang:null})}return a.getVideoRepresentations()};f.$Player$p_108=function(){var a=this.$Player$p_9;if(!a)return[];return this.$Player$p_4.getBool("enable_alternative_audio_tracks")?a.getAudioRepresentationsByVariant(this.$Player$p_74):a.getAudioRepresentations()};f.$Player$p_109=function(a){var b=this.$Player$p_9;if(!b)return!1;var c=b.getAudioRepresentations();if(a==null)return!0;if(this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&b.isStaticMpd()){b=c.findIndex(function(b){return b.getLang()===a});return b>-1}return!1};f.$Player$p_112=function(a){var b=this;a=a.liveConfigsFromAudioStream;a=a===void 0?!1:a;var d=i(this.$Player$p_9),e=d.getAudioRepresentations();a&&this.$Player$p_116(e[0]);a=-1;this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&e.length>1&&d.isStaticMpd()&&(this.$Player$p_72!=null&&(a=e.findIndex(function(a){return a.getLang()===b.$Player$p_72})));if(e.length){d=a>-1?a:e.findIndex(function(a){return a.getLang()==null&&a.getRole()==null});d=d>-1?d:0;return this.$Player$p_95(a>=0&&a<e.length?e[a]:this.$Player$p_118(e)||e[d],"audio")}return c("oz-player/shims/OzMaybeNativePromise").resolve()};f.$Player$p_113=function(){var a=i(this.$Player$p_9);a=a.getApplicationRepresentations();return a.length?this.$Player$p_95(this.$Player$p_119(a)||a[0],"caption"):c("oz-player/shims/OzMaybeNativePromise").resolve()};f.getMpd=function(){return this.$Player$p_9};f.destroy=function(a){var c,d,e=this;a=this.$Player$p_16.getOperationLogger("unload").setInitiator(a).start();(c=this.$Player$p_64)==null?void 0:c.destroy();this.$Player$p_93();this.$Player$p_5.forEach(function(a){a.destroy()});this.$Player$p_33&&(this.$Player$p_33.destroy(),this.$Player$p_33=null);this.$Player$p_5=new Map();this.$Player$p_10.release();this.$Player$p_10.engage();this.$Player$p_14.destroy();this.$Player$p_19&&this.$Player$p_19.destroy();this.$Player$p_40&&(this.$Player$p_40.destroy(),this.$Player$p_40=null);this.$Player$p_20&&(this.$Player$p_20.destroy(),this.$Player$p_20=null);this.$Player$p_48&&this.$Player$p_48.destroy();this.$Player$p_61&&this.$Player$p_61.destroy();this.$Player$p_13&&this.$Player$p_13.destroy();this.$Player$p_52&&(this.$Player$p_52=null);this.$Player$p_7&&this.$Player$p_7.detach();c=(h||(h=b("Promise"))).resolve();this.$Player$p_3.pause();this.$Player$p_3.removeAttribute("src");this.$Player$p_3.removeAttribute("srcObject");"function"===typeof this.$Player$p_3.setMediaKeys&&(c=this.$Player$p_3.setMediaKeys(null));this.$Player$p_21&&this.$Player$p_21.destroy();this.$Player$p_32&&this.$Player$p_32.destroy();this.$Player$p_22.destroy();(d=this.$Player$p_23)==null?void 0:d.destroy();this.$Player$p_50&&this.$Player$p_50.destroy();this.$Player$p_67&&this.$Player$p_67.destroy();a.log();this.emit("destroyed");d=[c];return h.all(d).then(function(){e.$Player$p_3.load()})};f.$Player$p_117=function(a){var b=this,d;d=a.find(function(a){return b.$Player$p_25.indexOf(a.getID())!==-1});d||(d=c("oz-player/utils/getRepresentationInCache")(a,this.$Player$p_24));return d||null};f.$Player$p_118=function(a){var b=this,d;d=a.find(function(a){return b.$Player$p_25.indexOf(a.getID())!==-1});d||(d=c("oz-player/utils/getRepresentationInCache")(a,this.$Player$p_24));return d||null};f.$Player$p_119=function(a){return null};f.$Player$p_81=function(a){var b=new(c("oz-player/parsers/OzMpdParser"))({config:this.$Player$p_4,ozParserContext:{mpdUrl:this.$Player$p_18,createXmlParser:this.$Player$p_85,customParsers:this.$Player$p_28,customRepresentationParsers:this.$Player$p_29,customSegmentTimelineParser:this.$Player$p_30},networkManager:this.$Player$p_13,perfLoggerProvider:this.$Player$p_16,drmManager:this.$Player$p_48,initialRepresentationIDs:this.$Player$p_25,blockedRepresentationsManager:this.$Player$p_67,enableAlternativeAudioTracks:this.$Player$p_4.getBool("enable_alternative_audio_tracks")});a=b.parse(a);this.$Player$p_10.addSubscriptions(b.onError(this.$Player$p_11.emitError));return a};f.$Player$p_75=function(){var a=[];this.$Player$p_17&&a.push(new(d("oz-player/loggings/OzDevConsolePerfLogger").OzDevConsolePerfLoggerProvider)());return a};f.$Player$p_120=function(a,b){b=this.$Player$p_5.get(b);return b?b.getRepresentationIDAtTime(a):null};f.getAudioRepresentationIDAtTime=function(a){return this.$Player$p_120(a,"audio")};f.getVideoRepresentationIDAtTime=function(a){return this.$Player$p_120(a,"video")};f.getCurrentVideoRepresentation=function(){return this.$Player$p_121("video")};f.getCurrentAudioRepresentation=function(){return this.$Player$p_121("audio")};f.getCurrentPlayingAudioTrackID=function(){var a=this.getCurrentAudioRepresentation();return a==null?void 0:a.getID()};f.$Player$p_121=function(a){var b=this.$Player$p_120(this.$Player$p_14.getCurrentTime(),a),c=this.$Player$p_9;if(!c)return null;c=[];a==="audio"?c=this.$Player$p_108():a==="video"&&(c=this.$Player$p_98());return(a=c.find(function(a){return a.getID()===b}))!=null?a:null};f.getSelectedVideoRepresentation=function(){var a=this.$Player$p_5.get("video");return a!=null?a.getCurrentRepresentation():null};f.getSelectedAudioRepresentation=function(){var a=this.$Player$p_5.get("audio");return a!=null?a.getCurrentRepresentation():null};f.getDebug=function(){var a=this,b=this.$Player$p_5.get("video"),c=this.$Player$p_5.get("audio"),d=this.$Player$p_5.get("caption"),e,f,g,h,j,k,l;if(b){var m;e=(m=b.getDebug())==null?void 0:m.MediaStreamAbrManager;f=(m=b.getDebug())==null?void 0:m.SourceBufferManager;if(f){g=(m=f.getDebug())==null?void 0:m.SourceBuffer}}if(c){h=(m=c.getDebug())==null?void 0:m.SourceBufferManager;if(h){j=(m=h.getDebug())==null?void 0:m.SourceBuffer}}if(d){k=(m=d.getDebug())==null?void 0:m.SourceBufferManager;if(k){l=(m=k.getDebug())==null?void 0:m.SourceBuffer}}return{getManifest:function(){return i(a.$Player$p_9)},DashManifestParsed:this.$Player$p_9,VideoSourceStream:b,VideoAbrManager:e,VideoBufferManager:f,VideoSourceBuffer:g,AudioSourceStream:c,AudioBufferManager:h,AudioSourceBuffer:j,CaptionSourceStream:d,CaptionBufferManager:k,CaptionSourceBuffer:l}};f.injectExternalDebugEvent=function(a,b){this.$Player$p_104(a,b)};f.$Player$p_104=function(a,b){this.emit("debug/dashPlayerEvent",{detail:{type:a,event:b}})};f.$Player$p_78=function(){var a=this,b=new(c("oz-player/strategies/OzBufferingDetector"))(this.$Player$p_3,this.$Player$p_4.getLegacyConfig(),function(){return a.$Player$p_51?a.$Player$p_3.duration:Infinity});b.attachPerfLoggerProvider(this.$Player$p_16);this.$Player$p_10.addSubscriptions(b.addListener("enterBuffering",function(b){a.emit("enterBuffering",b)}),b.addListener("leaveBuffering",function(b){a.emit("leaveBuffering",b)}));return b};f.$Player$p_99=function(){var a=this.$Player$p_52?this.$Player$p_52():{width:this.$Player$p_3.offsetWidth,height:this.$Player$p_3.offsetHeight};return a};f.getMpdUrl=function(){return this.$Player$p_18};f.$Player$p_94=function(a){var b=this;this.$Player$p_18=a;var c=this.$Player$p_9;if(!c){this.$Player$p_60=!0;return}else{c.updateLocation(a);this.$Player$p_43&&(this.$Player$p_10.releaseOne(this.$Player$p_43),this.$Player$p_43=null);a=function(){b.$Player$p_43&&(b.$Player$p_10.releaseOne(b.$Player$p_43),b.$Player$p_43=null),b.$Player$p_5.forEach(function(a,d){var e=a.getCurrentRepresentation(),f=e.getDisplayLabel();e=(d==="video"?b.$Player$p_98():c.getAudioRepresentations()).slice();if(d==="video"){d=b.$Player$p_6.get(d);d&&d.updateRepresentations(b.$Player$p_98())}d=e[0];e.forEach(function(a){var b=a.getDisplayLabel();b===f&&(d=a)});a.switchRepresentation(d);a.restartLoopBody()})};this.$Player$p_43=c.addListener("updated",a);this.$Player$p_10.addSubscriptions(this.$Player$p_43)}};f.getPerfLoggerProvider=function(){return this.$Player$p_16};f.getApproximateFBLSToPlayerDisplayLatency=function(){var a,b;a=Number((a=(a=this.$Player$p_9)==null?void 0:a.getCustomField("lastVideoFrameTs"))!=null?a:void 0);b=Number((b=(b=this.$Player$p_9)==null?void 0:b.getCustomField("currentServerTimeMs"))!=null?b:void 0);var c=this.$Player$p_122(a,b);a=this.$Player$p_123(a,b);return{latencyFromClockSync:a,latencyFromMpdUpdate:c}};f.$Player$p_122=function(a,b){if(!this.$Player$p_14.getCurrentTime()||isNaN(a)||isNaN(b))return null;b=0;this.$Player$p_58===a?b=(c("oz-player/shims/OzPerformance").now()-Number(this.$Player$p_59))/1e3:(this.$Player$p_59=c("oz-player/shims/OzPerformance").now(),this.$Player$p_58=a);a=a/1e3+b-this.$Player$p_14.getCurrentTime();return a};f.$Player$p_123=function(a,b){var d;if(!this.$Player$p_14.getCurrentTime()||isNaN(a)||isNaN(b)||c("oz-player/networks/OzClientClock").getClientClockOffsetMs()==null||!c("oz-player/networks/OzClientClock").getClientClockOffsetMs())return null;d=this.$Player$p_14.getCurrentTimeUpdateTime()+((d=c("oz-player/networks/OzClientClock").getClientClockOffsetMs())!=null?d:0);b=b;var e=this.$Player$p_14.getCurrentTime()*1e3;a=a;d=(d-b-(e-a))/1e3;return d};f.$Player$p_76=function(){this.$Player$p_5.forEach(function(a){a.restartLoopBody();var b=a.getCurrentRepresentation();a.switchRepresentation(b)})};return e}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player",["oz-player/Player"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/Player")}),98);